"use strict";(self.webpackChunksecurosys_docs=self.webpackChunksecurosys_docs||[]).push([[56026],{18390:(e,t,s)=>{s.d(t,{A:()=>i});const i=s.p+"assets/images/Enable-cert-templates-a6585bdc3f483196e3aee982796d8f8b.png"},20464:(e,t,s)=>{s.d(t,{A:()=>i});const i=s.p+"assets/images/certsrv-cert-templates-1c48cb93b892958a155da5e448f997df.png"},28453:(e,t,s)=>{s.d(t,{R:()=>o,x:()=>a});var i=s(96540);const r={},n=i.createContext(r);function o(e){const t=i.useContext(n);return i.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),i.createElement(n.Provider,{value:t},e.children)}},54117:(e,t,s)=>{s.d(t,{A:()=>i});const i=s.p+"assets/images/certsrv-manage-bd276af3875a8eee99fabff03642eff3.png"},60378:(e,t,s)=>{s.d(t,{A:()=>i});const i=s.p+"assets/images/Properties-New-Template-Cryptography-c41964a6f5fc72b506dc75910e221e3e.png"},66825:(e,t,s)=>{s.d(t,{A:()=>i});const i=s.p+"assets/images/Properties-New-Template-Issueance-Requirements-b6f3ceee87e99949bc1dec456d5b1ecd.png"},71968:(e,t,s)=>{s.r(t),s.d(t,{assets:()=>c,contentTitle:()=>a,default:()=>p,frontMatter:()=>o,metadata:()=>i,toc:()=>l});const i=JSON.parse('{"id":"Tutorials/Deploying-cert-template","title":"Deploying Certificate Templates for AD CS","description":"Deploying Certificate Templates for Microsoft AD CS and Securosys Hardware Security Modules (HSMs)","source":"@site/ms-pki-adcs/Tutorials/Deploying-cert-template.md","sourceDirName":"Tutorials","slug":"/Tutorials/Deploying-cert-template","permalink":"/ms-pki-adcs/Tutorials/Deploying-cert-template","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1741162132000,"sidebarPosition":6,"frontMatter":{"sidebar_position":6,"title":"Deploying Certificate Templates for AD CS","sidebar_label":"Deploying Certificate Templates","description":"Deploying Certificate Templates for Microsoft AD CS and Securosys Hardware Security Modules (HSMs)","keywords":["hsm","cloud hsm"]},"sidebar":"tutorialSidebar","previous":{"title":"Helpful toolbox","permalink":"/ms-pki-adcs/Tutorials/Troubleshooting/Helpful-Tools"},"next":{"title":"Download","permalink":"/ms-pki-adcs/downloads"}}');var r=s(74848),n=s(28453);const o={sidebar_position:6,title:"Deploying Certificate Templates for AD CS",sidebar_label:"Deploying Certificate Templates",description:"Deploying Certificate Templates for Microsoft AD CS and Securosys Hardware Security Modules (HSMs)",keywords:["hsm","cloud hsm"]},a="Deploying Certificate Templates",c={},l=[{value:"Modifying the Certificate Request Templates",id:"modifying-the-certificate-request-templates",level:2}];function d(e){const t={admonition:"admonition",code:"code",h1:"h1",h2:"h2",header:"header",img:"img",li:"li",p:"p",strong:"strong",ul:"ul",...(0,n.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.header,{children:(0,r.jsx)(t.h1,{id:"deploying-certificate-templates",children:"Deploying Certificate Templates"})}),"\n",(0,r.jsx)(t.p,{children:"As a starting point, Microsoft AD CS (Enterprise CA) provides several certificate templates, stored in Active Directory. These templates predefine common properties to apply (e.g. CNG provider, key length, validity, auto-enrollment, etc.) and are also used to define the enrollment policy on the CA."}),"\n",(0,r.jsxs)(t.p,{children:["An ",(0,r.jsx)(t.strong,{children:"Enterprise CA"})," can only issue certificates based upon the templates it is configured to use. When requesting a certificate, a client can just specify the template name in the request and the CA will build the certificate based upon the requestor\u2019s information in Active Directory and the properties defined in the template. Version 3 templates are required to support the CNG (HSM)."]}),"\n",(0,r.jsx)(t.p,{children:"Once the CA infrastructure ready, continue by adapting and deploying the essential certificate templates."}),"\n",(0,r.jsx)(t.h2,{id:"modifying-the-certificate-request-templates",children:"Modifying the Certificate Request Templates"}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsx)(t.li,{children:"On the subordinate CA server, open the CA console (certsrv), right-click Certificate Templates and select Manage."}),"\n"]}),"\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.img,{src:s(54117).A+"",width:"370",height:"266"})}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:["Choose your target template, right-click and select ",(0,r.jsx)(t.strong,{children:(0,r.jsx)(t.code,{children:"Duplicate Template"})}),". Modify the definitions according your needs (",(0,r.jsx)(t.strong,{children:(0,r.jsx)(t.code,{children:"Compatibility"})}),", ",(0,r.jsx)(t.strong,{children:(0,r.jsx)(t.code,{children:"General settings"})}),", ",(0,r.jsx)(t.strong,{children:(0,r.jsx)(t.code,{children:"Cryptography"})}),"). The following is a sample template definition, using Securosys HSM as Key Storage Provider."]}),"\n"]}),"\n",(0,r.jsx)(t.admonition,{type:"note",children:(0,r.jsx)(t.p,{children:"CNG requires compatibility settings for at least Windows Server 2016 or higher."})}),"\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.img,{src:s(83121).A+"",width:"400",height:"560"}),"\n",(0,r.jsx)(t.img,{src:s(95646).A+"",width:"400",height:"560"}),"\n",(0,r.jsx)(t.img,{src:s(60378).A+"",width:"400",height:"560"}),"\n",(0,r.jsx)(t.img,{src:s(66825).A+"",width:"400",height:"560"})]}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:["Then publish the modified templates for issuing certificates. This is done from Certificate Templates folder of CA console. Right-click ",(0,r.jsx)(t.strong,{children:(0,r.jsx)(t.code,{children:"Certificate Templates"})}),", click ",(0,r.jsx)(t.strong,{children:(0,r.jsx)(t.code,{children:"Certificate Template to Issue"})})," and select the templates to publish, then click ",(0,r.jsx)(t.strong,{children:(0,r.jsx)(t.code,{children:"OK"})}),". The steps are depicted below:"]}),"\n"]}),"\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.img,{src:s(87160).A+"",width:"492",height:"274"}),"\n",(0,r.jsx)(t.img,{src:s(18390).A+"",width:"583",height:"373"}),"\n",(0,r.jsx)(t.img,{src:s(20464).A+"",width:"592",height:"220"})]})]})}function p(e={}){const{wrapper:t}={...(0,n.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},83121:(e,t,s)=>{s.d(t,{A:()=>i});const i=s.p+"assets/images/Properties-New-Template-879a8a2b71b4641fdd4c48e067d570ed.png"},87160:(e,t,s)=>{s.d(t,{A:()=>i});const i=s.p+"assets/images/certsrv-issue-template-195beb204d211754f805dfd0f854d6a7.png"},95646:(e,t,s)=>{s.d(t,{A:()=>i});const i=s.p+"assets/images/Properties-New-Template-General-88122d689166a9cd0e931c83395522bd.png"}}]);