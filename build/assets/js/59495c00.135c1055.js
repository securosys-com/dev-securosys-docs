"use strict";(self.webpackChunksecurosys_docs=self.webpackChunksecurosys_docs||[]).push([[70712],{28453:(e,t,s)=>{s.d(t,{R:()=>o,x:()=>a});var n=s(96540);const r={},i=n.createContext(r);function o(e){const t=n.useContext(i);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),n.createElement(i.Provider,{value:t},e.children)}},71229:(e,t,s)=>{s.r(t),s.d(t,{assets:()=>l,contentTitle:()=>a,default:()=>p,frontMatter:()=>o,metadata:()=>n,toc:()=>c});const n=JSON.parse('{"id":"Tutorials/Examples/Example-jks","title":"Generate a .jks file for AWS KMS","description":"Step-by-step guide to generate a .jks file for Securosys XKS Proxy integration with AWS KMS. Learn to configure with OpenSSL, Keytool, and application.yaml.","source":"@site/xks/Tutorials/Examples/Example-jks.md","sourceDirName":"Tutorials/Examples","slug":"/Tutorials/Examples/Example-jks","permalink":"/xks/Tutorials/Examples/Example-jks","draft":false,"unlisted":false,"tags":[{"inline":true,"label":"AWS","permalink":"/xks/tags/aws"},{"inline":true,"label":"AWS KMS","permalink":"/xks/tags/aws-kms"},{"inline":true,"label":"XKS","permalink":"/xks/tags/xks"},{"inline":true,"label":"EC2","permalink":"/xks/tags/ec-2"}],"version":"current","lastUpdatedAt":1741162132000,"sidebarPosition":3,"frontMatter":{"sidebar_position":3,"title":"Generate a .jks file for AWS KMS","sidebar_label":"Generate .jks file","description":"Step-by-step guide to generate a .jks file for Securosys XKS Proxy integration with AWS KMS. Learn to configure with OpenSSL, Keytool, and application.yaml.","tags":["AWS","AWS KMS","XKS","EC2"]},"sidebar":"tutorialSidebar","previous":{"title":"Encrypt data","permalink":"/xks/Tutorials/Examples/Example-Encrypt-Decrypt"},"next":{"title":"Concepts","permalink":"/xks/category/concepts"}}');var r=s(74848),i=s(28453);s(56289);const o={sidebar_position:3,title:"Generate a .jks file for AWS KMS",sidebar_label:"Generate .jks file",description:"Step-by-step guide to generate a .jks file for Securosys XKS Proxy integration with AWS KMS. Learn to configure with OpenSSL, Keytool, and application.yaml.",tags:["AWS","AWS KMS","XKS","EC2"]},a="Generating a .jks file for the XKS Proxy",l={},c=[{value:"AWS KMS &amp; Securosys HSM - Integration Guide",id:"aws-kms--securosys-hsm---integration-guide",level:3},{value:"More content",id:"more-content",level:2}];function d(e){const t={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.header,{children:(0,r.jsx)(t.h1,{id:"generating-a-jks-file-for-the-xks-proxy",children:"Generating a .jks file for the XKS Proxy"})}),"\n",(0,r.jsx)(t.h3,{id:"aws-kms--securosys-hsm---integration-guide",children:"AWS KMS & Securosys HSM - Integration Guide"}),"\n",(0,r.jsxs)(t.p,{children:["The ",(0,r.jsx)(t.code,{children:".jks"})," domain file is required for the Securosys XKS proxy to authenticate to your domain."]}),"\n",(0,r.jsxs)(t.p,{children:["To correctly configure the Securosys XKS proxy, a path to the ",(0,r.jsx)(t.code,{children:".jks"})," file must be adapted in the ",(0,r.jsx)(t.code,{children:"application.yaml"})," file. Check the parameter ",(0,r.jsx)(t.code,{children:"key-storessl: key-storekey-store"})," in ",(0,r.jsx)(t.a,{href:"/xks/Installation/#4-configure-the-securosys-xks-proxy",children:"this section"}),"."]}),"\n",(0,r.jsxs)(t.p,{children:["There are many ways to generate a ",(0,r.jsx)(t.code,{children:".jks"})," file. In this example, we are using ",(0,r.jsx)(t.strong,{children:"openssl"})," and ",(0,r.jsx)(t.strong,{children:"keytool"})," utilities. It is required to have these utilities preinstalled on the device where the .jks file will be created."]}),"\n",(0,r.jsxs)(t.p,{children:["A prerequired step for this example is to generate a certificate for your domain. For the next steps you will require your ",(0,r.jsx)(t.code,{children:"\\*.ca"}),", ",(0,r.jsx)(t.code,{children:"\\*.crt"})," files and a private key."]}),"\n",(0,r.jsxs)(t.p,{children:["To generate a ",(0,r.jsx)(t.code,{children:".jks"})," from these files, it is required to combine your ",(0,r.jsx)(t.code,{children:"\\*.crt"})," and ",(0,r.jsx)(t.code,{children:"\\*.ca"})," files. Manually copy all data from ",(0,r.jsx)(t.code,{children:"\\*.ca"})," into ",(0,r.jsx)(t.code,{children:"\\*.crt"}),", and then you can use the following command."]}),"\n",(0,r.jsxs)(t.p,{children:["When prompted provide a password for the newly generated ",(0,r.jsx)(t.code,{children:".p12"})," file, replace the file names ",(0,r.jsx)(t.code,{children:"exanple.crt"})," and ",(0,r.jsx)(t.code,{children:"example.key"})," with your own."]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-js",children:"openssl pkcs12 -export -in example.crt -inkey example.key -out abc.p12\n"})}),"\n",(0,r.jsxs)(t.p,{children:["To generate the ",(0,r.jsx)(t.code,{children:".jks"})," file, execute the following command with the java keytool utility. When prompted provide the same password used with the ",(0,r.jsx)(t.strong,{children:"openssl"})," command. Replace the ",(0,r.jsx)(t.code,{children:"example"})," file names with your own:"]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-js",children:"keytool -importkeystore -srckeystore example.p12 \\\n srcstoretype PKCS12 \\\n destkeystore example.jks \\\n deststoretype JKS\n"})}),"\n",(0,r.jsx)(t.admonition,{title:"Don't forget",type:"tip",children:(0,r.jsxs)(t.p,{children:["to import your ",(0,r.jsx)(t.code,{children:".jks"})," file to the AWS EC2 instance where the Securosys XKS Proxy will be installed."]})}),"\n",(0,r.jsx)(t.h2,{id:"more-content",children:"More content"}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsx)(t.li,{children:(0,r.jsx)(t.a,{href:"/xks/Installation/ec2-docker-installation",children:"Installing Docker on an EC2 instance"})}),"\n",(0,r.jsx)(t.li,{children:(0,r.jsx)(t.a,{href:"/xks/Tutorials/Examples/Example-AWS-KMS",children:"Tutorial - How to encrypt/decrypt data in AWS KMS?"})}),"\n",(0,r.jsx)(t.li,{children:(0,r.jsx)(t.a,{href:"../../Use-Cases/usecases",children:"Encrypting AWS S3 Bucket"})}),"\n",(0,r.jsx)(t.li,{children:(0,r.jsx)(t.a,{href:"/aws-byok/overview",children:"AWS Bring Your Own Key (BYOK)"})}),"\n"]})]})}function p(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}}}]);