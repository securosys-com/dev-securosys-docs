"use strict";(self.webpackChunksecurosys_docs=self.webpackChunksecurosys_docs||[]).push([[40613],{28453:(e,t,r)=>{r.d(t,{R:()=>i,x:()=>o});var n=r(96540);const a={},s=n.createContext(a);function i(e){const t=n.useContext(s);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:i(e.components),n.createElement(s.Provider,{value:t},e.children)}},28830:(e,t,r)=>{r.d(t,{A:()=>n});const n=r.p+"assets/files/UserSecretSample-8ce5103ca58044ea85b3df586ce0325d.java"},65093:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>u,contentTitle:()=>c,default:()=>p,frontMatter:()=>l,metadata:()=>n,toc:()=>d});const n=JSON.parse('{"id":"quickstart","title":"Getting started with JCE/JCA API","description":"Getting started with Java Cryptography Extension (JCE) and Java Cryptography Architecture (JCA) with Securosys Hardware Security Modules.","source":"@site/jce/quickstart.md","sourceDirName":".","slug":"/quickstart","permalink":"/jce/quickstart","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1741162132000,"sidebarPosition":0,"frontMatter":{"sidebar_position":0,"title":"Getting started with JCE/JCA API","sidebar_label":"Quickstart","description":"Getting started with Java Cryptography Extension (JCE) and Java Cryptography Architecture (JCA) with Securosys Hardware Security Modules.","keywords":["hsm","cloud hsm"]},"sidebar":"tutorialSidebar","previous":{"title":"Overview","permalink":"/jce/overview"},"next":{"title":"Use Cases","permalink":"/jce/category/use-cases"}}');var a=r(74848),s=r(28453),i=r(65537),o=r(79329);const l={sidebar_position:0,title:"Getting started with JCE/JCA API",sidebar_label:"Quickstart",description:"Getting started with Java Cryptography Extension (JCE) and Java Cryptography Architecture (JCA) with Securosys Hardware Security Modules.",keywords:["hsm","cloud hsm"]},c="Getting Started with JCE/JCA API Provider",u={},d=[{value:"Download",id:"download",level:2},{value:"Install",id:"install",level:2},{value:"First Steps",id:"first-steps",level:2},{value:"Further Samples",id:"further-samples",level:2}];function h(e){const t={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(t.header,{children:(0,a.jsx)(t.h1,{id:"getting-started-with-jcejca-api-provider",children:"Getting Started with JCE/JCA API Provider"})}),"\n",(0,a.jsx)(t.admonition,{title:"User Secrets",type:"warning",children:(0,a.jsxs)(t.p,{children:["The initial partition ",(0,a.jsx)(t.code,{children:"setup password"})," is used to obtain or update a ",(0,a.jsx)(t.strong,{children:"permanent secret"})," as shown in the samples below. Once the permanent secret has been fetched it should be used from then on. The permanent secret is used to establish the secure connection between the JCE Provider and the user's HSM partition."]})}),"\n",(0,a.jsx)(t.h2,{id:"download",children:"Download"}),"\n",(0,a.jsxs)(t.p,{children:["Head to the ",(0,a.jsx)(t.strong,{children:(0,a.jsx)(t.a,{href:"/jce/Downloads/",children:"Downloads"})})," page to get instructions on how to get the software."]}),"\n",(0,a.jsx)(t.h2,{id:"install",children:"Install"}),"\n",(0,a.jsx)(t.p,{children:"Extract the Securosys JCE-Provider and import the JAR into your IDE."}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-bash",children:"mkdir ${JCE_PROV_VERSION}\nunzip -j ${JCE_PROV_VERSION}.zip -d ${JCE_PROV_VERSION}\n"})}),"\n",(0,a.jsx)(t.h2,{id:"first-steps",children:"First Steps"}),"\n",(0,a.jsxs)(t.p,{children:["On initial setup and configuration of a Primus HSM partition, the installation process (Security Officer of the HSMs) generates a partition ",(0,a.jsx)(t.strong,{children:"setup password"})," for a given user. The setup password is a 29-alphanumeric dash separated string in the form of ",(0,a.jsx)(t.code,{children:"FXAJX-XWVQ3-DC0O5-3SLQF-LJ9L3"})," with ",(0,a.jsx)(t.strong,{children:"limited time validity"})," starting after first usage (HSM default: 3 days; CloudHSM default: 1 week; developer account: 1 year)."]}),"\n",(0,a.jsx)(t.p,{children:(0,a.jsx)(t.em,{children:"Note: In case of Service Proxy (CloudHSM) the Service Proxy password must be configured, before fetching the HSM permanent secret."})}),"\n",(0,a.jsxs)(i.A,{groupId:"fetch-secret",children:[(0,a.jsxs)(o.A,{value:"CloudHSM",label:"CloudHSM",default:!0,children:[(0,a.jsxs)(t.p,{children:["If you are using CloudHSM or your own reverse proxy, you will need to learn how to configure a proxy connection first. The sample shows how to ",(0,a.jsx)(t.strong,{children:"establish a connection"})," and ",(0,a.jsx)(t.strong,{children:"extract Permanent User Secret"})," using a temporary secret and how to set up redundant connection."]}),(0,a.jsxs)(t.ul,{children:["\n",(0,a.jsx)(t.li,{children:(0,a.jsx)(t.a,{target:"_blank","data-noBrokenLinkCheck":!0,href:r(84639).A+"",children:"CloudsHsmSample.java"})}),"\n"]}),(0,a.jsxs)(t.p,{children:["Change the following properties in the ",(0,a.jsx)(t.code,{children:"CloudsHSMSample.java"})," based on the information provided in your support ticket."]}),(0,a.jsx)(t.admonition,{title:"HSM Connectivity",type:"tip",children:(0,a.jsxs)(t.p,{children:["When utilizing CloudHSM service, refer to ",(0,a.jsx)(t.a,{href:"/connectivity-details/cloudhsm-connectivity-details",children:"CloudHSM Connectivity Details"})," for API-Endpoint URI ",(0,a.jsx)(t.code,{children:"proxyhost"})," and ",(0,a.jsx)(t.code,{children:"proxy-port"}),"."]})}),(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-java",children:'  final String proxyhost = "<cloudsHSM.hostname>";\n  final String proxyport = "2300";\n  final String proxyuser = "<proxyuser>";\n  final char[] proxypassword = "<proxypassword>".toCharArray();\n  final String hsmuser = "<USERNAME>";\n  final char[] hsmpassword = "<setup-password>".toCharArray();\n'})})]}),(0,a.jsxs)(o.A,{value:"on-premise",label:"On Premise",default:!0,children:[(0,a.jsx)(t.p,{children:"If you're connecting to the Dev program or to your on-prem HSM directly (without reverse proxy), this sample shows how to establish the connection to retrieve permanent secret by using a temporary secret provided by your HSM operator (for your own Primus HSM) or by us (for Dev Program)."}),(0,a.jsxs)(t.ul,{children:["\n",(0,a.jsx)(t.li,{children:(0,a.jsx)(t.a,{target:"_blank","data-noBrokenLinkCheck":!0,href:r(28830).A+"",children:"UserSecretSample.java"})}),"\n"]}),(0,a.jsx)(t.admonition,{title:"HSM Connectivity",type:"tip",children:(0,a.jsx)(t.p,{children:"For on-premise deployments, verify API-Endpoint URI with your administrator. Contact your service administrator for authentication credentials."})}),(0,a.jsxs)(t.p,{children:["Change the following properties in the ",(0,a.jsx)(t.code,{children:"UserSecretSample.java"})," based on the information provided in your support ticket."]}),(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-java",children:'  final String host = "grimsel.securosys.ch"; // externally reachable test/development HSM\n  final String port = "2400"; // Default HSM\'s JCE port is 2300. Dev program partition is accessible at 2400\n  final String user = "TESTUSER";\n  final char[] password = "FDgKb-zxsPR-ud6EN-GK6Jz-adrvB".toCharArray();\n'})})]})]}),"\n",(0,a.jsx)(t.admonition,{title:"warning",type:"warning",children:(0,a.jsx)(t.p,{children:"The API login is protected against brute force attacks (setup password and permanent secret). After too many wrong trials the API login is locked for some time. Wrong trials are reset after a defined time. Restart of the device resets lockout and attempts."})}),"\n",(0,a.jsx)(t.h2,{id:"further-samples",children:"Further Samples"}),"\n",(0,a.jsx)(t.p,{children:"Learn more about the Securosys JCE-Provider by following the samples,\nLog in to the HSM using the secret key retrieved in the previous step:"}),"\n",(0,a.jsxs)(t.ul,{children:["\n",(0,a.jsx)(t.li,{children:(0,a.jsx)(t.a,{href:"/jce/Tutorials/LoginSample",children:"Login and password blinding sample"})}),"\n",(0,a.jsx)(t.li,{children:(0,a.jsx)(t.a,{href:"/jce/Tutorials/SignVerify",children:"Create a key, sign a payload, and verify the signature"})}),"\n",(0,a.jsx)(t.li,{children:(0,a.jsx)(t.a,{href:"/jce/Tutorials/KeyAttributes",children:"Use Key Attributes (Flags) to set properties of a key."})}),"\n",(0,a.jsx)(t.li,{children:(0,a.jsx)(t.a,{href:"/jce/Tutorials/AllSamples",children:"All Samples"})}),"\n"]})]})}function p(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,a.jsx)(t,{...e,children:(0,a.jsx)(h,{...e})}):h(e)}},65537:(e,t,r)=>{r.d(t,{A:()=>w});var n=r(96540),a=r(34164),s=r(65627),i=r(56347),o=r(50372),l=r(30604),c=r(11861),u=r(78749);function d(e){return n.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,n.isValidElement)(e)&&function(e){const{props:t}=e;return!!t&&"object"==typeof t&&"value"in t}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function h(e){const{values:t,children:r}=e;return(0,n.useMemo)((()=>{const e=t??function(e){return d(e).map((e=>{let{props:{value:t,label:r,attributes:n,default:a}}=e;return{value:t,label:r,attributes:n,default:a}}))}(r);return function(e){const t=(0,c.XI)(e,((e,t)=>e.value===t.value));if(t.length>0)throw new Error(`Docusaurus error: Duplicate values "${t.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[t,r])}function p(e){let{value:t,tabValues:r}=e;return r.some((e=>e.value===t))}function f(e){let{queryString:t=!1,groupId:r}=e;const a=(0,i.W6)(),s=function(e){let{queryString:t=!1,groupId:r}=e;if("string"==typeof t)return t;if(!1===t)return null;if(!0===t&&!r)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return r??null}({queryString:t,groupId:r});return[(0,l.aZ)(s),(0,n.useCallback)((e=>{if(!s)return;const t=new URLSearchParams(a.location.search);t.set(s,e),a.replace({...a.location,search:t.toString()})}),[s,a])]}function m(e){const{defaultValue:t,queryString:r=!1,groupId:a}=e,s=h(e),[i,l]=(0,n.useState)((()=>function(e){let{defaultValue:t,tabValues:r}=e;if(0===r.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(t){if(!p({value:t,tabValues:r}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${t}" but none of its children has the corresponding value. Available values are: ${r.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return t}const n=r.find((e=>e.default))??r[0];if(!n)throw new Error("Unexpected error: 0 tabValues");return n.value}({defaultValue:t,tabValues:s}))),[c,d]=f({queryString:r,groupId:a}),[m,g]=function(e){let{groupId:t}=e;const r=function(e){return e?`docusaurus.tab.${e}`:null}(t),[a,s]=(0,u.Dv)(r);return[a,(0,n.useCallback)((e=>{r&&s.set(e)}),[r,s])]}({groupId:a}),y=(()=>{const e=c??m;return p({value:e,tabValues:s})?e:null})();(0,o.A)((()=>{y&&l(y)}),[y]);return{selectedValue:i,selectValue:(0,n.useCallback)((e=>{if(!p({value:e,tabValues:s}))throw new Error(`Can't select invalid tab value=${e}`);l(e),d(e),g(e)}),[d,g,s]),tabValues:s}}var g=r(9136);const y={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var v=r(74848);function b(e){let{className:t,block:r,selectedValue:n,selectValue:i,tabValues:o}=e;const l=[],{blockElementScrollPositionUntilNextRender:c}=(0,s.a_)(),u=e=>{const t=e.currentTarget,r=l.indexOf(t),a=o[r].value;a!==n&&(c(t),i(a))},d=e=>{let t=null;switch(e.key){case"Enter":u(e);break;case"ArrowRight":{const r=l.indexOf(e.currentTarget)+1;t=l[r]??l[0];break}case"ArrowLeft":{const r=l.indexOf(e.currentTarget)-1;t=l[r]??l[l.length-1];break}}t?.focus()};return(0,v.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,a.A)("tabs",{"tabs--block":r},t),children:o.map((e=>{let{value:t,label:r,attributes:s}=e;return(0,v.jsx)("li",{role:"tab",tabIndex:n===t?0:-1,"aria-selected":n===t,ref:e=>{l.push(e)},onKeyDown:d,onClick:u,...s,className:(0,a.A)("tabs__item",y.tabItem,s?.className,{"tabs__item--active":n===t}),children:r??t},t)}))})}function x(e){let{lazy:t,children:r,selectedValue:s}=e;const i=(Array.isArray(r)?r:[r]).filter(Boolean);if(t){const e=i.find((e=>e.props.value===s));return e?(0,n.cloneElement)(e,{className:(0,a.A)("margin-top--md",e.props.className)}):null}return(0,v.jsx)("div",{className:"margin-top--md",children:i.map(((e,t)=>(0,n.cloneElement)(e,{key:t,hidden:e.props.value!==s})))})}function j(e){const t=m(e);return(0,v.jsxs)("div",{className:(0,a.A)("tabs-container",y.tabList),children:[(0,v.jsx)(b,{...t,...e}),(0,v.jsx)(x,{...t,...e})]})}function w(e){const t=(0,g.A)();return(0,v.jsx)(j,{...e,children:d(e.children)},String(t))}},79329:(e,t,r)=>{r.d(t,{A:()=>i});r(96540);var n=r(34164);const a={tabItem:"tabItem_Ymn6"};var s=r(74848);function i(e){let{children:t,hidden:r,className:i}=e;return(0,s.jsx)("div",{role:"tabpanel",className:(0,n.A)(a.tabItem,i),hidden:r,children:t})}},84639:(e,t,r)=>{r.d(t,{A:()=>n});const n=r.p+"assets/files/ProxySample-5a0ba7c7b2f8fa5a66c765eb9b75922f.java"}}]);