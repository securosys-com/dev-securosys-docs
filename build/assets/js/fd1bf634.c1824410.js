"use strict";(self.webpackChunksecurosys_docs=self.webpackChunksecurosys_docs||[]).push([[81713],{24184:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>o,default:()=>d,frontMatter:()=>i,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"quickstart","title":"Getting Started with Microsoft SQL Always Encrypted & HSM","description":"Microsoft SQL Always Encrypted with Securosys Hardware Security Modules (HSMs)","source":"@site/ms-sql-ae/quickstart.md","sourceDirName":".","slug":"/quickstart","permalink":"/ms-sql-ae/quickstart","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1741162132000,"sidebarPosition":1,"frontMatter":{"sidebar_position":1,"title":"Getting Started with Microsoft SQL Always Encrypted & HSM","sidebar_label":"Quickstart","description":"Microsoft SQL Always Encrypted with Securosys Hardware Security Modules (HSMs)","keywords":["cloud hsm","hsm key management","hsm cloud"]},"sidebar":"tutorialSidebar","previous":{"title":"Overview","permalink":"/ms-sql-ae/overview"},"next":{"title":"Installation","permalink":"/ms-sql-ae/category/installation"}}');var a=n(74848),s=n(28453);n(65537),n(79329);const i={sidebar_position:1,title:"Getting Started with Microsoft SQL Always Encrypted & HSM",sidebar_label:"Quickstart",description:"Microsoft SQL Always Encrypted with Securosys Hardware Security Modules (HSMs)",keywords:["cloud hsm","hsm key management","hsm cloud"]},o="Getting Started with Microsoft SQL AE",l={},c=[{value:"1. Prerequisites",id:"1-prerequisites",level:2},{value:"2. Primus CNG/KSP Provider",id:"2-primus-cngksp-provider",level:2},{value:"3. Creating Column Master Key",id:"3-creating-column-master-key",level:2},{value:"4. Creating Column Encryption Key",id:"4-creating-column-encryption-key",level:2},{value:"5. Enabling Column Encryption on the Database Table",id:"5-enabling-column-encryption-on-the-database-table",level:2},{value:"6. Decrypt a Column Encrypted Database",id:"6-decrypt-a-column-encrypted-database",level:2},{value:"7. Concepts",id:"7-concepts",level:2}];function u(e){const t={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",header:"header",p:"p",strong:"strong",...(0,s.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(t.header,{children:(0,a.jsx)(t.h1,{id:"getting-started-with-microsoft-sql-ae",children:"Getting Started with Microsoft SQL AE"})}),"\n",(0,a.jsxs)(t.p,{children:[(0,a.jsx)(t.strong,{children:"Microsoft SQL Server Always Encrypted"}),"\xa0is a security feature designed to protect sensitive data stored in\xa0SQL Server databases. It allows clients to encrypt sensitive data within client applications, ensuring that encryption keys are never revealed to the Database Engine. This separation of access prevents unauthorized users, such as on-premises database administrators, from viewing sensitive information."]}),"\n",(0,a.jsx)(t.p,{children:"This quickstart section provides a comprehensive guide outlining the steps necessary to integrate Microsoft SQL Server Always Encrypted with Securosys Hardware Security Modules, cloud and on-premises."}),"\n",(0,a.jsx)(t.h2,{id:"1-prerequisites",children:"1. Prerequisites"}),"\n",(0,a.jsx)(t.p,{children:"Before starting the process of integrating the Securosys CloudHSM or on-premises Primus HSM with Microsoft SQL Server - Always Encrypted please ensure your Primus HSM is already configured and that MS SQL Server is already installed and configured with a database created."}),"\n",(0,a.jsx)(t.admonition,{type:"note",children:(0,a.jsx)(t.p,{children:"Your CloudHSM partition comes preconfigured for use with MS SQL Server (subject to appropriate licensing)."})}),"\n",(0,a.jsxs)(t.p,{children:["For more details visit the ",(0,a.jsx)(t.a,{href:"/ms-sql-ae/Installation/prerequisites",children:"Prerequisites"})," page."]}),"\n",(0,a.jsx)(t.h2,{id:"2-primus-cngksp-provider",children:"2. Primus CNG/KSP Provider"}),"\n",(0,a.jsxs)(t.p,{children:["Refer to the ",(0,a.jsx)(t.a,{href:"/mscng/overview",children:"Primus MS CNG Provider documentation"})," on how to download, install and configure the Primus CNG/KSP Provider."]}),"\n",(0,a.jsx)(t.admonition,{type:"note",children:(0,a.jsx)(t.p,{children:"Ensure that the CNG API is both licensed and activated on your HSM device or within your CloudHSM subscription."})}),"\n",(0,a.jsx)(t.h2,{id:"3-creating-column-master-key",children:"3. Creating Column Master Key"}),"\n",(0,a.jsx)(t.p,{children:"Create a Column Master Key (CMK) using either CloudHSM or on-premises Primus HSM. This key will encrypt all subsequent Column Encryption Keys (CEK)."}),"\n",(0,a.jsx)(t.admonition,{type:"info",children:(0,a.jsx)(t.p,{children:"Both Windows GUI and CLI can be used to create a CMK."})}),"\n",(0,a.jsxs)(t.p,{children:["For more details visit the ",(0,a.jsx)(t.a,{href:"/ms-sql-ae/Installation/creating-cmk",children:"Creating Column Master Key"})," page."]}),"\n",(0,a.jsx)(t.h2,{id:"4-creating-column-encryption-key",children:"4. Creating Column Encryption Key"}),"\n",(0,a.jsxs)(t.p,{children:["There are two approaches to generate the Column Encryption Key (CEK) in this document we describe the procedure of defining the CEKs explicitly within the ",(0,a.jsx)(t.code,{children:"Security"})," folder where the the CMK was defined, having the advantage to name the CEKs manually."]}),"\n",(0,a.jsx)(t.admonition,{type:"info",children:(0,a.jsx)(t.p,{children:"Both Windows GUI and CLI can be used to create the CEKs."})}),"\n",(0,a.jsxs)(t.p,{children:["For more details visit the ",(0,a.jsx)(t.a,{href:"/ms-sql-ae/Installation/creating-cek",children:"Creating Column Encryption Key"})," page."]}),"\n",(0,a.jsx)(t.h2,{id:"5-enabling-column-encryption-on-the-database-table",children:"5. Enabling Column Encryption on the Database Table"}),"\n",(0,a.jsx)(t.p,{children:"Enable Column Encryption on the database table using the previously generated CMK and CEKs."}),"\n",(0,a.jsx)(t.admonition,{type:"info",children:(0,a.jsx)(t.p,{children:"Both GUI and CLI can be used to enable Column Encryption."})}),"\n",(0,a.jsxs)(t.p,{children:["For more details visit the ",(0,a.jsx)(t.a,{href:"/ms-sql-ae/Installation/enabling-column-encryption",children:"Enable Column Encryption on the Database Table"})," page."]}),"\n",(0,a.jsx)(t.h2,{id:"6-decrypt-a-column-encrypted-database",children:"6. Decrypt a Column Encrypted Database"}),"\n",(0,a.jsx)(t.p,{children:"Additional database connection parameters are required to show encrypted columns in plaintext."}),"\n",(0,a.jsxs)(t.p,{children:["For more details visit the ",(0,a.jsx)(t.a,{href:"/ms-sql-ae/Tutorials/connecting-column-encrypted-db",children:"Connecting to Column Encrypted Database"})]}),"\n",(0,a.jsx)(t.h2,{id:"7-concepts",children:"7. Concepts"}),"\n",(0,a.jsxs)(t.p,{children:["For more information about Always Encrypted and references used in this document visit the ",(0,a.jsx)(t.a,{href:"/ms-sql-ae/Concepts/always_encrypted",children:"Concepts"})," section."]})]})}function d(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,a.jsx)(t,{...e,children:(0,a.jsx)(u,{...e})}):u(e)}},28453:(e,t,n)=>{n.d(t,{R:()=>i,x:()=>o});var r=n(96540);const a={},s=r.createContext(a);function i(e){const t=r.useContext(s);return r.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:i(e.components),r.createElement(s.Provider,{value:t},e.children)}},65537:(e,t,n)=>{n.d(t,{A:()=>x});var r=n(96540),a=n(34164),s=n(65627),i=n(56347),o=n(50372),l=n(30604),c=n(11861),u=n(78749);function d(e){return r.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,r.isValidElement)(e)&&function(e){const{props:t}=e;return!!t&&"object"==typeof t&&"value"in t}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function h(e){const{values:t,children:n}=e;return(0,r.useMemo)((()=>{const e=t??function(e){return d(e).map((e=>{let{props:{value:t,label:n,attributes:r,default:a}}=e;return{value:t,label:n,attributes:r,default:a}}))}(n);return function(e){const t=(0,c.XI)(e,((e,t)=>e.value===t.value));if(t.length>0)throw new Error(`Docusaurus error: Duplicate values "${t.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[t,n])}function p(e){let{value:t,tabValues:n}=e;return n.some((e=>e.value===t))}function m(e){let{queryString:t=!1,groupId:n}=e;const a=(0,i.W6)(),s=function(e){let{queryString:t=!1,groupId:n}=e;if("string"==typeof t)return t;if(!1===t)return null;if(!0===t&&!n)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return n??null}({queryString:t,groupId:n});return[(0,l.aZ)(s),(0,r.useCallback)((e=>{if(!s)return;const t=new URLSearchParams(a.location.search);t.set(s,e),a.replace({...a.location,search:t.toString()})}),[s,a])]}function y(e){const{defaultValue:t,queryString:n=!1,groupId:a}=e,s=h(e),[i,l]=(0,r.useState)((()=>function(e){let{defaultValue:t,tabValues:n}=e;if(0===n.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(t){if(!p({value:t,tabValues:n}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${t}" but none of its children has the corresponding value. Available values are: ${n.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return t}const r=n.find((e=>e.default))??n[0];if(!r)throw new Error("Unexpected error: 0 tabValues");return r.value}({defaultValue:t,tabValues:s}))),[c,d]=m({queryString:n,groupId:a}),[y,f]=function(e){let{groupId:t}=e;const n=function(e){return e?`docusaurus.tab.${e}`:null}(t),[a,s]=(0,u.Dv)(n);return[a,(0,r.useCallback)((e=>{n&&s.set(e)}),[n,s])]}({groupId:a}),b=(()=>{const e=c??y;return p({value:e,tabValues:s})?e:null})();(0,o.A)((()=>{b&&l(b)}),[b]);return{selectedValue:i,selectValue:(0,r.useCallback)((e=>{if(!p({value:e,tabValues:s}))throw new Error(`Can't select invalid tab value=${e}`);l(e),d(e),f(e)}),[d,f,s]),tabValues:s}}var f=n(9136);const b={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var v=n(74848);function g(e){let{className:t,block:n,selectedValue:r,selectValue:i,tabValues:o}=e;const l=[],{blockElementScrollPositionUntilNextRender:c}=(0,s.a_)(),u=e=>{const t=e.currentTarget,n=l.indexOf(t),a=o[n].value;a!==r&&(c(t),i(a))},d=e=>{let t=null;switch(e.key){case"Enter":u(e);break;case"ArrowRight":{const n=l.indexOf(e.currentTarget)+1;t=l[n]??l[0];break}case"ArrowLeft":{const n=l.indexOf(e.currentTarget)-1;t=l[n]??l[l.length-1];break}}t?.focus()};return(0,v.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,a.A)("tabs",{"tabs--block":n},t),children:o.map((e=>{let{value:t,label:n,attributes:s}=e;return(0,v.jsx)("li",{role:"tab",tabIndex:r===t?0:-1,"aria-selected":r===t,ref:e=>{l.push(e)},onKeyDown:d,onClick:u,...s,className:(0,a.A)("tabs__item",b.tabItem,s?.className,{"tabs__item--active":r===t}),children:n??t},t)}))})}function w(e){let{lazy:t,children:n,selectedValue:s}=e;const i=(Array.isArray(n)?n:[n]).filter(Boolean);if(t){const e=i.find((e=>e.props.value===s));return e?(0,r.cloneElement)(e,{className:(0,a.A)("margin-top--md",e.props.className)}):null}return(0,v.jsx)("div",{className:"margin-top--md",children:i.map(((e,t)=>(0,r.cloneElement)(e,{key:t,hidden:e.props.value!==s})))})}function S(e){const t=y(e);return(0,v.jsxs)("div",{className:(0,a.A)("tabs-container",b.tabList),children:[(0,v.jsx)(g,{...t,...e}),(0,v.jsx)(w,{...t,...e})]})}function x(e){const t=(0,f.A)();return(0,v.jsx)(S,{...e,children:d(e.children)},String(t))}},79329:(e,t,n)=>{n.d(t,{A:()=>i});n(96540);var r=n(34164);const a={tabItem:"tabItem_Ymn6"};var s=n(74848);function i(e){let{children:t,hidden:n,className:i}=e;return(0,s.jsx)("div",{role:"tabpanel",className:(0,r.A)(a.tabItem,i),hidden:n,children:t})}}}]);