"use strict";(self.webpackChunksecurosys_docs=self.webpackChunksecurosys_docs||[]).push([[44173],{21704:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>a,default:()=>d,frontMatter:()=>s,metadata:()=>o,toc:()=>c});const o=JSON.parse('{"id":"Tutorials/Troubleshooting","title":"Troubleshooting Docker Image Signing Plugin","description":"Learn how to troubleshoot the Securosys Docker Image Signing Plugin with steps to test plugin, HSM, and TSB connectivity, as well as check communication paths. Access HSM logs and Notation troubleshooting for more insights.","source":"@site/docker_signing/Tutorials/Troubleshooting.md","sourceDirName":"Tutorials","slug":"/Tutorials/Troubleshooting","permalink":"/docker_signing/Tutorials/Troubleshooting","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1741162132000,"sidebarPosition":7,"frontMatter":{"sidebar_position":7,"title":"Troubleshooting Docker Image Signing Plugin","sidebar_label":"Troubleshooting","description":"Learn how to troubleshoot the Securosys Docker Image Signing Plugin with steps to test plugin, HSM, and TSB connectivity, as well as check communication paths. Access HSM logs and Notation troubleshooting for more insights."},"sidebar":"tutorialSidebar","previous":{"title":"Updating","permalink":"/docker_signing/Tutorials/PluginUpdate"},"next":{"title":"Describe Key","permalink":"/docker_signing/Tutorials/Commands/DescribeKey"}}');var r=n(74848),i=n(28453);n(65537),n(79329);const s={sidebar_position:7,title:"Troubleshooting Docker Image Signing Plugin",sidebar_label:"Troubleshooting",description:"Learn how to troubleshoot the Securosys Docker Image Signing Plugin with steps to test plugin, HSM, and TSB connectivity, as well as check communication paths. Access HSM logs and Notation troubleshooting for more insights."},a="Troubleshooting",l={},c=[{value:"Securosys Docker Signing Notation Plugin",id:"securosys-docker-signing-notation-plugin",level:3},{value:"Testing Plugin connectivity",id:"testing-plugin-connectivity",level:2},{value:"HSM Connectivity",id:"hsm-connectivity",level:3},{value:"Testing TSB connectivity",id:"testing-tsb-connectivity",level:3},{value:"Testing complete communication path",id:"testing-complete-communication-path",level:3},{value:"Troubleshooting Primus HSM",id:"troubleshooting-primus-hsm",level:2},{value:"More Troubleshooting",id:"more-troubleshooting",level:2}];function u(e){const t={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.header,{children:(0,r.jsx)(t.h1,{id:"troubleshooting",children:"Troubleshooting"})}),"\n",(0,r.jsx)(t.h3,{id:"securosys-docker-signing-notation-plugin",children:"Securosys Docker Signing Notation Plugin"}),"\n",(0,r.jsx)(t.h2,{id:"testing-plugin-connectivity",children:"Testing Plugin connectivity"}),"\n",(0,r.jsxs)(t.p,{children:["Use this command to see if the connection by the plugin to the Securosys ",(0,r.jsx)(t.a,{href:"/cloudhsm/overview/",children:"CloudHSM"})," / Primus HSM via Transaction Security Broker (TSB) can be established and to obtain statistic, with sample output:"]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-sh",children:"./notation-securosys check-connection \n"})}),"\n",(0,r.jsx)(t.h3,{id:"hsm-connectivity",children:"HSM Connectivity"}),"\n",(0,r.jsx)(t.admonition,{title:"NOTE",type:"note",children:(0,r.jsxs)(t.p,{children:["When utilizing CloudHSM service, refer to ",(0,r.jsx)(t.a,{href:"/connectivity-details/cloudhsm-connectivity-details",children:"Cloud Connectivity Details"})," for accurate API-Endpoint URI. For on-premise deployments, verify API-Endpoint URI with your administrator. Contact your service administrator for authentication credentials in any setup (on-prem or cloud)."]})}),"\n",(0,r.jsx)(t.h3,{id:"testing-tsb-connectivity",children:"Testing TSB connectivity"}),"\n",(0,r.jsxs)(t.p,{children:["Connectivity to the Transaction Security Broker (TSB) can be tested using the curl command below or via swaggerUI. This test does not verify the connectiviity with the HSM infrastrustructure. Adapt ",(0,r.jsx)(t.strong,{children:(0,r.jsx)(t.code,{children:"<TSB_APIendpoint>"})}),", ",(0,r.jsx)(t.strong,{children:(0,r.jsx)(t.code,{children:"<yourBearerToken>"})})," for your environment:"]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-sh",children:"curl -X\n    'GET' '<TSB_APIendpoint>/v1/versionInfo' \\   \n    -H 'accept: application/json' \\\n    -H 'Authorization: Bearer <yourBearerToken>'\n"})}),"\n",(0,r.jsx)(t.h3,{id:"testing-complete-communication-path",children:"Testing complete communication path"}),"\n",(0,r.jsxs)(t.p,{children:["Connectivity through the Transaction Security Broker (TSB) to the HSM infrastructure can be tested using the curl command below or via swaggerUI. Adapt ",(0,r.jsx)(t.strong,{children:(0,r.jsx)(t.code,{children:"<TSB_APIendpoint>"})}),", ",(0,r.jsx)(t.strong,{children:(0,r.jsx)(t.code,{children:"<yourBearerToken>"})})," for your environment:"]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-sh",children:"curl -X\n    'GET' '<TSB_APIendpoint>/v1/licenseInfo' \\   \n    -H 'accept: application/json' \\\n    -H 'Authorization: Bearer <yourBearerToken>'\n"})}),"\n",(0,r.jsx)(t.h2,{id:"troubleshooting-primus-hsm",children:"Troubleshooting Primus HSM"}),"\n",(0,r.jsx)(t.p,{children:"Additional information can be obtained by reviewing the HSM logs."}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:["To review the HSM logs of your on-premises Primus HSM please refer to the ",(0,r.jsx)(t.a,{href:"https://support.securosys.com/external/knowledge-base/article/63",children:"Securosys Primus HSM User Guide"})," chapter 4.7."]}),"\n"]}),"\n",(0,r.jsx)(t.h2,{id:"more-troubleshooting",children:"More Troubleshooting"}),"\n",(0,r.jsxs)(t.p,{children:["Further troubleshooting can be done via the ",(0,r.jsx)(t.em,{children:"Notation"}),", or by reviewing the HSM logs."]}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsxs)(t.p,{children:["To review the HSM logs of your on-premises Primus HSM please refer to ",(0,r.jsx)(t.a,{href:"https://support.securosys.com/external/knowledge-base/article/63",children:"Securosys Primus HSM User Guide"}),","]}),"\n"]}),"\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsxs)(t.p,{children:["To view how to troubleshoot ",(0,r.jsx)(t.em,{children:"Notation"})," please visit: ",(0,r.jsx)(t.a,{href:"https://notaryproject.dev/docs/user-guides/troubleshooting/",children:"Notary Notation Troubleshooting"}),"."]}),"\n"]}),"\n"]})]})}function d(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(u,{...e})}):u(e)}},28453:(e,t,n)=>{n.d(t,{R:()=>s,x:()=>a});var o=n(96540);const r={},i=o.createContext(r);function s(e){const t=o.useContext(i);return o.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:s(e.components),o.createElement(i.Provider,{value:t},e.children)}},65537:(e,t,n)=>{n.d(t,{A:()=>S});var o=n(96540),r=n(34164),i=n(65627),s=n(56347),a=n(50372),l=n(30604),c=n(11861),u=n(78749);function d(e){return o.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,o.isValidElement)(e)&&function(e){const{props:t}=e;return!!t&&"object"==typeof t&&"value"in t}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function h(e){const{values:t,children:n}=e;return(0,o.useMemo)((()=>{const e=t??function(e){return d(e).map((e=>{let{props:{value:t,label:n,attributes:o,default:r}}=e;return{value:t,label:n,attributes:o,default:r}}))}(n);return function(e){const t=(0,c.XI)(e,((e,t)=>e.value===t.value));if(t.length>0)throw new Error(`Docusaurus error: Duplicate values "${t.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[t,n])}function g(e){let{value:t,tabValues:n}=e;return n.some((e=>e.value===t))}function p(e){let{queryString:t=!1,groupId:n}=e;const r=(0,s.W6)(),i=function(e){let{queryString:t=!1,groupId:n}=e;if("string"==typeof t)return t;if(!1===t)return null;if(!0===t&&!n)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return n??null}({queryString:t,groupId:n});return[(0,l.aZ)(i),(0,o.useCallback)((e=>{if(!i)return;const t=new URLSearchParams(r.location.search);t.set(i,e),r.replace({...r.location,search:t.toString()})}),[i,r])]}function m(e){const{defaultValue:t,queryString:n=!1,groupId:r}=e,i=h(e),[s,l]=(0,o.useState)((()=>function(e){let{defaultValue:t,tabValues:n}=e;if(0===n.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(t){if(!g({value:t,tabValues:n}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${t}" but none of its children has the corresponding value. Available values are: ${n.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return t}const o=n.find((e=>e.default))??n[0];if(!o)throw new Error("Unexpected error: 0 tabValues");return o.value}({defaultValue:t,tabValues:i}))),[c,d]=p({queryString:n,groupId:r}),[m,b]=function(e){let{groupId:t}=e;const n=function(e){return e?`docusaurus.tab.${e}`:null}(t),[r,i]=(0,u.Dv)(n);return[r,(0,o.useCallback)((e=>{n&&i.set(e)}),[n,i])]}({groupId:r}),v=(()=>{const e=c??m;return g({value:e,tabValues:i})?e:null})();(0,a.A)((()=>{v&&l(v)}),[v]);return{selectedValue:s,selectValue:(0,o.useCallback)((e=>{if(!g({value:e,tabValues:i}))throw new Error(`Can't select invalid tab value=${e}`);l(e),d(e),b(e)}),[d,b,i]),tabValues:i}}var b=n(9136);const v={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var f=n(74848);function y(e){let{className:t,block:n,selectedValue:o,selectValue:s,tabValues:a}=e;const l=[],{blockElementScrollPositionUntilNextRender:c}=(0,i.a_)(),u=e=>{const t=e.currentTarget,n=l.indexOf(t),r=a[n].value;r!==o&&(c(t),s(r))},d=e=>{let t=null;switch(e.key){case"Enter":u(e);break;case"ArrowRight":{const n=l.indexOf(e.currentTarget)+1;t=l[n]??l[0];break}case"ArrowLeft":{const n=l.indexOf(e.currentTarget)-1;t=l[n]??l[l.length-1];break}}t?.focus()};return(0,f.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,r.A)("tabs",{"tabs--block":n},t),children:a.map((e=>{let{value:t,label:n,attributes:i}=e;return(0,f.jsx)("li",{role:"tab",tabIndex:o===t?0:-1,"aria-selected":o===t,ref:e=>{l.push(e)},onKeyDown:d,onClick:u,...i,className:(0,r.A)("tabs__item",v.tabItem,i?.className,{"tabs__item--active":o===t}),children:n??t},t)}))})}function T(e){let{lazy:t,children:n,selectedValue:i}=e;const s=(Array.isArray(n)?n:[n]).filter(Boolean);if(t){const e=s.find((e=>e.props.value===i));return e?(0,o.cloneElement)(e,{className:(0,r.A)("margin-top--md",e.props.className)}):null}return(0,f.jsx)("div",{className:"margin-top--md",children:s.map(((e,t)=>(0,o.cloneElement)(e,{key:t,hidden:e.props.value!==i})))})}function x(e){const t=m(e);return(0,f.jsxs)("div",{className:(0,r.A)("tabs-container",v.tabList),children:[(0,f.jsx)(y,{...t,...e}),(0,f.jsx)(T,{...t,...e})]})}function S(e){const t=(0,b.A)();return(0,f.jsx)(x,{...e,children:d(e.children)},String(t))}},79329:(e,t,n)=>{n.d(t,{A:()=>s});n(96540);var o=n(34164);const r={tabItem:"tabItem_Ymn6"};var i=n(74848);function s(e){let{children:t,hidden:n,className:s}=e;return(0,i.jsx)("div",{role:"tabpanel",className:(0,o.A)(r.tabItem,s),hidden:n,children:t})}}}]);