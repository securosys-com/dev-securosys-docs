"use strict";(self.webpackChunksecurosys_docs=self.webpackChunksecurosys_docs||[]).push([[701],{28453:(e,n,s)=>{s.d(n,{R:()=>i,x:()=>l});var r=s(96540);const t={},a=r.createContext(t);function i(e){const n=r.useContext(a);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:i(e.components),r.createElement(a.Provider,{value:n},e.children)}},62247:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>o,contentTitle:()=>l,default:()=>h,frontMatter:()=>i,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"Tutorials/command-details/object-management","title":"Object Management with Primus Tools","description":"Object Management with Securosys Primus Tools and Hardware Security Modules (HSMs)","source":"@site/primus-tools/Tutorials/command-details/object-management.md","sourceDirName":"Tutorials/command-details","slug":"/Tutorials/command-details/object-management","permalink":"/primus-tools/Tutorials/command-details/object-management","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1741162132000,"sidebarPosition":2,"frontMatter":{"sidebar_position":2,"title":"Object Management with Primus Tools","sidebar_label":"Object Management","description":"Object Management with Securosys Primus Tools and Hardware Security Modules (HSMs)","keywords":["hsm","cloud hsm"]},"sidebar":"tutorialSidebar","previous":{"title":"HSM Device Information","permalink":"/primus-tools/Tutorials/command-details/HSM-information"},"next":{"title":"Partition Management","permalink":"/primus-tools/Tutorials/command-details/keystore_management"}}');var t=s(74848),a=s(28453);s(65537),s(79329);const i={sidebar_position:2,title:"Object Management with Primus Tools",sidebar_label:"Object Management",description:"Object Management with Securosys Primus Tools and Hardware Security Modules (HSMs)",keywords:["hsm","cloud hsm"]},l="Object Management",o={},c=[{value:"List Partition Objects",id:"list-partition-objects",level:2},{value:"List Partition Object (Single Alias)",id:"list-partition-object-single-alias",level:2},{value:"List Key Entry",id:"list-key-entry",level:2},{value:"List Key Flags",id:"list-key-flags",level:2},{value:"Create Key",id:"create-key",level:2},{value:"Delete Key",id:"delete-key",level:2},{value:"Get Key Flag",id:"get-key-flag",level:2},{value:"Set Key Flags",id:"set-key-flags",level:2},{value:"Set Key Id",id:"set-key-id",level:2},{value:"Rename Key",id:"rename-key",level:2},{value:"Import Certificate",id:"import-certificate",level:2},{value:"Import Public Key",id:"import-public-key",level:2},{value:"Import Wrapped Key",id:"import-wrapped-key",level:2},{value:"Export Public Key",id:"export-public-key",level:2},{value:"Export Wrapped Key",id:"export-wrapped-key",level:2}];function d(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,a.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"object-management",children:"Object Management"})}),"\n",(0,t.jsx)(n.p,{children:"Object management commands are used for managing objects and keys. These commands are used when objects must be created, deleted, listed, the object flags listed or modified."}),"\n",(0,t.jsxs)(n.p,{children:["Commands will require an established ",(0,t.jsx)(n.code,{children:"<HSM connection and credentials>"})," parameter to be able to execute properly. For further assistance on how to prepare your ",(0,t.jsx)(n.code,{children:"<HSM connection and credentials>"})," parameter, see ",(0,t.jsx)(n.a,{href:"/primus-tools/Installation/Provider",children:"HSM Connection and Access Credentials"})," section."]}),"\n",(0,t.jsx)(n.h2,{id:"list-partition-objects",children:"List Partition Objects"}),"\n",(0,t.jsx)(n.p,{children:"The following command is able to list objects within the specified partition, assigned flags and the first 3 bytes of the SHA256 hash over the symmetric key objects to detect changes:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"java -jar primus-tools.jar ListKeyStoreObjects <HSM connection and credentials> [-keysonly] [-prefixes] [-allflags] [-allobjects] [-kak <key attestation key name> [-kakpassword <key password>]]\n"})}),"\n",(0,t.jsx)(n.p,{children:"Where:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"keysonly"})," \tlist only keys and no other objects"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"prefixes"}),"\tlist objects in a parsable format with keywords included"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"allflags"}),"\tlist all key attributes/flags"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"allobjects"}),"\tlist all objects (SecretKey, PublicKey, Certificate, \u2026)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"kak"}),"         define the key attestation key"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"kakpassword"})," define the key attestation key password"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"For a parsable key listing including key attributes and hashes for symmetrical keys use the following command:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"java -jar primus-tools.jar ListKeyStoreObjects <HSM connection and credentials> -keysonly -prefixes -allflags\n"})}),"\n",(0,t.jsx)(n.p,{children:"Example output:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"ONAME: MS-PrimusByokAES128 OTYPE: AES KSIZE: 128 OFLAGS: nonsensitive,extractable,modifiable,copyable,token,nonindestructible,private,nonpublic,nonneverextractable,nonalwayssensitive,local,encrypt,decrypt,sign,verify,wrap,unwrap,notderive OHASH: 2ECFC2\nONAME: MS-PrimusByokAES192 OTYPE: AES KSIZE: 192 OFLAGS: nonsensitive,extractable,modifiable,copyable,token,nonindestructible,private,nonpublic,nonneverextractable,nonalwayssensitive,local,encrypt,decrypt,sign,verify,wrap,unwrap,notderive OHASH: B4BC9D\nONAME: MS-PrimusByokAES256 OTYPE: AES KSIZE: 256 OFLAGS: nonsensitive,extractable,modifiable,copyable,token,nonindestructible,private,nonpublic,nonneverextractable,nonalwayssensitive,local,encrypt,decrypt,sign,verify,wrap,unwrap,notderive OHASH: 1B7B18\nONAME: MS-PrimusByokECP224 OTYPE: EC KSIZE: 224 OFLAGS: nonsensitive,extractable,modifiable,copyable,token,nonindestructible,private,nonpublic,nonneverextractable,nonalwayssensitive,local,notdecrypt,sign,notunwrap,derive,notintegrity,notsignrecover\n\u2026\n"})}),"\n",(0,t.jsx)(n.h2,{id:"list-partition-object-single-alias",children:"List Partition Object (Single Alias)"}),"\n",(0,t.jsx)(n.p,{children:"The following command is able to list a single object within the specified partition, assigned flags and the first 3 bytes of the SHA256 hash over the symmetric key objects to detect changes:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"java -jar primus-tools.jar ListKeyStoreObject <HSM connection and credentials> [-keysonly] [-prefixes] [-allflags] [-allobjects] -aliases <?>\n"})}),"\n",(0,t.jsx)(n.p,{children:"Where:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"keysonly"})," \tlist only keys and no other objects"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"prefixes"}),"\tlist objects in a parsable format with keywords included"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"allflags"}),"\tlist all key attributes/flags"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"allobjects"}),"\tlist all objects (SecretKey, PublicKey, Certificate, \u2026)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"kak"}),"         define the key attestation key"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"kakpassword"})," define the key attestation key password"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"aliases"}),"     specify the key aliases to list"]}),"\n"]}),"\n",(0,t.jsx)(n.admonition,{type:"note",children:(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"aliases <?>"})," must be the last specified parameter."]})}),"\n",(0,t.jsx)(n.h2,{id:"list-key-entry",children:"List Key Entry"}),"\n",(0,t.jsx)(n.p,{children:"List key information:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"java -jar primus-tools.jar ListKeyEntry <HSM connection and credentials> /\n-keyname <keyname> [-keypassword <keypassword>]\n"})}),"\n",(0,t.jsx)(n.h2,{id:"list-key-flags",children:"List Key Flags"}),"\n",(0,t.jsx)(n.p,{children:"The following command allows to list the flags of a single key on the HSM:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"java -jar primus-tools.jar ListKeyFlags <HSM connection and credentials> -keyname <keyname> [-keypassword <keypassword>]\n"})}),"\n",(0,t.jsx)(n.h2,{id:"create-key",children:"Create Key"}),"\n",(0,t.jsx)(n.p,{children:"Use the following command to create a key on the HSM:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"java -jar primus-tools.jar CreateKey <HSM connection and credentials> /\n-keyname <keyname> [-keypassword <keypassword>] /\n-type <RSA|AES|TDEA|DDEA|EC> [-size <size>] [-curve <curve>] /\n[-flags <flags>] [-ckd] [-access <access>]\n"})}),"\n",(0,t.jsx)(n.admonition,{type:"note",children:(0,t.jsx)(n.p,{children:"PQC supported Algorithms require HSM firmware version 3.2.2. or above and Primus Tools version 2.4.1"})}),"\n",(0,t.jsx)(n.p,{children:"Where:"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"parameter"}),(0,t.jsx)(n.th,{children:"description"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"keyname"})}),(0,t.jsx)(n.td,{children:"Specify name of the key to store on the HSM (must not exist before creation)"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"type"})}),(0,t.jsxs)(n.td,{children:["Define key type of ",(0,t.jsx)(n.code,{children:"RSA"}),", ",(0,t.jsx)(n.code,{children:"AES"}),", ",(0,t.jsx)(n.code,{children:"TDEA"}),", ",(0,t.jsx)(n.code,{children:"DDEA"}),", ",(0,t.jsx)(n.code,{children:"EC"})," ",(0,t.jsx)("br",{})," or PQC Algorithms: ",(0,t.jsx)("br",{})," ",(0,t.jsx)(n.strong,{children:"ML-DSA:"})," ",(0,t.jsx)("br",{}),(0,t.jsx)(n.code,{children:"ML-DSA-44"}),", ",(0,t.jsx)(n.code,{children:"ML-DSA-65"}),", ",(0,t.jsx)(n.code,{children:"ML-DSA-87"}),(0,t.jsx)("br",{}),(0,t.jsx)(n.strong,{children:"SLH-DSA:"}),(0,t.jsx)("br",{}),(0,t.jsx)(n.code,{children:"SLH-DSA-SHAKE-128s"}),", ",(0,t.jsx)(n.code,{children:"SLH-DSA-SHAKE-128f"}),", ",(0,t.jsx)(n.code,{children:"SLH-DSA-SHAKE-192s"}),", ",(0,t.jsx)(n.code,{children:"SLH-DSA-SHAKE-192f"}),", ",(0,t.jsx)(n.code,{children:"SLH-DSA-SHAKE-256s"}),", ",(0,t.jsx)(n.code,{children:"SLH-DSA-SHAKE-256f"}),", ",(0,t.jsx)(n.code,{children:"SLH-DSA-SHA2-128s"}),", ",(0,t.jsx)(n.code,{children:"SLH-DSA-SHA2-128f"}),", ",(0,t.jsx)(n.code,{children:"SLH-DSA-SHA2-192s"}),", ",(0,t.jsx)(n.code,{children:"SLH-DSA-SHA2-192f"}),", ",(0,t.jsx)(n.code,{children:"SLH-DSA-SHA2-256s"}),", ",(0,t.jsx)(n.code,{children:"SLH-DSA-SHA2-256f"})," ",(0,t.jsx)("br",{}),(0,t.jsx)(n.strong,{children:"Kyber:"})," ",(0,t.jsx)("br",{}),(0,t.jsx)(n.code,{children:"ML-KEM-512"}),", ",(0,t.jsx)(n.code,{children:"ML-KEM-768"}),", ",(0,t.jsx)(n.code,{children:"ML-KEM-1024"})," ",(0,t.jsx)("br",{})," ",(0,t.jsx)(n.strong,{children:"XMSS:"})," ",(0,t.jsx)("br",{}),(0,t.jsx)(n.code,{children:"Xmss10Sha256"}),", ",(0,t.jsx)(n.code,{children:"Xmss16Sha256"}),", ",(0,t.jsx)(n.code,{children:"Xmss20Sha256"}),", ",(0,t.jsx)(n.code,{children:"Xmss10Shake256"}),", ",(0,t.jsx)(n.code,{children:"Xmss16Shake256"}),", ",(0,t.jsx)(n.code,{children:"Xmss20Shake256"})," ",(0,t.jsx)("br",{}),(0,t.jsx)(n.strong,{children:"LMS:"})," ",(0,t.jsx)("br",{}),(0,t.jsx)(n.code,{children:"{SHA256 or SHAKE}_{M32 or M24}_{H5 or H10 or H15 or H20}_{W1 or W2 or W4 or W8}"})," ",(0,t.jsx)("br",{}),"e.g. ",(0,t.jsx)(n.code,{children:"SHA256_M32_H5_W1"}),", ",(0,t.jsx)(n.code,{children:"SHAKE256_M24_H20_W8"})]})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"size"})}),(0,t.jsxs)(n.td,{children:["Specify key size of ",(0,t.jsx)(n.code,{children:"RSA"}),", ",(0,t.jsx)(n.code,{children:"AES"})," or ",(0,t.jsx)(n.code,{children:"EC"})]})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"curve"})}),(0,t.jsxs)(n.td,{children:["Specify elliptic curve name, e.g. ",(0,t.jsx)(n.code,{children:"secp224k1"}),", ",(0,t.jsx)(n.code,{children:"secp224r1"}),", ",(0,t.jsx)(n.code,{children:"secp256k1"}),", ",(0,t.jsx)(n.code,{children:"secp256r1"}),", ",(0,t.jsx)(n.code,{children:"secp384r1"}),", ",(0,t.jsx)(n.code,{children:"secp521r1"}),", ",(0,t.jsx)(n.code,{children:"x962p239v1"}),", ",(0,t.jsx)(n.code,{children:"x962p239v2"}),", ",(0,t.jsx)(n.code,{children:"x962p239v3"}),", ",(0,t.jsx)(n.code,{children:"brainpool224r1"}),", ",(0,t.jsx)(n.code,{children:"brainpool256r1"}),", ",(0,t.jsx)(n.code,{children:"brainpool320r1"}),", ",(0,t.jsx)(n.code,{children:"brainpool384r1"}),", ",(0,t.jsx)(n.code,{children:"brainpool512r1"}),", ",(0,t.jsx)(n.code,{children:"frp256v1"}),", (User-defined curves are currently not supported)"]})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"flags"})}),(0,t.jsxs)(n.td,{children:["Define the key flags ",(0,t.jsx)(n.code,{children:"sensitive"}),", ",(0,t.jsx)(n.code,{children:"extractable"}),", ",(0,t.jsx)(n.code,{children:"modifiable"}),", ",(0,t.jsx)(n.code,{children:"encrypt"}),", ",(0,t.jsx)(n.code,{children:"decrypt"}),", ",(0,t.jsx)(n.code,{children:"sign"}),", ",(0,t.jsx)(n.code,{children:"verify"}),", ",(0,t.jsx)(n.code,{children:"wrap"}),", ",(0,t.jsx)(n.code,{children:"unwrap"})," ",(0,t.jsx)("br",{}),' To negate a flag insert "non" in front e.g. ',(0,t.jsx)(n.code,{children:"nonextractable"}),", ",(0,t.jsx)(n.code,{children:"nonencrypt"}),", \u2026 ",(0,t.jsx)("br",{})," If left undefined, default keyflags will be assigned."]})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"access"})}),(0,t.jsx)(n.td,{children:"Define access to the SKA key. Used for EKA/SKA only"})]})]})]}),"\n",(0,t.jsx)(n.admonition,{type:"note",children:(0,t.jsx)(n.p,{children:"The key must not exist before creation. Flags corresponds to the key flags and capabilities described in Primus HSM User Guide Appendix chapters. By default, keys are not extractable. If you require extractable keys, the flags must be set when creating the key!"})}),"\n",(0,t.jsx)(n.h2,{id:"delete-key",children:"Delete Key"}),"\n",(0,t.jsx)(n.p,{children:"The following command allows to delete a single key on the HSM:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"java -jar primus-tools.jar DeleteKey <HSM connection and credentials> -keyname <keyname> [-keypassword <keypassword>]\n"})}),"\n",(0,t.jsx)(n.admonition,{type:"note",children:(0,t.jsx)(n.p,{children:"Key must exist. If Key Invalidation is active, keys are only marked for deletion, they are not really deleted."})}),"\n",(0,t.jsx)(n.h2,{id:"get-key-flag",children:"Get Key Flag"}),"\n",(0,t.jsx)(n.p,{children:"To list a single specific flag of a single specific key, execute the following command:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"java -jar primus-tools.jar GetKeyFlag <HSM connection and credentials> -keyname <keyname> [-keypassword <keypassword>] -flag <flagname>\n"})}),"\n",(0,t.jsx)(n.h2,{id:"set-key-flags",children:"Set Key Flags"}),"\n",(0,t.jsx)(n.p,{children:"The following command allows to modify multiple key flags of a key on the HSM:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"java -jar primus-tools.jar SetKeyFlag <HSM connection and credentials> /\n-keyname <keyname> [-keypassword <keypassword>] /\n-flag <flagname>[,<flagname>,\u2026] [-value <flagvalue>]\n"})}),"\n",(0,t.jsx)(n.p,{children:"Where:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"keyname"}),"\tname of the key to modify on the HSM"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"flag"}),'\tsensitive,extractable,modifiable,\nencrypt,decrypt,sign,verify,wrap,unwrap\nTo negate a flag insert "non" in front e.g. nonextractable, nonencrypt, \u2026']}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"value"}),"\toptional, true or false, can be used instead of above negation"]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"possible key flags"}),": sensitive,extractable,modifiable,copyable,preload,token,indestructible,private,public,blocked,neverextractable,nopublickey,alwayssensitive,externalobject,local,trusted,wrapwithtrusted,unique,encrypt,decrypt,sign,verify,wrap,unwrap,derive,integrity,attestation,timestamp,verifyrecover,signrecover"]}),"\n",(0,t.jsx)(n.admonition,{type:"note",children:(0,t.jsx)(n.p,{children:"Key must be modifiable. Policy can only be set stricter and not looser! Device/Partition policy must allow it. Flags correspond to the key flags and capabilities described in Primus HSM User Guide chapter Appendix."})}),"\n",(0,t.jsx)(n.h2,{id:"set-key-id",children:"Set Key Id"}),"\n",(0,t.jsx)(n.p,{children:"Set the ID of a key."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"java -jar primus-tools.jar SetKeyId <HSM connection and credentials> -keyname <keyname> [-keypassword <keypassword>] /\n[-keyid <[hex:|base64:]keyid>] (omiting clears id) [-objecttype <Certificate|PublicKey>]\n"})}),"\n",(0,t.jsx)(n.h2,{id:"rename-key",children:"Rename Key"}),"\n",(0,t.jsx)(n.p,{children:"To rename (not to be mistaken for ID change) a key, use the following command:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"java -jar primus-tools.jar RenameKey <HSM connection and credentials> /\n -keyname <keyname> [-keypassword <keypassword>] -newname <newname> [-newpassword <newpassword>]\n"})}),"\n",(0,t.jsx)(n.h2,{id:"import-certificate",children:"Import Certificate"}),"\n",(0,t.jsx)(n.p,{children:"Import a certificate to the HSM."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"java -jar primus-tools.jar ImportCertificate <HSM connection and credentials> /\n -certificatename <name of the certificate to be imported> /\n -inputfile <certficate input file, DER or PEM format> | -inputdata <certficate data, base64 or DER> /\n [-force (force certificate overwrite and unmatching certificate installation)] / \n [-check (check certificate corresponds to possibly present public key)]\n"})}),"\n",(0,t.jsx)(n.h2,{id:"import-public-key",children:"Import Public Key"}),"\n",(0,t.jsx)(n.p,{children:"Import a public key with the following command:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"java -jar primus-tools.jar ImportPublicKey <HSM connection and credentials> /\n-keyname <name of the public key to be imported> /\n[-keytype <type of the public key>] /\n-inputfile <public key input file, DER or PEM format> | -inputdata <public key data, base64 of DER>\n"})}),"\n",(0,t.jsx)(n.h2,{id:"import-wrapped-key",children:"Import Wrapped Key"}),"\n",(0,t.jsx)(n.p,{children:"Import a wrapped key with the following command:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"java -jar primus-tools.jar ImportKeyWrapped  <HSM connection and credentials> /\n-wrapkeyname <name of the unwrapping key> [-wrapkeypassword <unwrapping key password>]\n-keydata <hexadecimal wrapped/encrypted key(s)>\n[-infile <wrapped/encrypted key input file(s)>]\n-keyname <name of the key to be imported> [-keypassword <key password>]\n"})}),"\n",(0,t.jsx)(n.p,{children:"Where:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"-wrapkeyname"}),"  specify the wrapping key (AES or RSA),"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"-wrapkeypassword"})," specify the password of the wrapping key, RSA key mustn't have a password"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"-keydata"})," insert the hexadecimal keydata output from the ",(0,t.jsx)(n.code,{children:"ExportKeyWrapped"})," command,"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"-infile"})," optionally specify the wrapped key file, omit the ",(0,t.jsx)(n.code,{children:"-keydata"})," parameter"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"-keyname"})," specify the key to be exported (AES, RSA or EC)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"-keypassword"})," specify the password of the key to be exported"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"export-public-key",children:"Export Public Key"}),"\n",(0,t.jsxs)(n.p,{children:["To export a public key from the HSM use the command ",(0,t.jsx)(n.code,{children:"GetPublicKey"}),":"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"java -jar primus-tools.jar GetPublicKey <HSM connection and credentials> /\n-keyname <keyname> [-keypassword <keypassword>]\n"})}),"\n",(0,t.jsx)(n.admonition,{type:"note",children:(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"GetPublicKey"})," encodes the (DER/ASN.1) encoding of the public key with base64."]})}),"\n",(0,t.jsx)(n.h2,{id:"export-wrapped-key",children:"Export Wrapped Key"}),"\n",(0,t.jsx)(n.p,{children:"Export a wrapped key with the following command:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"java -jar primus-tools.jar ExportKeyWrapped <HSM connection and credentials> /\n-wrapkeyname <name of the wrapping key> [-wrapkeypassword <wrapping key password>] /\n-keyname <name of the key to be exported, a symmetric key> [-keypassword <key password>] /\n[-outfile <wrapped/encrypted key output file(s)>] /\n"})}),"\n",(0,t.jsx)(n.p,{children:"Where:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"-wrapkeyname"}),"  specify the wrapping key (AES or RSA),"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"-wrapkeypassword"})," specify the password of the wrapping key, RSA key mustn't have a password"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"-keyname"})," specify the key to be exported (AES, RSA or EC)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"-keypassword"})," specify the password of the key to be exported"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"-outfile"})," the command outputs the wrapped key in hexadecimal, add this optional command to output the data to a file"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},65537:(e,n,s)=>{s.d(n,{A:()=>S});var r=s(96540),t=s(34164),a=s(65627),i=s(56347),l=s(50372),o=s(30604),c=s(11861),d=s(78749);function h(e){return r.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,r.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function p(e){const{values:n,children:s}=e;return(0,r.useMemo)((()=>{const e=n??function(e){return h(e).map((e=>{let{props:{value:n,label:s,attributes:r,default:t}}=e;return{value:n,label:s,attributes:r,default:t}}))}(s);return function(e){const n=(0,c.XI)(e,((e,n)=>e.value===n.value));if(n.length>0)throw new Error(`Docusaurus error: Duplicate values "${n.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[n,s])}function u(e){let{value:n,tabValues:s}=e;return s.some((e=>e.value===n))}function j(e){let{queryString:n=!1,groupId:s}=e;const t=(0,i.W6)(),a=function(e){let{queryString:n=!1,groupId:s}=e;if("string"==typeof n)return n;if(!1===n)return null;if(!0===n&&!s)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return s??null}({queryString:n,groupId:s});return[(0,o.aZ)(a),(0,r.useCallback)((e=>{if(!a)return;const n=new URLSearchParams(t.location.search);n.set(a,e),t.replace({...t.location,search:n.toString()})}),[a,t])]}function y(e){const{defaultValue:n,queryString:s=!1,groupId:t}=e,a=p(e),[i,o]=(0,r.useState)((()=>function(e){let{defaultValue:n,tabValues:s}=e;if(0===s.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(n){if(!u({value:n,tabValues:s}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${n}" but none of its children has the corresponding value. Available values are: ${s.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return n}const r=s.find((e=>e.default))??s[0];if(!r)throw new Error("Unexpected error: 0 tabValues");return r.value}({defaultValue:n,tabValues:a}))),[c,h]=j({queryString:s,groupId:t}),[y,x]=function(e){let{groupId:n}=e;const s=function(e){return e?`docusaurus.tab.${e}`:null}(n),[t,a]=(0,d.Dv)(s);return[t,(0,r.useCallback)((e=>{s&&a.set(e)}),[s,a])]}({groupId:t}),m=(()=>{const e=c??y;return u({value:e,tabValues:a})?e:null})();(0,l.A)((()=>{m&&o(m)}),[m]);return{selectedValue:i,selectValue:(0,r.useCallback)((e=>{if(!u({value:e,tabValues:a}))throw new Error(`Can't select invalid tab value=${e}`);o(e),h(e),x(e)}),[h,x,a]),tabValues:a}}var x=s(9136);const m={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var b=s(74848);function f(e){let{className:n,block:s,selectedValue:r,selectValue:i,tabValues:l}=e;const o=[],{blockElementScrollPositionUntilNextRender:c}=(0,a.a_)(),d=e=>{const n=e.currentTarget,s=o.indexOf(n),t=l[s].value;t!==r&&(c(n),i(t))},h=e=>{let n=null;switch(e.key){case"Enter":d(e);break;case"ArrowRight":{const s=o.indexOf(e.currentTarget)+1;n=o[s]??o[0];break}case"ArrowLeft":{const s=o.indexOf(e.currentTarget)-1;n=o[s]??o[o.length-1];break}}n?.focus()};return(0,b.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,t.A)("tabs",{"tabs--block":s},n),children:l.map((e=>{let{value:n,label:s,attributes:a}=e;return(0,b.jsx)("li",{role:"tab",tabIndex:r===n?0:-1,"aria-selected":r===n,ref:e=>{o.push(e)},onKeyDown:h,onClick:d,...a,className:(0,t.A)("tabs__item",m.tabItem,a?.className,{"tabs__item--active":r===n}),children:s??n},n)}))})}function k(e){let{lazy:n,children:s,selectedValue:a}=e;const i=(Array.isArray(s)?s:[s]).filter(Boolean);if(n){const e=i.find((e=>e.props.value===a));return e?(0,r.cloneElement)(e,{className:(0,t.A)("margin-top--md",e.props.className)}):null}return(0,b.jsx)("div",{className:"margin-top--md",children:i.map(((e,n)=>(0,r.cloneElement)(e,{key:n,hidden:e.props.value!==a})))})}function g(e){const n=y(e);return(0,b.jsxs)("div",{className:(0,t.A)("tabs-container",m.tabList),children:[(0,b.jsx)(f,{...n,...e}),(0,b.jsx)(k,{...n,...e})]})}function S(e){const n=(0,x.A)();return(0,b.jsx)(g,{...e,children:h(e.children)},String(n))}},79329:(e,n,s)=>{s.d(n,{A:()=>i});s(96540);var r=s(34164);const t={tabItem:"tabItem_Ymn6"};var a=s(74848);function i(e){let{children:n,hidden:s,className:i}=e;return(0,a.jsx)("div",{role:"tabpanel",className:(0,r.A)(t.tabItem,i),hidden:s,children:n})}}}]);