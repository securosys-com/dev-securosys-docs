"use strict";(self.webpackChunksecurosys_docs=self.webpackChunksecurosys_docs||[]).push([[29694],{3003:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>o,default:()=>u,frontMatter:()=>a,metadata:()=>i,toc:()=>l});const i=JSON.parse('{"id":"Tutorials/Signing/SignRequest","title":"Signing with Hardware Security Module (HSM)","description":"Learn about managing keys securely with Hardware Security Modules (HSMs) for data encryption and digital signatures.","source":"@site/tsb/Tutorials/Signing/SignRequest.md","sourceDirName":"Tutorials/Signing","slug":"/Tutorials/Signing/SignRequest","permalink":"/tsb/Tutorials/Signing/SignRequest","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1741162132000,"sidebarPosition":0,"frontMatter":{"sidebar_position":0,"title":"Signing with Hardware Security Module (HSM)","sidebar_label":"Sign & Verify","description":"Learn about managing keys securely with Hardware Security Modules (HSMs) for data encryption and digital signatures.","keywords":["cybersecurity","data security","key management","cloud hsm","hsm key management","hsm cloud","hsm as a service","cloud based hsm","hsm digital signature","hsm services","hsm service","hsm","hardware security module","REST API license","EC Key","Elliptic Curve","create key request","sign request","verify signature","synchronous sign","signature algorithm","supported EC-Curves"]},"sidebar":"tutorialSidebar","previous":{"title":"Sign a PDF","permalink":"/tsb/Tutorials/Signing/SignPDF"},"next":{"title":"Wrap & Unwrap","permalink":"/tsb/Tutorials/Wrapping/wrap-unwrap"}}');var r=s(74848),t=s(28453);const a={sidebar_position:0,title:"Signing with Hardware Security Module (HSM)",sidebar_label:"Sign & Verify",description:"Learn about managing keys securely with Hardware Security Modules (HSMs) for data encryption and digital signatures.",keywords:["cybersecurity","data security","key management","cloud hsm","hsm key management","hsm cloud","hsm as a service","cloud based hsm","hsm digital signature","hsm services","hsm service","hsm","hardware security module","REST API license","EC Key","Elliptic Curve","create key request","sign request","verify signature","synchronous sign","signature algorithm","supported EC-Curves"]},o="Sign & Verify",c={},l=[{value:"Create EC Key (Elliptic Curve)",id:"create-ec-key-elliptic-curve",level:2},{value:"Sign a Payload",id:"sign-a-payload",level:2},{value:"Verify",id:"verify",level:2}];function d(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",strong:"strong",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"sign--verify",children:"Sign & Verify"})}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.code,{children:"REST_API"})," license is required to create and use keys without policy"]}),"\n",(0,r.jsx)(n.admonition,{title:"Tip",type:"tip",children:(0,r.jsx)(n.p,{children:"Key's without policy are of different key-type and thus cannot be transformed to SKA-Key later on."})}),"\n",(0,r.jsx)(n.h2,{id:"create-ec-key-elliptic-curve",children:"Create EC Key (Elliptic Curve)"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"POST"}),": ",(0,r.jsx)(n.a,{href:"https://primusdev.cloudshsm.com/swagger-ui/index.html?configUrl=/v3/api-docs/swagger-config#/Keys/createKey",children:"/v1/key"})]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Description"}),": Create key request."]}),"\n",(0,r.jsxs)(n.p,{children:["Replace ",(0,r.jsx)(n.code,{children:"<keyname>"})," and ",(0,r.jsx)(n.code,{children:"password"}),". The password is optional and can be deleted completely."]}),"\n",(0,r.jsx)(n.admonition,{title:"Tip",type:"tip",children:(0,r.jsxs)(n.p,{children:["For more information about supported EC-Curves check: ",(0,r.jsx)(n.a,{href:"/tsb/Concepts/key/Curve-Oid",children:"Supported Curve-Oid's"})]})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:'{\n    "label": "<keyname>",\n    "password": [ "R","E","P","L","A","C","E" ],\n    "algorithm": "EC",\n    "curveOid": "1.3.132.0.10",\n    "attributes": {\n        "encrypt": false,\n        "decrypt": false,\n        "verify": true,\n        "sign": true,\n        "wrap": false,\n        "unwrap": false,\n        "derive": false,\n        "bip32": false,\n        "extractable": false,\n        "modifiable": true,\n        "destroyable": true,\n        "sensitive": true,\n        "copyable": false\n    }\n}\n'})}),"\n",(0,r.jsx)(n.h2,{id:"sign-a-payload",children:"Sign a Payload"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"POST"}),": ",(0,r.jsx)(n.a,{href:"https://rest-api.cloudshsm.com/swagger-ui/index.html?configUrl=/v3/api-docs/swagger-config#/Synchronous%20Key%20Operations/synchronousSign",children:"/v1/synchronousSign"})]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Description"}),": Contains an sign request without metadata."]}),"\n",(0,r.jsxs)(n.p,{children:["Replace ",(0,r.jsx)(n.code,{children:"<keyname>"})," and ",(0,r.jsx)(n.code,{children:"password"}),"."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:'{\n  "signRequest": {\n    "payload": "U2lnblBheWxvYWREZW1v",\n    "payloadType": "UNSPECIFIED",\n    "signKeyName": "<keyname>",\n    "keyPassword": [ "R","E","P","L","A","C","E" ],\n    "signatureAlgorithm": "SHA256_WITH_ECDSA"\n  }\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Response"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:'{\n  "signature": "MEUCIQD6085OQP6nrwvDWDDyYFtjIOIXJ1OpY5CIeiAiXU6tCwIgZNNM7KEtpk5vy+GupNhNdyLa4M+humtlLsgZQdJ9fcc="\n}\n'})}),"\n",(0,r.jsx)(n.h2,{id:"verify",children:"Verify"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"POST:"})," ",(0,r.jsx)(n.a,{href:"https://rest-api.cloudshsm.com/swagger-ui/index.html?configUrl=/v3/api-docs/swagger-config#/Synchronous%20Key%20Operations/verifySignature",children:"/v1/verify"})]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Description"})," Verify signature of a payload"]}),"\n",(0,r.jsxs)(n.p,{children:["Replace ",(0,r.jsx)(n.code,{children:"signature"})," from the previous response and set the initial ",(0,r.jsx)(n.code,{children:"payload"})]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:'{\n  "verifySignatureRequest": {\n    "signKeyName": "<keyname>",\n    "masterKeyPassword": [ "R","E","P","L","A","C","E" ],\n    "signatureAlgorithm": "SHA256_WITH_ECDSA",\n    "payload": "U2lnblBheWxvYWREZW1v",\n    "signature": "MEUCIQD6085OQP6nrwvDWDDyYFtjIOIXJ1OpY5CIeiAiXU6tCwIgZNNM7KEtpk5vy+GupNhNdyLa4M+humtlLsgZQdJ9fcc="\n  }\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Response"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:'{\n  "signatureValid": true\n}\n'})})]})}function u(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},28453:(e,n,s)=>{s.d(n,{R:()=>a,x:()=>o});var i=s(96540);const r={},t=i.createContext(r);function a(e){const n=i.useContext(t);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),i.createElement(t.Provider,{value:n},e.children)}}}]);