"use strict";(self.webpackChunksecurosys_docs=self.webpackChunksecurosys_docs||[]).push([[63560],{16851:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>a,contentTitle:()=>s,default:()=>u,frontMatter:()=>r,metadata:()=>l,toc:()=>d});const l=JSON.parse('{"id":"Installation/golang","title":"Installing Vault Community with Golang","description":"Installing HashiCorp Vault Community with Docker","source":"@site/hc_vault/Installation/golang.md","sourceDirName":"Installation","slug":"/Installation/golang","permalink":"/hc_vault/Installation/golang","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1741162132000,"sidebarPosition":1,"frontMatter":{"sidebar_position":1,"title":"Installing Vault Community with Golang","sidebar_label":"with Golang","description":"Installing HashiCorp Vault Community with Docker","keywords":["hsm","cloud hsm"]},"sidebar":"tutorialSidebar","previous":{"title":"with Docker","permalink":"/hc_vault/Installation/docker"},"next":{"title":"Concepts","permalink":"/hc_vault/category/concepts"}}');var o=i(74848),t=i(28453);const r={sidebar_position:1,title:"Installing Vault Community with Golang",sidebar_label:"with Golang",description:"Installing HashiCorp Vault Community with Docker",keywords:["hsm","cloud hsm"]},s="Installation using Golang",a={},d=[{value:"Environment Variables",id:"environment-variables",level:3},{value:"Additional prerequisites for UI",id:"additional-prerequisites-for-ui",level:3},{value:"How to build Vault Community Edition",id:"how-to-build-vault-community-edition",level:3},{value:"Using pre-built releases",id:"using-pre-built-releases",level:4},{value:"Build from sources",id:"build-from-sources",level:4},{value:"How to run Vault Community Edition",id:"how-to-run-vault-community-edition",level:3},{value:"Developer mode",id:"developer-mode",level:4},{value:"Production mode",id:"production-mode",level:4}];function c(e){const n={a:"a",code:"code",h1:"h1",h3:"h3",h4:"h4",header:"header",li:"li",p:"p",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"installation-using-golang",children:"Installation using Golang"})}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Prerequisites"}),": Install Golang 1.21.2 ",(0,o.jsx)(n.a,{href:"https://go.dev/dl/",children:"(download)"}),"."]}),"\n",(0,o.jsx)(n.p,{children:"On Windows : Add GOPATH and GOROOT manually to the system environment and restart your console."}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"GOPATH default %USERPROFILE%\\go"}),"\n",(0,o.jsx)(n.li,{children:"GOROOT defaults to %programfiles%"}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"environment-variables",children:"Environment Variables"}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.code,{children:"export VAULT_CLIENT_TIMEOUT=2000"})}),"\n",(0,o.jsxs)(n.p,{children:["This change is necessary, as the ",(0,o.jsx)(n.strong,{children:"HashiCorp Vault"})," default value is too low (60 seconds). A higher value is required for some operations (e.g. rekey) when waiting for an approved response."]}),"\n",(0,o.jsx)(n.h3,{id:"additional-prerequisites-for-ui",children:"Additional prerequisites for UI"}),"\n",(0,o.jsx)(n.p,{children:"For the graphical User Interface, the following packages must be installed on the machine:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.a,{href:"https://nodejs.org/dist/v16.17.1/",children:"Node.js"})," (with NPM) - version v16.17.1"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.a,{href:"https://classic.yarnpkg.com/en/",children:"Yarn"})," - Can be installed with the command ",(0,o.jsx)(n.code,{children:"npm install -g yarn"})]}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"how-to-build-vault-community-edition",children:"How to build Vault Community Edition"}),"\n",(0,o.jsx)(n.h4,{id:"using-pre-built-releases",children:"Using pre-built releases"}),"\n",(0,o.jsxs)(n.p,{children:["You can find pre-built releases of the ",(0,o.jsx)(n.strong,{children:"Vault Community Edition"})," on the Securosys JFrog artifactory. Download the latest binary file, corresponding to your target OS, configuration files, or docker image."]}),"\n",(0,o.jsx)(n.p,{children:"Further documentation and credentials are available on:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.a,{href:"https://support.securosys.com/external/",children:"Securosys Support Portal"}),"(account required)"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.a,{href:"https://www.securosys.com/en/hashicorp-vault",children:"Securosys website"}),"."]}),"\n"]}),"\n",(0,o.jsx)(n.h4,{id:"build-from-sources",children:"Build from sources"}),"\n",(0,o.jsx)(n.p,{children:"There are multiple ways to build and run the Vault application."}),"\n",(0,o.jsxs)(n.p,{children:["To build Vault run either ",(0,o.jsx)(n.code,{children:"go build -o [executable_name]"})," or use the command ",(0,o.jsx)(n.code,{children:"make bin"}),". This will build it using the ",(0,o.jsx)(n.strong,{children:"Make file"})," configuration. The Vault executable will be placed in the ",(0,o.jsx)(n.strong,{children:"bin"})," directory."]}),"\n",(0,o.jsx)(n.p,{children:"To build Vault with User Interface, run the following commands"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.code,{children:"make static-dist"})}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.code,{children:"make bin"}),"\nThe Vault executable will be placed in the bin directory."]}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(n.p,{children:["To build a docker image, run the following command ",(0,o.jsx)(n.code,{children:"make docker VERSION={$VERSION}"})," where ",(0,o.jsx)(n.code,{children:"{$VERSION}"}),"will be a version of the Securosys Vault image."]}),"\n",(0,o.jsxs)(n.p,{children:["To build Vault executables for different platforms (Windows, MacOS, Linux, FreeBSD, NetBSD and OpenBSD), ",(0,o.jsx)(n.code,{children:"make release VERSION={$VERSION}"})," where ",(0,o.jsx)(n.code,{children:"{$VERSION}"})," will be a version of build."]}),"\n",(0,o.jsxs)(n.p,{children:["To build everything, docker image and all executables for all platforms, ",(0,o.jsx)(n.code,{children:"make release-all VERSION={$VERSION}"})," where ",(0,o.jsx)(n.code,{children:"{$VERSION}"})," will be a version of build."]}),"\n",(0,o.jsx)(n.h3,{id:"how-to-run-vault-community-edition",children:"How to run Vault Community Edition"}),"\n",(0,o.jsxs)(n.p,{children:["You can run Vault without building it ",(0,o.jsx)(n.code,{children:"go run ./main.go [vault parameters]"})]}),"\n",(0,o.jsx)(n.h4,{id:"developer-mode",children:"Developer mode"}),"\n",(0,o.jsxs)(n.p,{children:["To run the server in ",(0,o.jsx)(n.strong,{children:"dev mode"})," use either of the following commands ",(0,o.jsx)(n.code,{children:"go run ./main.go server -dev"})," or ",(0,o.jsx)(n.code,{children:"./executable_name server -dev"})]}),"\n",(0,o.jsxs)(n.p,{children:["In dev mode, all data is stored ",(0,o.jsx)(n.strong,{children:"only in memory"})," and ",(0,o.jsx)(n.strong,{children:"keys will be initialized every time"}),"."]}),"\n",(0,o.jsx)(n.h4,{id:"production-mode",children:"Production mode"}),"\n",(0,o.jsxs)(n.p,{children:["To run the server in ",(0,o.jsx)(n.strong,{children:"production mode"})," use either of the following commands ",(0,o.jsx)(n.code,{children:"go run ./main.go server -config=config.hcl"})," or ",(0,o.jsx)(n.code,{children:"./executable_name server -config=config.hcl"})]}),"\n",(0,o.jsxs)(n.p,{children:["Create the directory ",(0,o.jsx)(n.strong,{children:'"data"'})," (if it does not already exist)."]}),"\n",(0,o.jsxs)(n.p,{children:["If the Vault server is not yet initialized, then use either of the following commands ",(0,o.jsx)(n.code,{children:"go run ./main.go operator init -address http://127.0.0.1:8200"})," or ",(0,o.jsx)(n.code,{children:"./executable_name operator init -address http://127.0.0.1:8200"})]}),"\n",(0,o.jsx)(n.p,{children:"These commands initialize the Vault server with default Vault encryption."})]})}function u(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(c,{...e})}):c(e)}},28453:(e,n,i)=>{i.d(n,{R:()=>r,x:()=>s});var l=i(96540);const o={},t=l.createContext(o);function r(e){const n=l.useContext(t);return l.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:r(e.components),l.createElement(t.Provider,{value:n},e.children)}}}]);