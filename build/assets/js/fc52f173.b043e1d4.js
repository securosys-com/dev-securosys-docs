"use strict";(self.webpackChunksecurosys_docs=self.webpackChunksecurosys_docs||[]).push([[32442],{13765:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>a,contentTitle:()=>r,default:()=>p,frontMatter:()=>l,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"osslv3/Installation/installation","title":"Installing PKCS#11 Provider API for OpenSSL 3","description":"Discover OpenSSL\'s PKCS11 provider, CLI commands, installation tips, and troubleshooting. Integrate seamlessly with HSM for enhanced security.","source":"@site/openssl/osslv3/Installation/installation.md","sourceDirName":"osslv3/Installation","slug":"/osslv3/Installation/","permalink":"/openssl/osslv3/Installation/","draft":false,"unlisted":false,"tags":[{"inline":true,"label":"OpenSSL","permalink":"/openssl/tags/open-ssl"},{"inline":true,"label":"PKCS#11","permalink":"/openssl/tags/pkcs-11"}],"version":"current","lastUpdatedAt":1741162132000,"sidebarPosition":2,"frontMatter":{"sidebar_position":2,"title":"Installing PKCS#11 Provider API for OpenSSL 3","sidebar_label":"Installation","description":"Discover OpenSSL\'s PKCS11 provider, CLI commands, installation tips, and troubleshooting. Integrate seamlessly with HSM for enhanced security.","keywords":["OpenSSL PKCS11 provider","OpenSSL PKCS11 API","OpenSSL command line utility (CLI)","OpenSSL CLI commands","OpenSSL installation guide","OpenSSL installation troubleshooting","OpenSSL troubleshooting tips","OpenSSL certificate management","OpenSSL certificate creation","OpenSSL certificate renewal","OpenSSL configuration file","OpenSSL configuration options","OpenSSL configuration guide","OpenSSL encryption algorithms","OpenSSL decryption methods","OpenSSL digital signatures","OpenSSL SSL/TLS protocols","OpenSSL SSL/TLS configuration","OpenSSL heartbleed vulnerability","OpenSSL security updates"],"tags":["OpenSSL","PKCS#11"]},"sidebar":"openssl","previous":{"title":"Prerequisites","permalink":"/openssl/osslv3/Installation/prerequisites"},"next":{"title":"Configuration","permalink":"/openssl/osslv3/Installation/configuration"}}');var t=s(74848),o=s(28453);const l={sidebar_position:2,title:"Installing PKCS#11 Provider API for OpenSSL 3",sidebar_label:"Installation",description:"Discover OpenSSL's PKCS11 provider, CLI commands, installation tips, and troubleshooting. Integrate seamlessly with HSM for enhanced security.",keywords:["OpenSSL PKCS11 provider","OpenSSL PKCS11 API","OpenSSL command line utility (CLI)","OpenSSL CLI commands","OpenSSL installation guide","OpenSSL installation troubleshooting","OpenSSL troubleshooting tips","OpenSSL certificate management","OpenSSL certificate creation","OpenSSL certificate renewal","OpenSSL configuration file","OpenSSL configuration options","OpenSSL configuration guide","OpenSSL encryption algorithms","OpenSSL decryption methods","OpenSSL digital signatures","OpenSSL SSL/TLS protocols","OpenSSL SSL/TLS configuration","OpenSSL heartbleed vulnerability","OpenSSL security updates"],tags:["OpenSSL","PKCS#11"]},r="Installing PKCS#11 for OpenSSL v3",a={},c=[{value:"Further content",id:"further-content",level:2}];function d(e){const n={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,o.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"installing-pkcs11-for-openssl-v3",children:"Installing PKCS#11 for OpenSSL v3"})}),"\n",(0,t.jsxs)(n.p,{children:["Download the package containing the pre-compiled ",(0,t.jsx)(n.a,{href:"/openssl/osslv3/downloads",children:"OpenSSL\npkcs11-provider"})," (login required). Extract the provider and move the files to\na suitable directory. The path used throughout this documentation is\n",(0,t.jsx)(n.code,{children:"/usr/local/lib/ossl-modules/"}),". The provider location has to be\nspecified in the OpenSSL configuration. That means that the location\ndoes not matter as long as the user of the OpenSSL tool can access it."]}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Download the bundle and extract its content to ",(0,t.jsx)(n.code,{children:"/tmp/securosys"})]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'P11_PROV_VERSION=latest\nCRED=<USERNAME:PASSWORD>\n\ncurl -L -XGET "https://${CRED}@securosys.jfrog.io/artifactory/opensslv3-pkcs11/${P11_PROV_VERSION}/Securosys_PrimusAPI_OSSLv3-Provider-PKCS11-${P11_PROV_VERSION}.zip" -o Securosys_PrimusAPI_OSSLv3-Provider-PKCS11-${P11_PROV_VERSION}.zip\nunzip Securosys_PrimusAPI_OSSLv3-Provider-PKCS11-${P11_PROV_VERSION}.zip -d /tmp/securosys\n'})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Extract the library files to ",(0,t.jsx)(n.code,{children:"/usr/local/lib/ossl-modules/"})]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"unzip /tmp/securosys/securosys_primusapi_osslv3-provider-pkcs11-executable-${P11_PROV_VERSION}.zip -d /tmp/securosys/\nsudo mkdir -p /usr/local/lib/ossl-modules\nsudo unzip -j /tmp/securosys/PrimusAPI_OSSLv3-Provider-PKCS11-${P11_PROV_VERSION}-rhel8_amd64.zip -d /usr/local/lib/ossl-modules/\n"})}),"\n",(0,t.jsxs)(n.admonition,{type:"tip",children:[(0,t.jsx)(n.p,{children:'When using the version label "latest", the final unzip command will fail if the files in the first archive include a different version tag.\nReplace "-rhel8_amd64.zip" with your platform and architecture specific package.'}),(0,t.jsxs)(n.p,{children:["Avoid using the packages, as they will install to ",(0,t.jsx)(n.code,{children:"/usr/lib/osslmodules"}),' and may be replaced by an incompatible "latchset" update!']})]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Change the owner and permissions of the extracted files"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"sudo chown root:primus /usr/local/lib/ossl-modules/pkcs11.{so,la}\nsudo chmod 444 /usr/local/lib/ossl-modules/pkcs11.{so,la}\n"})}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.admonition,{type:"tip",children:(0,t.jsxs)(n.p,{children:["If you ",(0,t.jsx)(n.strong,{children:"built OpenSSL yourself"})," following the instructions in the\n",(0,t.jsx)(n.a,{href:"/openssl/osslv3/Installation/prerequisites#build-from-source",children:"prerequisites page"}),", you can place the\npkcs11-provider files with the built-in providers in the\n",(0,t.jsx)(n.em,{children:"/opt/openssl-${OPENSSL_VERSION}/lib/ossl-modules"})," directory."]})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Files"})}),"\n",(0,t.jsx)(n.p,{children:"The package with the pre-compiled binaries contains the following files:"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"File"}),(0,t.jsx)(n.th,{children:"Description"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"pkcs11.so"}),(0,t.jsx)(n.td,{children:"Dynamically-linked shared object. This file is loaded by OpenSSL"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"pkcs11.la"}),(0,t.jsx)(n.td,{children:"Libtool library file. Description of the library generated by libtool"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"pkcs11.license"}),(0,t.jsx)(n.td,{children:"Copy of the license"})]})]})]}),"\n",(0,t.jsx)(n.h2,{id:"further-content",children:"Further content"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"/openssl/osslv3/Installation/configuration",children:"Configuration"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"/openssl/osslv3/Tutorial/openssl_cli",children:"Generate a key with OpenSSL"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"../Tutorial/troubleshooting",children:"Troubleshooting"})}),"\n"]})]})}function p(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},28453:(e,n,s)=>{s.d(n,{R:()=>l,x:()=>r});var i=s(96540);const t={},o=i.createContext(t);function l(e){const n=i.useContext(o);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:l(e.components),i.createElement(o.Provider,{value:n},e.children)}}}]);