"use strict";(self.webpackChunksecurosys_docs=self.webpackChunksecurosys_docs||[]).push([[65576],{28453:(e,n,t)=>{t.d(n,{R:()=>r,x:()=>a});var i=t(96540);const o={},s=i.createContext(o);function r(e){const n=i.useContext(s);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:r(e.components),i.createElement(s.Provider,{value:n},e.children)}},65537:(e,n,t)=>{t.d(n,{A:()=>L});var i=t(96540),o=t(34164),s=t(65627),r=t(56347),a=t(50372),l=t(30604),c=t(11861),u=t(78749);function d(e){return i.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,i.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function p(e){const{values:n,children:t}=e;return(0,i.useMemo)((()=>{const e=n??function(e){return d(e).map((e=>{let{props:{value:n,label:t,attributes:i,default:o}}=e;return{value:n,label:t,attributes:i,default:o}}))}(t);return function(e){const n=(0,c.XI)(e,((e,n)=>e.value===n.value));if(n.length>0)throw new Error(`Docusaurus error: Duplicate values "${n.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[n,t])}function h(e){let{value:n,tabValues:t}=e;return t.some((e=>e.value===n))}function S(e){let{queryString:n=!1,groupId:t}=e;const o=(0,r.W6)(),s=function(e){let{queryString:n=!1,groupId:t}=e;if("string"==typeof n)return n;if(!1===n)return null;if(!0===n&&!t)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return t??null}({queryString:n,groupId:t});return[(0,l.aZ)(s),(0,i.useCallback)((e=>{if(!s)return;const n=new URLSearchParams(o.location.search);n.set(s,e),o.replace({...o.location,search:n.toString()})}),[s,o])]}function f(e){const{defaultValue:n,queryString:t=!1,groupId:o}=e,s=p(e),[r,l]=(0,i.useState)((()=>function(e){let{defaultValue:n,tabValues:t}=e;if(0===t.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(n){if(!h({value:n,tabValues:t}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${n}" but none of its children has the corresponding value. Available values are: ${t.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return n}const i=t.find((e=>e.default))??t[0];if(!i)throw new Error("Unexpected error: 0 tabValues");return i.value}({defaultValue:n,tabValues:s}))),[c,d]=S({queryString:t,groupId:o}),[f,m]=function(e){let{groupId:n}=e;const t=function(e){return e?`docusaurus.tab.${e}`:null}(n),[o,s]=(0,u.Dv)(t);return[o,(0,i.useCallback)((e=>{t&&s.set(e)}),[t,s])]}({groupId:o}),b=(()=>{const e=c??f;return h({value:e,tabValues:s})?e:null})();(0,a.A)((()=>{b&&l(b)}),[b]);return{selectedValue:r,selectValue:(0,i.useCallback)((e=>{if(!h({value:e,tabValues:s}))throw new Error(`Can't select invalid tab value=${e}`);l(e),d(e),m(e)}),[d,m,s]),tabValues:s}}var m=t(9136);const b={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var g=t(74848);function x(e){let{className:n,block:t,selectedValue:i,selectValue:r,tabValues:a}=e;const l=[],{blockElementScrollPositionUntilNextRender:c}=(0,s.a_)(),u=e=>{const n=e.currentTarget,t=l.indexOf(n),o=a[t].value;o!==i&&(c(n),r(o))},d=e=>{let n=null;switch(e.key){case"Enter":u(e);break;case"ArrowRight":{const t=l.indexOf(e.currentTarget)+1;n=l[t]??l[0];break}case"ArrowLeft":{const t=l.indexOf(e.currentTarget)-1;n=l[t]??l[l.length-1];break}}n?.focus()};return(0,g.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,o.A)("tabs",{"tabs--block":t},n),children:a.map((e=>{let{value:n,label:t,attributes:s}=e;return(0,g.jsx)("li",{role:"tab",tabIndex:i===n?0:-1,"aria-selected":i===n,ref:e=>{l.push(e)},onKeyDown:d,onClick:u,...s,className:(0,o.A)("tabs__item",b.tabItem,s?.className,{"tabs__item--active":i===n}),children:t??n},n)}))})}function y(e){let{lazy:n,children:t,selectedValue:s}=e;const r=(Array.isArray(t)?t:[t]).filter(Boolean);if(n){const e=r.find((e=>e.props.value===s));return e?(0,i.cloneElement)(e,{className:(0,o.A)("margin-top--md",e.props.className)}):null}return(0,g.jsx)("div",{className:"margin-top--md",children:r.map(((e,n)=>(0,i.cloneElement)(e,{key:n,hidden:e.props.value!==s})))})}function v(e){const n=f(e);return(0,g.jsxs)("div",{className:(0,o.A)("tabs-container",b.tabList),children:[(0,g.jsx)(x,{...n,...e}),(0,g.jsx)(y,{...n,...e})]})}function L(e){const n=(0,m.A)();return(0,g.jsx)(v,{...e,children:d(e.children)},String(n))}},79329:(e,n,t)=>{t.d(n,{A:()=>r});t(96540);var i=t(34164);const o={tabItem:"tabItem_Ymn6"};var s=t(74848);function r(e){let{children:n,hidden:t,className:r}=e;return(0,s.jsx)("div",{role:"tabpanel",className:(0,i.A)(o.tabItem,r),hidden:t,children:n})}},83425:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>u,contentTitle:()=>c,default:()=>h,frontMatter:()=>l,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"libp11/Installation/installation","title":"Installing PKCS#11 API for OpenSSL v1.x","description":"Discover OpenSSL\'s PKCS11 provider, CLI commands, installation tips, and troubleshooting. Integrate seamlessly with HSM for enhanced security.","source":"@site/openssl/libp11/Installation/installation.md","sourceDirName":"libp11/Installation","slug":"/libp11/Installation/","permalink":"/openssl/libp11/Installation/","draft":false,"unlisted":false,"tags":[{"inline":true,"label":"OpenSSL","permalink":"/openssl/tags/open-ssl"},{"inline":true,"label":"PKCS#11","permalink":"/openssl/tags/pkcs-11"}],"version":"current","lastUpdatedAt":1741162132000,"sidebarPosition":2,"frontMatter":{"sidebar_position":2,"title":"Installing PKCS#11 API for OpenSSL v1.x","sidebar_label":"Installation","description":"Discover OpenSSL\'s PKCS11 provider, CLI commands, installation tips, and troubleshooting. Integrate seamlessly with HSM for enhanced security.","keywords":["OpenSSL PKCS11 provider","OpenSSL PKCS11 API","OpenSSL command line utility (CLI)","OpenSSL CLI commands","OpenSSL installation guide","OpenSSL installation troubleshooting","OpenSSL troubleshooting tips","OpenSSL certificate management","OpenSSL certificate creation","OpenSSL certificate renewal","OpenSSL configuration file","OpenSSL configuration options","OpenSSL configuration guide","OpenSSL encryption algorithms","OpenSSL decryption methods","OpenSSL digital signatures","OpenSSL SSL/TLS protocols","OpenSSL SSL/TLS configuration","OpenSSL heartbleed vulnerability","OpenSSL security updates"],"tags":["OpenSSL","PKCS#11"]},"sidebar":"openssl","previous":{"title":"Prerequisites","permalink":"/openssl/libp11/Installation/prerequisites"},"next":{"title":"Configuration","permalink":"/openssl/libp11/Installation/configuration"}}');var o=t(74848),s=t(28453),r=t(65537),a=t(79329);const l={sidebar_position:2,title:"Installing PKCS#11 API for OpenSSL v1.x",sidebar_label:"Installation",description:"Discover OpenSSL's PKCS11 provider, CLI commands, installation tips, and troubleshooting. Integrate seamlessly with HSM for enhanced security.",keywords:["OpenSSL PKCS11 provider","OpenSSL PKCS11 API","OpenSSL command line utility (CLI)","OpenSSL CLI commands","OpenSSL installation guide","OpenSSL installation troubleshooting","OpenSSL troubleshooting tips","OpenSSL certificate management","OpenSSL certificate creation","OpenSSL certificate renewal","OpenSSL configuration file","OpenSSL configuration options","OpenSSL configuration guide","OpenSSL encryption algorithms","OpenSSL decryption methods","OpenSSL digital signatures","OpenSSL SSL/TLS protocols","OpenSSL SSL/TLS configuration","OpenSSL heartbleed vulnerability","OpenSSL security updates"],tags:["OpenSSL","PKCS#11"]},c="Installing PKCS#11 API for OpenSSL v1.x",u={},d=[{value:"PKCS#11 Engine Plugin",id:"pkcs11-engine-plugin",level:2}];function p(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",...(0,s.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"installing-pkcs11-api-for-openssl-v1x",children:"Installing PKCS#11 API for OpenSSL v1.x"})}),"\n",(0,o.jsx)(n.p,{children:"This guide assumes familiarity with the Primus HSM, Windows and/or Linux operating system installation and configuration, OpenSSL setup, and related procedures."}),"\n",(0,o.jsx)(n.p,{children:"It does not cover every step of the hardware and software setup in detail."}),"\n",(0,o.jsxs)(r.A,{groupId:"os",children:[(0,o.jsxs)(a.A,{value:"os-windows",label:"Windows 11",default:!0,children:[(0,o.jsx)(n.p,{children:"The following installation and configuration instructions are based on Windows 11 and may vary slightly for other versions of Windows."}),(0,o.jsx)(n.admonition,{type:"note",children:(0,o.jsxs)(n.p,{children:["Please ensure that you meet all the listed ",(0,o.jsx)(n.a,{href:"/openssl/libp11/Installation/prerequisites",children:"prerequisites"})," before proceeding. Adhering to these requirements is essential for a smooth setup and successful integration. Failure to do so may result in compatibility issues or functionality problems during the configuration process."]})}),(0,o.jsx)(n.h2,{id:"pkcs11-engine-plugin",children:"PKCS#11 Engine Plugin"}),(0,o.jsxs)(n.p,{children:["The PKCS#11 engine plugin is part of the ",(0,o.jsx)(n.a,{href:"https://github.com/OpenSC/libp11",children:"OpenSC/libp11 repository"})," on GitHub. As there are no Windows binaries releases provided for this project, the engine must be built manually. You can find detailed build instructions for different Windows build environments ",(0,o.jsx)(n.a,{href:"https://github.com/OpenSC/libp11/blob/master/INSTALL.md",children:"here"}),"."]}),(0,o.jsx)(n.p,{children:"To compile the PKCS#11 engine on Windows, follow these steps:"}),(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Download and Install Microsoft Visual Studio"})}),"\n",(0,o.jsxs)(n.p,{children:["Download ",(0,o.jsx)(n.a,{href:"https://visualstudio.microsoft.com/downloads/",children:"Microsoft Visual Studio"}),". When you run the executable, it will open the Visual Studio Installer. Choose the ",(0,o.jsx)(n.strong,{children:'"C++ build tools"'})," workload to install only the necessary tools."]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Download/Clone the PKCS#11 Engine"})}),"\n",(0,o.jsxs)(n.p,{children:["You have two options to obtain the necessary files from the ",(0,o.jsx)(n.a,{href:"https://github.com/OpenSC/libp11",children:"OpenSC/libp11 repository"})," on GitHub. You can either create a clone of the repository directly onto your local machine using Git, or you can download the repository as a ZIP file. If you choose the ZIP option, simply extract the contents into a designated folder on your PC, e.g. ",(0,o.jsx)(n.code,{children:"C:\\Users\\<Username>\\source\\repos\\libp11"}),". Both methods will give you access to the code required for the build process."]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Compile a 64-bit Version"})}),"\n",(0,o.jsxs)(n.p,{children:["To open the ",(0,o.jsx)(n.strong,{children:'"x64 Native Tools Command Prompt"'}),", go to ",(0,o.jsx)(n.code,{children:"Start > All Programs > Visual Studio 2022 > x64 Native Tools Command Prompt"}),". Once it's open, navigate to the folder where the files from the OpenSC/libp11 repository are stored. Then, run the ",(0,o.jsx)(n.code,{children:"nmake"})," command, as shown below, thereby making sure to replace ",(0,o.jsx)(n.code,{children:"OPENSSL_DIR"})," with the path to your OpenSSL installation."]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-cmd",children:"**********************************************************************\n** Visual Studio 2022 Developer Command Prompt v17.11.4\n** Copyright (c) 2022 Microsoft Corporation\n**********************************************************************\n[vcvarsall.bat] Environment initialized for: 'x64'\n\nC:\\Program Files\\Microsoft Visual Studio\\2022\\Community>cd c:\\Users\\<Username>\\source\\repos\\libp11\n\nc:\\Users\\<Username>\\source\\repos\\libp11>nmake /f Makefile.mak OPENSSL_DIR=\"C:\\Program Files\\OpenSSL-Win64\" BUILD_FOR=WIN64\n"})}),"\n",(0,o.jsxs)(n.p,{children:["To confirm if the compilation was successful, look for messages like ",(0,o.jsx)(n.code,{children:"Build succeeded"})," or ",(0,o.jsx)(n.code,{children:"0 errors"}),". If the build failed, you will see messages such as ",(0,o.jsx)(n.code,{children:"Build failed"})," or specific error messages. Always check the last lines of the output for a summary."]}),"\n",(0,o.jsxs)(n.p,{children:["If any of your builds fail for any reason, ensure you clean the ",(0,o.jsx)(n.code,{children:"src"})," directory of ",(0,o.jsx)(n.code,{children:"obj"})," files before re-making."]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Locate the compiled PKCS#11 Engine Plugin"})}),"\n",(0,o.jsxs)(n.p,{children:["If the compilation is successful, the ",(0,o.jsx)(n.code,{children:"pkcs11.dll"})," file will be located in the ",(0,o.jsx)(n.code,{children:"libp11\\src"})," folder. This is the OpenSC PKCS#11 Engine Plugin file you need."]}),"\n"]}),"\n"]})]}),(0,o.jsx)(a.A,{value:"os-linux",label:"Linux",children:(0,o.jsx)(n.p,{children:"The installation instructions for Linux-based systems will be added to this guide in the future. While we are working to provide these details, please note that it may take some time before they are fully available. We appreciate your patience and understanding as we continue to expand our documentation."})})]})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(p,{...e})}):p(e)}}}]);