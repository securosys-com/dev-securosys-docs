"use strict";(self.webpackChunksecurosys_docs=self.webpackChunksecurosys_docs||[]).push([[53059],{28453:(e,n,o)=>{o.d(n,{R:()=>i,x:()=>s});var r=o(96540);const t={},l=r.createContext(t);function i(e){const n=r.useContext(l);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:i(e.components),r.createElement(l.Provider,{value:n},e.children)}},76356:(e,n,o)=>{o.r(n),o.d(n,{assets:()=>a,contentTitle:()=>s,default:()=>d,frontMatter:()=>i,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"Tutorials/Troubleshooting/logging","title":"Configure logging - XKS Proxy for AWS KMS","description":"Learn how to configure Securosys XKS Proxy logging with the provided logback.xml file. Set up console and file logging for effective monitoring.","source":"@site/xks/Tutorials/Troubleshooting/logging.md","sourceDirName":"Tutorials/Troubleshooting","slug":"/Tutorials/Troubleshooting/logging","permalink":"/xks/Tutorials/Troubleshooting/logging","draft":false,"unlisted":false,"tags":[{"inline":true,"label":"AWS KMS","permalink":"/xks/tags/aws-kms"},{"inline":true,"label":"XKS","permalink":"/xks/tags/xks"}],"version":"current","lastUpdatedAt":1741162132000,"sidebarPosition":1,"frontMatter":{"sidebar_position":1,"title":"Configure logging - XKS Proxy for AWS KMS","sidebar_label":"Configure the logging","description":"Learn how to configure Securosys XKS Proxy logging with the provided logback.xml file. Set up console and file logging for effective monitoring.","tags":["AWS KMS","XKS"]},"sidebar":"tutorialSidebar","previous":{"title":"Troubleshooting","permalink":"/xks/Tutorials/Troubleshooting/"},"next":{"title":"Error Codes","permalink":"/xks/Tutorials/Troubleshooting/Logging-Errors"}}');var t=o(74848),l=o(28453);o(56289);const i={sidebar_position:1,title:"Configure logging - XKS Proxy for AWS KMS",sidebar_label:"Configure the logging",description:"Learn how to configure Securosys XKS Proxy logging with the provided logback.xml file. Set up console and file logging for effective monitoring.",tags:["AWS KMS","XKS"]},s="Configuring the XKS Proxy Logging",a={},c=[{value:"More content",id:"more-content",level:2}];function g(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,l.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"configuring-the-xks-proxy-logging",children:"Configuring the XKS Proxy Logging"})}),"\n",(0,t.jsxs)(n.p,{children:["The ",(0,t.jsxs)(n.a,{href:"/xks/downloads",children:["Securosys XKS Proxy ",(0,t.jsx)(n.code,{children:".zip"})," file"]})," contains ",(0,t.jsx)(n.code,{children:"logback.xml"}),", a configuration file for logging behaviour of the Securosys XKS proxy."]}),"\n",(0,t.jsx)(n.p,{children:"Use the logging configuration file and uncomment the desired lines to setup your logging environment.  Below is an example configuration which logs information to the console and writes a file on the host:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yml",children:'<configuration scan="true" scanPeriod="300 seconds">\n\n    <property name="LOGS" value="log" />\n\n    <appender name="Console" class="ch.qos.logback.core.ConsoleAppender">\n        <withJansi>true</withJansi>\n        <layout class="ch.qos.logback.classic.PatternLayout">\n            <Pattern>\n                %white(%d{ISO8601}) %highlight(%-5level) [%blue(%t)] %yellow(%C): %msg%n%throwable\n            </Pattern>\n        </layout>\n    </appender>\n\n    <appender name="RollingFile"\n              class="ch.qos.logback.core.rolling.RollingFileAppender">\n        <file>${LOGS}/xks_proxy.log</file>\n        <encoder\n                class="ch.qos.logback.classic.encoder.PatternLayoutEncoder">\n            <Pattern>%d %p %C [%t] %m%n</Pattern>\n        </encoder>\n\n        <rollingPolicy\n                class="ch.qos.logback.core.rolling.TimeBasedRollingPolicy">\n            \x3c!-- rollover daily and when the file reaches 10 MegaBytes --\x3e\n            <fileNamePattern>${LOGS}/xks_proxy-%d{yyyy-MM-dd}.log\n            </fileNamePattern>\n            <maxHistory>30</maxHistory>\n        </rollingPolicy>\n    </appender>\n\n    \x3c!-- REMOTE LOGGING --\x3e\n\n    \x3c!-- remote logging to a Syslog server --\x3e\n    \x3c!--\n    <appender name="SYSLOG" class="ch.qos.logback.classic.net.SyslogAppender">\n        <syslogHost>127.0.0.1</syslogHost>\n        <port>514</port>\n        <facility>AUDIT</facility>\n        <suffixPattern>%level [%thread] [%logger] %msg</suffixPattern>\n    </appender>\n    --\x3e\n\n    \x3c!-- remote logging to Splunk --\x3e\n    \x3c!--\n    <appender name="SPLUNK" class="com.splunk.logging.TcpAppender">\n        <RemoteHost>127.0.0.1</RemoteHost>\n        <Port>4560</Port>\n        <layout class="ch.qos.logback.classic.PatternLayout">\n            <pattern>%date{ISO8601} %level [%thread] [%logger] %msg%n</pattern>\n        </layout>\n    </appender>\n    --\x3e\n    \x3c!--\n    <appender name="SplunkHEC" class="com.splunk.logging.HttpEventCollectorLogbackAppender">\n        <url>https://localhost:8088</url>\n        <token>58d7c29c-93c5-41b7-bc68-833e144777d5</token>\n        <disableCertificateValidation>true</disableCertificateValidation>\n        <layout class="ch.qos.logback.classic.PatternLayout">\n            <pattern>%msg</pattern>\n        </layout>\n    </appender>\n    --\x3e\n\n    \x3c!-- remote logging to TCP Socket --\x3e\n    \x3c!--\n    <appender name="Socket" class="ch.qos.logback.classic.net.SocketAppender">\n        <remoteHost>127.0.0.1</remoteHost>\n        <port>4560</port>\n        <includeCallerData>false</includeCallerData>\n        <reconnectionDelay>30000</reconnectionDelay>\n        <queueSize>128</queueSize>\n        <eventDelayLimit>100</eventDelayLimit>\n    </appender>\n    --\x3e\n\n    \x3c!-- LOG everything at INFO level --\x3e\n    <root level="info">\n        <appender-ref ref="RollingFile" />\n        <appender-ref ref="Console" />\n    </root>\n\n    <logger name="securosys" level="trace" additivity="false">\n        <appender-ref ref="RollingFile" />\n        <appender-ref ref="Console" />\n    </logger>\n\n</configuration>\n\n'})}),"\n",(0,t.jsx)(n.h2,{id:"more-content",children:"More content"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"/xks/downloads",children:"Download the Securosys XKS Proxy for AWS"})," (login required)"]}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"/xks/Tutorials/Examples/Example-AWS-KMS",children:"Example - Creation of an XKS in AWS KMS"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"/xks/Tutorials/Examples/Example-jks",children:"Example - Generating a .jks domain file"})}),"\n"]})]})}function d(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(g,{...e})}):g(e)}}}]);