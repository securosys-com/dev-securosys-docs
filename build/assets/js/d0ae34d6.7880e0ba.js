"use strict";(self.webpackChunksecurosys_docs=self.webpackChunksecurosys_docs||[]).push([[7634],{28453:(e,s,r)=>{r.d(s,{R:()=>l,x:()=>i});var n=r(96540);const t={},a=n.createContext(t);function l(e){const s=n.useContext(a);return n.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function i(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:l(e.components),n.createElement(a.Provider,{value:s},e.children)}},44817:(e,s,r)=>{r.r(s),r.d(s,{assets:()=>o,contentTitle:()=>i,default:()=>u,frontMatter:()=>l,metadata:()=>n,toc:()=>c});const n=JSON.parse('{"id":"Tutorials/requests","title":"Requests - Secrets Engine plugin for HashiCorp Vault","description":"Requests for Securosy\' Secrets Engine plugin for HashiCorp Vault","source":"@site/hc_sse/Tutorials/requests.md","sourceDirName":"Tutorials","slug":"/Tutorials/requests","permalink":"/hc_sse/Tutorials/requests","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1741162132000,"sidebarPosition":3,"frontMatter":{"sidebar_position":3,"title":"Requests - Secrets Engine plugin for HashiCorp Vault","sidebar_label":"Requests","description":"Requests for Securosy\' Secrets Engine plugin for HashiCorp Vault","keywords":["hsm","cloud hsm"]},"sidebar":"tutorialSidebar","previous":{"title":"Cryptographic Operations","permalink":"/hc_sse/Tutorials/cryptographic_operations"},"next":{"title":"Command Options","permalink":"/hc_sse/Tutorials/additional_commands"}}');var t=r(74848),a=r(28453);const l={sidebar_position:3,title:"Requests - Secrets Engine plugin for HashiCorp Vault",sidebar_label:"Requests",description:"Requests for Securosy' Secrets Engine plugin for HashiCorp Vault",keywords:["hsm","cloud hsm"]},i="Requests",o={},c=[{value:"List",id:"list",level:2},{value:"Read",id:"read",level:2},{value:"Delete",id:"delete",level:2}];function d(e){const s={code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",strong:"strong",...(0,a.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.header,{children:(0,t.jsx)(s.h1,{id:"requests",children:"Requests"})}),"\n",(0,t.jsxs)(s.p,{children:["In case a key has a ",(0,t.jsx)(s.strong,{children:"Smart Key Attribute (SKA)"})," policy attached, a request object is returned instead of an instant result response, indicating the required approvals to be collected to process this request."]}),"\n",(0,t.jsx)(s.p,{children:"For example:"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-shell",children:"Key                 Value\n---                 -----\napprovedBy          map[]\nexecutionTime       n/a\nid                  a0d1dc5c-3c0a-415f-a184-6eaffcb9fd07\nnotYetApprovedBy    map[NameOfApprover:MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAouyYMgsCbxdr6cN7EDIR4ZcB82/fAIZusqyNXpX6gcRTwnrxZfIlyATdAm7ascxgYIK+L2M9UFVKTPUxus/Hzfuq0Fro5tdH+DWwfYQtcB5vap3UTw3yNpi6/MUe1x1Odwwi3no3jE2OuF1k6wjyrbWBkyktF3g8BmOD0DFpGl4IIlE8u1NgOMyAzlIuzAiyl4aCHrddhfV6gFtrRqfpUMz0twXYYoHlK0khzVEVn757WZZcIQFZmjKMfp/Yl/CAkBrTGVnFHMmNOYq7L9vhoR71rPmU9u2sy6IaT97qox/e7HSW47N2YNSiuJeq08I3Tn/kyw6+pSjAMu4A48PrfQIDAQAB]\nrejectedBy          map[]\nrequest             map[key:custom_rsa3 keyLabel:CUSTOM_RSA_4]\nresult              n/a\nstatus              PENDING\ntype                UnBlock\n...\netc.\n"})}),"\n",(0,t.jsx)(s.p,{children:"To handle such requests there are the following additional commands:"}),"\n",(0,t.jsx)(s.h2,{id:"list",children:"List"}),"\n",(0,t.jsxs)(s.p,{children:["List all requests initialized in ",(0,t.jsx)(s.strong,{children:"Secrets Engine"})]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-shell",children:"$ vault list securosys-hsm/requests\n"})}),"\n",(0,t.jsx)(s.p,{children:"or for a more detailed list"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-shell",children:"$ vault list -detailed securosys-hsm/requests\n"})}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-shell",children:"curl --location --request LIST '<server_addr>/v1/securosys-hsm/requests' \\\n--header 'X-Vault-Token: <vault_access_token>'\n"})}),"\n",(0,t.jsx)(s.h2,{id:"read",children:"Read"}),"\n",(0,t.jsx)(s.p,{children:"Show detailed request information"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-shell",children:"$ vault read securosys-hsm/requests/{id} \n"})}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-shell",children:"curl --location --request GET '<server_addr>/v1/securosys-hsm/requests/{id}' \\\n--header 'X-Vault-Token: <vault_access_token>'\n"})}),"\n",(0,t.jsx)(s.h2,{id:"delete",children:"Delete"}),"\n",(0,t.jsxs)(s.p,{children:["Remove a request from ",(0,t.jsx)(s.strong,{children:"Secrets Engine"})," and ",(0,t.jsx)(s.strong,{children:"HSM"})]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-shell",children:"$ vault delete securosys-hsm/requests/{id} \n"})}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-shell",children:"curl --location --request DELETE '<server_addr>/v1/securosys-hsm/requests/{id}' \\\n--header 'X-Vault-Token: <vault_access_token>'\n"})})]})}function u(e={}){const{wrapper:s}={...(0,a.R)(),...e.components};return s?(0,t.jsx)(s,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}}}]);