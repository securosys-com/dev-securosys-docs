"use strict";(self.webpackChunksecurosys_docs=self.webpackChunksecurosys_docs||[]).push([[69122],{28453:(e,s,i)=>{i.d(s,{R:()=>a,x:()=>c});var t=i(96540);const r={},n=t.createContext(r);function a(e){const s=t.useContext(n);return t.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function c(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),t.createElement(n.Provider,{value:s},e.children)}},42147:(e,s,i)=>{i.r(s),i.d(s,{assets:()=>o,contentTitle:()=>c,default:()=>h,frontMatter:()=>a,metadata:()=>t,toc:()=>l});const t=JSON.parse('{"id":"Use-Cases/certificate-sign-request","title":"Self-Signed Certificates and Primus Tools","description":"Self-Signed Certificates with Securosys Primus Tools and Hardware Security Modules (HSMs)","source":"@site/primus-tools/Use-Cases/certificate-sign-request.md","sourceDirName":"Use-Cases","slug":"/Use-Cases/certificate-sign-request","permalink":"/primus-tools/Use-Cases/certificate-sign-request","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1741162132000,"sidebarPosition":7,"frontMatter":{"sidebar_position":7,"title":"Self-Signed Certificates and Primus Tools","sidebar_label":"Self-Signed Certificate","description":"Self-Signed Certificates with Securosys Primus Tools and Hardware Security Modules (HSMs)","keywords":["hsm","cloud hsm"]},"sidebar":"tutorialSidebar","previous":{"title":"EMV","permalink":"/primus-tools/Use-Cases/EMV"},"next":{"title":"Key Migration","permalink":"/primus-tools/Use-Cases/key-migration"}}');var r=i(74848),n=i(28453);const a={sidebar_position:7,title:"Self-Signed Certificates and Primus Tools",sidebar_label:"Self-Signed Certificate",description:"Self-Signed Certificates with Securosys Primus Tools and Hardware Security Modules (HSMs)",keywords:["hsm","cloud hsm"]},c="Self-Signed Certificate",o={},l=[{value:"Create Key pair",id:"create-key-pair",level:2},{value:"Create CSR",id:"create-csr",level:2},{value:"Sign CSR",id:"sign-csr",level:2},{value:"Import certificate",id:"import-certificate",level:2}];function d(e){const s={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,n.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.header,{children:(0,r.jsx)(s.h1,{id:"self-signed-certificate",children:"Self-Signed Certificate"})}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Self-signed certificates"})," are certificates where the issuer and subject are the same entity. They are used for various purposes, primarily in scenarios where a trusted third-party certificate authority (CA) is not available or not necessary, such as internal testing, development environments, or isolated network environments."]}),"\n",(0,r.jsx)(s.admonition,{type:"note",children:(0,r.jsx)(s.p,{children:"The process of self-signed certificate is not exclusive to JCE API and Primus Tools and can be done with other APIs and tools/utilities."})}),"\n",(0,r.jsxs)(s.p,{children:["To generate a self-signed certificate it is possible to use the KeytoolX utility within the Primus Tools set. For more information about the commands and their parameters please refer to ",(0,r.jsx)(s.a,{href:"/primus-tools/Tutorials/command-details/KeytoolX&JarsignerX",children:"KeytoolX"}),"."]}),"\n",(0,r.jsx)(s.p,{children:"General procedure to create a self-signed certificate:"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Generate key pair for the CSR creation,"}),"\n",(0,r.jsx)(s.li,{children:"Generate a certificate signing request (CSR),"}),"\n",(0,r.jsx)(s.li,{children:"Sign the CSR,"}),"\n",(0,r.jsx)(s.li,{children:"Import the signed CSR into HSM."}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:["Commands will require an established HSM connection and credentials to be able to execute properly. For further assistance on how to configure your HSM connection and credentials please see ",(0,r.jsx)(s.a,{href:"/primus-tools/Installation/Provider",children:"HSM Connection and Access Credentials"}),"."]}),"\n",(0,r.jsx)(s.admonition,{type:"note",children:(0,r.jsx)(s.p,{children:"A sample request to create a self-signed certificate with an EC algorithm key is shown below. Please change the algorithm if you want to create an elliptic-curve key. Please make sure to change the parameters to your required ones."})}),"\n",(0,r.jsx)(s.h2,{id:"create-key-pair",children:"Create Key pair"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Create another key pair named ",(0,r.jsx)(s.code,{children:"cs1"}),", which will be used to create a certification signing request (CSR):"]}),"\n"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"java -jar primus-tools.jar KeytoolX <HSM connection and credentials> -genkeypair -v -alias cs1 -keypass\npassword -keyalg EC -keysize 256 -sigalg SHA256withECDSA -dname CN=CS1 -validity 3650\n"})}),"\n",(0,r.jsx)(s.h2,{id:"create-csr",children:"Create CSR"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Create a certification signing request (CSR) with the previously created key pair ",(0,r.jsx)(s.code,{children:"cs1"}),":"]}),"\n"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"java -jar primus-tools.jar KeytoolX <HSM connection and credentials> -certreq -v -alias cs1 -keypass\npassword -file cs1.csr\n"})}),"\n",(0,r.jsx)(s.h2,{id:"sign-csr",children:"Sign CSR"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Sign the CSR with it's private key ",(0,r.jsx)(s.code,{children:"cs1"})," and create a certificate:"]}),"\n"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"java -jar primus-tools.jar KeytoolX <HSM connection and credentials> -gencert -v -alias cs1 -keypass\npassword -infile cs1.csr -outfile cs1.crt\n"})}),"\n",(0,r.jsx)(s.h2,{id:"import-certificate",children:"Import certificate"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Import the signed certificate ",(0,r.jsx)(s.code,{children:"cs1.crt"}),":"]}),"\n"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"java -jar primus-tools.jar KeytoolX <HSM connection and credentials> -importcert -v -alias cs1c -file cs1.crt\n"})}),"\n",(0,r.jsx)(s.p,{children:"After a successful imported certificate, the self-signed certificate process is complete."})]})}function h(e={}){const{wrapper:s}={...(0,n.R)(),...e.components};return s?(0,r.jsx)(s,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}}}]);