"use strict";(self.webpackChunksecurosys_docs=self.webpackChunksecurosys_docs||[]).push([[86771],{28453:(e,n,t)=>{t.d(n,{R:()=>i,x:()=>a});var s=t(96540);const r={},o=s.createContext(r);function i(e){const n=s.useContext(o);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:i(e.components),s.createElement(o.Provider,{value:n},e.children)}},82474:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>a,default:()=>u,frontMatter:()=>i,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"Quickstart/quickstart","title":"Getting started AWS KMS & Securosys HSM","description":"Follow the step-by-step guide for setting up AWS KMS with Securosys HSM. Learn how to generate a TLS certificate, configure your environment, and deploy Securosys XKS Proxy to enable seamless integration for encryption and decryption.","source":"@site/xks/Quickstart/quickstart.md","sourceDirName":"Quickstart","slug":"/Quickstart/","permalink":"/xks/Quickstart/","draft":false,"unlisted":false,"tags":[{"inline":true,"label":"AWS","permalink":"/xks/tags/aws"},{"inline":true,"label":"AWS KMS","permalink":"/xks/tags/aws-kms"},{"inline":true,"label":"XKS","permalink":"/xks/tags/xks"},{"inline":true,"label":"EC2","permalink":"/xks/tags/ec-2"}],"version":"current","lastUpdatedAt":1741162132000,"sidebarPosition":0,"frontMatter":{"sidebar_position":0,"title":"Getting started AWS KMS & Securosys HSM","sidebar_label":"Quick Start \ud83d\ude80","description":"Follow the step-by-step guide for setting up AWS KMS with Securosys HSM. Learn how to generate a TLS certificate, configure your environment, and deploy Securosys XKS Proxy to enable seamless integration for encryption and decryption.","tags":["AWS","AWS KMS","XKS","EC2"]},"sidebar":"tutorialSidebar","previous":{"title":"Get Started","permalink":"/xks/category/get-started"},"next":{"title":"Use Cases","permalink":"/xks/category/use-cases"}}');var r=t(74848),o=t(28453);const i={sidebar_position:0,title:"Getting started AWS KMS & Securosys HSM",sidebar_label:"Quick Start \ud83d\ude80",description:"Follow the step-by-step guide for setting up AWS KMS with Securosys HSM. Learn how to generate a TLS certificate, configure your environment, and deploy Securosys XKS Proxy to enable seamless integration for encryption and decryption.",tags:["AWS","AWS KMS","XKS","EC2"]},a="Quickstart - XKS Proxy for AWS KMS",l={},c=[{value:"Securosys HSM - Integration Guide",id:"securosys-hsm---integration-guide",level:3},{value:"More content",id:"more-content",level:3}];function d(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"quickstart---xks-proxy-for-aws-kms",children:"Quickstart - XKS Proxy for AWS KMS"})}),"\n",(0,r.jsx)(n.h3,{id:"securosys-hsm---integration-guide",children:"Securosys HSM - Integration Guide"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Complete all the ",(0,r.jsx)(n.a,{href:"/xks/Installation/Prerequisites",children:"prerequisites"})]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Generate"})," your TLS certificate"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["A prerequisite for this example is generating a certificate for your domain. For the next steps, you will need your ",(0,r.jsx)(n.code,{children:"*.ca"})," and ",(0,r.jsx)(n.code,{children:"*.crt"})," files, as well as a private key (or you can use a self-signed certificate)."]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Combine Certificate Files**: To generate a ",(0,r.jsx)(n.strong,{children:".jks"})," from these files, you need to combine your ",(0,r.jsx)(n.code,{children:"*.crt"})," and ",(0,r.jsx)(n.code,{children:"*.ca"})," files. Manually copy all the data from the ",(0,r.jsx)(n.code,{children:"*.ca"})," file into the ",(0,r.jsx)(n.code,{children:"*.crt"})," file."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Use OpenSSL Command"}),": After combining the files, you can run the OpenSSL command below to create a ",(0,r.jsx)(n.code,{children:".p12"})," file (PKCS#12 format) from the combined certificate and private key."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Provide a Password"}),": When you run the command, you\u2019ll be prompted to enter a password for the newly created ",(0,r.jsx)(n.code,{children:".p12"})," file, which will protect it."]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"openssl pkcs12 -export -in ca.crt -inkey ca.key -out keystore.p12\n"})}),"\n",(0,r.jsxs)(n.ol,{start:"3",children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Download"})," the Securosys XKS Proxy files"]}),"\n",(0,r.jsxs)(n.p,{children:["Follow the instructions provided in the ",(0,r.jsx)(n.a,{href:"/xks/downloads",children:"Download"})," section (login required)."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Configure"})," ",(0,r.jsx)(n.code,{children:"application.yaml"})," (example below.) Please adapt the parameters according to your environment:"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.admonition,{title:"API Endpoint URI",type:"info",children:[(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["CloudHSM: refer to ",(0,r.jsx)(n.a,{href:"/connectivity-details/cloudhsm-connectivity-details",children:"CloudHSM Connectivity Details"})," for accurate API-Endpoint URI."]}),"\n",(0,r.jsx)(n.li,{children:"On-Premises HSM: Verify the API-Endpoint URI with your administrator."}),"\n"]}),(0,r.jsx)(n.p,{children:"For any setup (cloud or on-premises), contact your service administrator for authentication credentials."})]}),"\n",(0,r.jsxs)(n.p,{children:["Default ",(0,r.jsx)(n.code,{children:"application.yaml"})," file:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:"# All necessary credentials from hsm\nhsm:\n  attestationKeyName: 'attestation-key'\n  # Make sure you allowed an outbound firewall rule, to allow traffic to the HSM\n  # Hosts should be entered sequentially using the list as in the example below\n  host:\n    - 'your-proxy_host'\n    - 'another-proxy_host'\n  #Ports should be entered sequentially using the list just like hosts\n  port:\n    - 'your-proxy_port'\n    - 'another-proxy_port'\n  user: 'replace-me_hsm-username'\n  setupPassword: 'replace-me_hsm-setupPassword'\n  proxyUser: 'replace-me_proxy-username'\n  proxyPassword: 'replace-me_proxy-password'\n\n# All necessary credentials from AWS\naws:\n  host: 'replace-me_domain-name'\n  regionName: 'replace-me_aws-region-name'\n  accessKeyID: 'replace-me_keyId'\n  secretAccessKey: 'replace-me_secretAccessKey'\n  #These parameters should not be modified\n  serviceName: 'kms-xks-proxy'\n  httpMethodName: 'POST'\n  debug: 'false'\n\n# Your dns credentials\nserver:\n  port: 443\n  address: 0.0.0.0\n  ssl:\n    key-store: file:/etc/app/config/keystore.p12\n    key-store-password: replace-me_keystore-password\n    key-alias: replace-me_keystore-keyname\n\n# Logging configuration\nlogging:\n  config: /etc/app/config/log/logback.xml\n\n#Do not modify!\nspring:\n  mvc:\n    throw-exception-if-no-handler-found: true\n"})}),"\n",(0,r.jsxs)(n.ol,{start:"5",children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Run"})," the downloaded Securosys XKS Proxy image with the following command. ",(0,r.jsx)(n.strong,{children:"Replace"})," the variables according to your configuration:"]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"docker run [-d]-name <NameOfContainer> --add-host <YourHostDomain> :127.0.0.1 \\\n --network=host -v /home/ec2-user/securosys\\_xks\\_1.0.0/config-files:/etc/app/config/ \\\n securosys.jfrog.io/external-xks/securosys-xks:1.0.0.20230706T1936Z\n"})}),"\n",(0,r.jsx)(n.p,{children:"If the command is successful, the Securosys XKS proxy will be started. If not already present, a new attestation key will be generated. The logs from the boot will output a healthy status."}),"\n",(0,r.jsx)(n.p,{children:"Once the Securosys XKS Proxy is running, the connection between AWS Key Management Service (KMS) and your HSM is established. You can now use your custom key store to encrypt and decrypt data on the AWS platform with keys generated and stored on your HSM. Test the functionality by encrypting and decrypting your data."}),"\n",(0,r.jsx)(n.h3,{id:"more-content",children:"More content"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"/xks/Tutorials/Examples/Example-AWS-KMS",children:"Tutorial - How to encrypt/decrypt data in AWS KMS?"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"/xks/Tutorials/Examples/Example-AWS-KMS",children:"Example - Creation of an XKS in AWS KMS"})}),"\n"]})]})}function u(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}}}]);