"use strict";(self.webpackChunksecurosys_docs=self.webpackChunksecurosys_docs||[]).push([[30717],{6263:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>p,contentTitle:()=>a,default:()=>h,frontMatter:()=>r,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"Concepts/approverapp","title":"Unsealing with Securosys Authorization App","description":"Unsealing with Securosys Authorization App","source":"@site/hc_vault/Concepts/approverapp.md","sourceDirName":"Concepts","slug":"/Concepts/approverapp","permalink":"/hc_vault/Concepts/approverapp","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1741162132000,"sidebarPosition":0,"frontMatter":{"sidebar_position":0,"title":"Unsealing with Securosys Authorization App","sidebar_label":"Unsealing with Authorization App","description":"Unsealing with Securosys Authorization App","keywords":["hsm","cloud hsm"]},"sidebar":"tutorialSidebar","previous":{"title":"Concepts","permalink":"/hc_vault/category/concepts"},"next":{"title":"Auto-Unseal","permalink":"/hc_vault/Concepts/autounseal"}}');var o=n(74848),s=n(28453);const r={sidebar_position:0,title:"Unsealing with Securosys Authorization App",sidebar_label:"Unsealing with Authorization App",description:"Unsealing with Securosys Authorization App",keywords:["hsm","cloud hsm"]},a=void 0,p={},c=[];function l(e){const t={a:"a",admonition:"admonition",code:"code",em:"em",p:"p",pre:"pre",strong:"strong",...(0,s.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(t.p,{children:["Vault utilizes Hardware Security Modules (HSM) to encrypt the unsealing key.\nVault generates a decrypt request to the HSM when an SKA policy is in place. This request is then sent to the ",(0,o.jsx)(t.a,{href:"/AuthorizationApp/overview",children:"Authorization App"}),".\nThe Authorization App utilizes a decrypting request to seal the process.\nThe Authorization App checks for any assigned tasks (decrypting requests) linked to the public key of the Authorization App.\nWhile waiting for approval, Vault remains in a pending state, anticipating the response from the Authorization App.\nUpon successful approval of the decrypting request, Vault proceeds with the next steps."]}),"\n",(0,o.jsx)(t.admonition,{type:"tip",children:(0,o.jsxs)(t.p,{children:["For more information on how to deploy, configure and use the Authorization App, please follow our ",(0,o.jsx)(t.a,{href:"/AuthorizationApp/overview",children:"Authorization App documentation"}),"."]})}),"\n",(0,o.jsxs)(t.p,{children:[(0,o.jsx)(t.strong,{children:"HashiCorp Vault"})," uses Hardware Security Modules (HSMs) to encrypt the unsealing key."]}),"\n",(0,o.jsxs)(t.p,{children:["When an approval policy is in place, a decrypt request is generated and sent to the ",(0,o.jsx)(t.strong,{children:"Authorization App"}),"."]}),"\n",(0,o.jsxs)(t.p,{children:["The ",(0,o.jsx)(t.strong,{children:"Authorization App"})," processes the decrypt request by checking for any pending tasks linked to its public key. While the approval is pending, Vault remains in a waiting state, awaiting the response from the ",(0,o.jsx)(t.strong,{children:"Authorization App"}),". Once the decrypt request is approved, Vault proceeds with the next steps in the process."]}),"\n",(0,o.jsxs)(t.p,{children:["The Securosys ",(0,o.jsx)(t.strong,{children:"Authorization App"})," can be downloaded ",(0,o.jsx)(t.a,{href:"/AuthorizationApp/downloads",children:"here"}),"."]}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-yml",metastring:"{9-12}",children:'seal "securosys-hsm" {\n  key_label          = ""\n  key_password       = ""\n  tsb_api_endpoint   = "securosys_tsb_api_url"\n  auth               = "TOKEN"\n  bearer_token       = "tsb_api_token"\n  check_every        = 5\n  approval_timeout   = 200\n  policy = <<EOF\n  {\n    "the_name_of_the_approver": "the_public_key_from_Securosys_authorization_app"\n  }\nEOF\n}\n\n'})}),"\n",(0,o.jsxs)(t.p,{children:["If ",(0,o.jsx)(t.code,{children:"key_label"})," is not defined, then the Authorization App will generate the key to the Hardware Security Module (HSM)."]}),"\n",(0,o.jsx)(t.admonition,{type:"tip",children:(0,o.jsxs)(t.p,{children:["To start using the Authorization App, it is necessary to modify your ",(0,o.jsx)(t.em,{children:"config.hcl"})," file, adjusting both its policy and sealing fields as illustrated in the provided code snippet."]})}),"\n",(0,o.jsx)(t.admonition,{title:"note",type:"note",children:(0,o.jsxs)(t.p,{children:["Upon initiating the HashiCorp Vault Community Edition for the first time, you will receive the approval request on your Securosys Authorization App. To initiate the vault, SSH into your Docker container and execute the command: ",(0,o.jsx)(t.code,{children:"vault operator init"})]})})]})}function h(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,o.jsx)(t,{...e,children:(0,o.jsx)(l,{...e})}):l(e)}},28453:(e,t,n)=>{n.d(t,{R:()=>r,x:()=>a});var i=n(96540);const o={},s=i.createContext(o);function r(e){const t=i.useContext(s);return i.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:r(e.components),i.createElement(s.Provider,{value:t},e.children)}}}]);