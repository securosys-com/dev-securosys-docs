<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-tsb docs-version-current docs-doc-page docs-doc-id-Installation/On-Premise-Installation" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">Installing REST-API on On-Premise HSM | Securosys Docs</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://docs-dev.securosys.com/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://docs-dev.securosys.com/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://docs-dev.securosys.com/tsb/Installation/On-Premise-Installation"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="keywords" content="hsm, hardware security module, cloud hsm, security, securosys, fips 140-2 level 3, x hsm, documentation, developer, API, APIs, PKI, security broker, ethereum, tsb api, rest, JCE,PKCS#11"><meta data-rh="true" name="google-site-verification" content="H8Qp6DlzPErHhbe6evmQ6T5L3uU2B5pDoaI2UJX6-H0"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-tsb-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-tsb-current"><meta data-rh="true" property="og:title" content="Installing REST-API on On-Premise HSM | Securosys Docs"><meta data-rh="true" name="description" content="Document Information and Revision Control"><meta data-rh="true" property="og:description" content="Document Information and Revision Control"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://docs-dev.securosys.com/tsb/Installation/On-Premise-Installation"><link data-rh="true" rel="alternate" href="https://docs-dev.securosys.com/tsb/Installation/On-Premise-Installation" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs-dev.securosys.com/tsb/Installation/On-Premise-Installation" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://YPB6OU7GI5-dsn.algolia.net" crossorigin="anonymous"><link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-VY1N0BX740"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-VY1N0BX740",{})</script>



<link rel="search" type="application/opensearchdescription+xml" title="Securosys Docs" href="/opensearch.xml">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/pushfeedback@0.1.52/dist/pushfeedback/pushfeedback.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/biel-search@0.1.25/dist/biel-search/biel-search.css">

































<script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js"></script>
<script src="https://unpkg.com/@webcomponents/webcomponentsjs@2.1.3/webcomponents-bundle.js"></script>
<script src="https://unpkg.com/@statuspage/status-widget/dist/index.js"></script>
<script src="https://status.cloudshsm.com/embed/script.js"></script><link rel="stylesheet" href="/assets/css/styles.1762c566.css">
<script src="/assets/js/runtime~main.b9ac43d7.js" defer="defer"></script>
<script src="/assets/js/main.a5bc78d8.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/Logo - Subbrand - Docs - Black.png" alt="logo_Securosys" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/Logo - Subbrand - Docs - White.png" alt="logo_Securosys" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate"></b></a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Products</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/cloudhsm/overview">CloudHSM</a></li><li><a class="dropdown__link" href="/connectivity-details/overview">HSM Connectivity Details</a></li><li><a class="dropdown__link" href="/AuthorizationApp/overview">Authorization App</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Rest-API (Transaction Security Broker)</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/tsb/overview">Rest-API (Transaction Security Broker)</a></li><li><a class="dropdown__link" href="/jce/overview">Java Cryptography Extension</a></li><li><a class="dropdown__link" href="/pkcs/overview">PKCS#11 (Cryptoki)</a></li><li><a class="dropdown__link" href="/openssl/overview">OpenSSL</a></li><li><a class="dropdown__link" href="/mscng/overview">Microsoft CNG</a></li><li><a class="dropdown__link" href="/primus-tools/overview">Securosys Primus Tools</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Integrations</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/xks/overview">AWS - External Key Store (XKS)</a></li><li><a class="dropdown__link" href="/aws-byok/overview">AWS - Bring Your Own Key</a></li><li><a class="dropdown__link" href="/microsoft-byok/overview">Azure - Bring Your Own Key</a></li><li><a class="dropdown__link" href="/cyberark/overview">CyberArk PAM</a></li><li><a class="dropdown__link" href="/docker_signing/overview">Docker Signing</a></li><li><a class="dropdown__link" href="/docker_encryption/overview">Docker Encryption</a></li><li><a class="dropdown__link" href="/fortigate/overview">Fortinet FortiGate</a></li><li><a class="dropdown__link" href="/hc-vault-enterprise/overview">HashiCorp Vault Enterprise</a></li><li><a class="dropdown__link" href="/hc_vault/overview">HashiCorp Vault Community</a></li><li><a class="dropdown__link" href="/hc_sse/overview">HashiCorp Vault Secrets Engine</a></li><li><a class="dropdown__link" href="/primekey-ejbca/overview">KeyFactor/PrimeKey EJBCA</a></li><li><a class="dropdown__link" href="/ms-pki-adcs/overview">Microsoft AD CS</a></li><li><a class="dropdown__link" href="/ms-iis/overview">Microsoft IIS</a></li><li><a class="dropdown__link" href="/ms-signtool/overview">Microsoft SignTool</a></li><li><a class="dropdown__link" href="/ms-sql-ae/overview">Microsoft SQL Always Encrypted</a></li><li><a class="dropdown__link" href="/ms-smime/overview">Microsoft SMIME</a></li><li><a class="dropdown__link" href="/ms-hgs/overview">Microsoft Host Guardian Service</a></li><li><a class="dropdown__link" href="/salesforce-byok/overview">Salesforce - Bring Your Own Key</a></li><li><a class="dropdown__link" href="/securden-pam/overview">Securden Unified PAM</a></li><li><a class="dropdown__link" href="/sixscape/overview">Sixscape - IDcentral Key Management</a></li><li><a class="dropdown__link" href="/venafi/overview">Venafi - Machine Identity Management</a></li><li><a class="dropdown__link" href="/versasec-cms/overview">Versasec Credential Management System</a></li><li><a class="dropdown__link" href="/white-rabbit/overview">White Rabbit OpenXPKI</a></li></ul></div><a class="navbar__item navbar__link" href="/integrations">HSM Solutions Explorer</a></div><div class="navbar__items navbar__items--right"><a aria-current="page" class="navbar__item navbar__link navbar__link--active" x_dropdownlabel_api_reference="Rest-API (Transaction Security Broker)" href="/tsb/Installation/On-Premise-Installation">Next</a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Support</a><ul class="dropdown__menu"><li><a href="https://www.securosys.com/en/support" target="_blank" rel="noopener noreferrer" class="dropdown__link">Support Guidelines<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://support.securosys.com/external" target="_blank" rel="noopener noreferrer" class="dropdown__link">Create ticket<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://status.cloudshsm.com/" target="_blank" rel="noopener noreferrer" class="dropdown__link">System Status<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class=""><hr style="background-color: #000000; height: 1px; border: none; margin: 0 auto;"></li><li><a href="https://github.com/securosys-com" target="_blank" rel="noopener noreferrer" class="dropdown__link">GitHub<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://www.securosys.com/en/training" target="_blank" rel="noopener noreferrer" class="dropdown__link">HSM Trainings<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite" aria-pressed="false"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/tsb/overview">Introduction</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/tsb/category/get-started">Get Started</a><button aria-label="Expand sidebar category &#x27;Get Started&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/tsb/category/use-cases">Use Cases</a><button aria-label="Expand sidebar category &#x27;Use Cases&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/tsb/category/installation">Installation</a><button aria-label="Collapse sidebar category &#x27;Installation&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/tsb/Installation/On-Premise-Installation">Rest-API Installation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/tsb/Installation/hsm-device-setup-tsb">Primus HSM Setup</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/tsb/Installation/Miscellaneous/architectures">Miscellaneous</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/tsb/Installation/https-setup/mtls-configuration">https-setup</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/tsb/category/tutorial">Tutorial</a><button aria-label="Expand sidebar category &#x27;Tutorial&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/tsb/category/concepts">Concepts</a><button aria-label="Expand sidebar category &#x27;Concepts&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/tsb/Download/downloads">Download</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/tsb/overview"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_xK9p"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg>Rest-API (Transaction Security Broker)</a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/tsb/category/installation"><span itemprop="name">Installation</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Rest-API Installation</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Installation Guide (On-Prem)</h1></header>
<p><strong>Document Information and Revision Control</strong></p>
<table><thead><tr><th><strong>Version</strong></th><th><strong>Date</strong></th><th><strong>Author</strong></th><th><strong>Description, Changes</strong></th></tr></thead><tbody><tr><td>V1.0</td><td>19.11.2020</td><td>PM</td><td>Initial document</td></tr><tr><td>V2.0</td><td>26.01.2022</td><td>PM</td><td>Docker-Compose support added</td></tr><tr><td>V3.0</td><td>21.04.2022</td><td>PM</td><td>Version upgrade</td></tr><tr><td>V4.0</td><td>05.07.2023</td><td>PM</td><td>Added more detailed HSM setup, Added troubleshooting chapter, updated application-configuration files to latest version 1.15.1.1, added connection parameter endpoints, added sample application startup</td></tr><tr><td>V5.0</td><td>01.09.2023</td><td>PM</td><td>Add Infinite keystore configuration setup</td></tr></tbody></table>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="notification-and-symbols">Notification and Symbols<a href="#notification-and-symbols" class="hash-link" aria-label="Direct link to Notification and Symbols" title="Direct link to Notification and Symbols">​</a></h2>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>SKA</div><div class="admonitionContent_BuS1"><p>This symbol contains helpful or important information for setting up TSB onPremise</p></div></div>
<div class="theme-admonition theme-admonition-danger admonition_xJq3 alert alert--danger"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>Take care</div><div class="admonitionContent_BuS1"><p>This symbol means to be careful and obey all instructions. You might do something that could result in data loss</p></div></div>
<p>Feature or action requires role activation using</p>
<ul>
<li>Genesis Card <img decoding="async" loading="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAATCAMAAACwcE1OAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAC3UExURQAAAMTExMLCwsvLy83Nzb29xsfHx9LS0o6Os9XV1WtrqldXpdzc3D09nDMzmTMzq0BAn0ZGo01NplFRqFozmVpamVpaq1p/vGFhsGRksWZms21ttnBwt3FxuHV1unh4u3l5vH19vn9aq39/vH9/zo2NxqB/q6B/vKCgvMnJ1szM5dLS6d6kWd/f3+CwceSpXuW0duXl8uzs9e+6d/GxYPSuVfawVvfr2/jv4/ny6Pn5/P+8XP///2V9oJ4AAAAOdFJOUwDH6+/v8PDx8vP4+/v+KgtL/gAAAAlwSFlzAAAOwwAADsMBx2+oZAAAAIdJREFUKFNjYGRjhgJWbnTAwcDAYgMDhnzogJeBgRMqiZAWVpSTkJWUlpGX5cMmjQSoIG1prGeAR9rc2tQMj7SFiY4+HmkoGGBpMRGQoJiSKJA0FEKX5ldRE9dQUddQVuLj07LSlsZjuJSRgiBQmh0qiWG3qgDIcCYeXSjQhIojABcDXsDAAABTKDqoeYm/EgAAAABJRU5ErkJggg==" width="30" height="19" class="img_ev3q"></li>
<li>Security Officer (SO) Cards 2 of n <img decoding="async" loading="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACMAAAAVCAMAAAD7JKfbAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAD/UExURQAAAL+/v7+/v76yssPDw7+/v8PDw8PDw8vLy83NzbGJicTExMfHx8PDw8fHx9XV1Z9NTZ1HR6JZWZcwMIYAAIYAOoYBAYcCAooICI0YGI4QEJUfH5UgIJgmJpwAAJwvL5w6AJw6OpxmZp0wMJ4yMqA3N6E4OKE5OadGRqhHR6hwcKlJSalxcat1daxQUKxRUax3d615ea5UVLBYWLBZWbE6OrFmZrFmkLKEhLRgYLmSkr2bm794eMVmOsVmZsWQZsmnp8rKys/Pz9+rZt/f3+G/v+THx+a9hujFmOjPz+7Wtu/v7/Df3/G3bPLexPOtVfPFivTn5/v39/+6W////wYLdqsAAAAUdFJOUwAwSFNdgL7P7+/w8PDx8fP4+vr7TTabBwAAAAlwSFlzAAAOwwAADsMBx2+oZAAAAMBJREFUKFPFzlUXwiAYgGGMOTuxc3Z31+xu/f+/RXCoU3fGpc8F5wDv4QNojNonxze7Cjzobi/wh55hGAUAFhIg5CJez6VKiUy6VoVZtLVKNSL5sN8FKU026IbUBi9Cczgtqc3qeqQ2m/2U2hCP4w//brgQPuQaEbT2O5KNszWI8q0h32xA2FnPi7RZQrMLyP4Hz6pcFjHUmLYv5FKkfa75UKNmWdYwnmA9pFsWKXiTHjwLU5pnTyPywptNaGQBcAfcm2j/kcqBYAAAAABJRU5ErkJggg==" width="35" height="21" class="img_ev3q"></li>
</ul>
<p>The following symbols are used for HSM configuration setup:</p>
<ul>
<li>
<p>HSM Graphical User Interface, Menu Navigation, e.g.
<code>Setup → Configuration → Network → Services → JCE → TCP Port :2300</code></p>
</li>
<li>
<p>and HSM console commands, e.g.
<code>hsm_net_list_config serv=2 serv_port</code></p>
</li>
</ul>
<br>
<h1>Introduction</h1>
<p>This document provides instructions for installing the Securosys REST API, a standalone software that facilitates language-independent integration with Securosys Primus HSM. It also includes the installation steps for the Transaction Security Broker (TSB) license, which incorporates an approval workflow engine for Securosys Smart Key Attributes. The instructions cover both Linux and Windows platforms.</p>
<p>This guide has been tested on RHEL 7 and CentOS 8, Docker 19.03, and MariaDB 10.4</p>
<p>The Transaction Security Broker Software is designed to be deployable on Kubernetes as well as standalone Docker containers. This flexibility allows for easy integration into containerized environments, providing scalability and resource efficiency for managing the software&#x27;s JVM-based framework and connecting to databases for state management, HSM cluster for key operations and policy enforcement, and various logging mechanisms.</p>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>SKA</div><div class="admonitionContent_BuS1"><p>TSB software supports three <strong><a href="/tsb/Installation/Miscellaneous/architectures">security architecture types</a></strong> (<em>Type1, Type2, Type3</em>), and the document provides detailed instructions or references for their setup.</p></div></div>
<p><img decoding="async" loading="lazy" src="/assets/images/TSB_Architecture-668e7b112dabd51dd6f4d8adc5f51cfa.png" width="1071" height="799" class="img_ev3q">
<em>Figure 1<!-- -->:REST<!-- --> API Various deployment Architectures</em></p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="support-contacts">Support Contacts<a href="#support-contacts" class="hash-link" aria-label="Direct link to Support Contacts" title="Direct link to Support Contacts">​</a></h2>
<p>If you encounter a problem while installing, registering, or operating this product, please make sure that you have read the documentation. If you cannot resolve the issue, contact your supplier or Securosys Customer Support. The support portal is reachable under: <a href="https://support.securosys.com/" target="_blank" rel="noopener noreferrer">https://support.securosys.com/</a> Your level of access to this service is governed by the support plan agreement made between Securosys and your organization. Please consult your support plan for further information about your entitlements, service level agreements and contact details.</p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="abbreviations">Abbreviations<a href="#abbreviations" class="hash-link" aria-label="Direct link to Abbreviations" title="Direct link to Abbreviations">​</a></h2>
<table><thead><tr><th><strong>Acronym</strong></th><th><strong>Definition</strong></th></tr></thead><tbody><tr><td><strong>TSB</strong></td><td>Transaction Security Broker</td></tr><tr><td><strong>TEE</strong></td><td>Trusted Execution Environment</td></tr><tr><td><strong>SKA</strong></td><td>Smart Key Attributes</td></tr><tr><td><strong>HSMaaS</strong></td><td>Hardware Security Module as a Service</td></tr><tr><td><strong>mTLS</strong></td><td>Mutual Authentication or client-authentication</td></tr><tr><td><strong>REST</strong></td><td>Representational State Transfer</td></tr></tbody></table>
<br>
<hr>
<h1>HSM - Device setup and configuration</h1>
<p>Before we can install and configure the Securosys Transaction Security Broker (Rest-API) we need to configure the Securosys on-premises Primus HSM. If you are using Securosys CloudHSM you can skip the HSM setup and jump to chapter <a href="/tsb/Installation/Miscellaneous/supported_platforms">Transaction Security Broker Service Requirements</a></p>
<p>If you operate your own PrimusHSM and have not initially setup the HSM, please follow the instructions of <a href="/hsm/Installation/Setup/UserGuide/GetStarted/HSM-Setup-v2-11-1#initial-setup-of-the-hsm-firmware-v211">Running the initial wizard</a>.</p>
<p>After completing the initial setup (running the initial wizard), ensure that the HSM has a correct network configuration and can be accessed from the server where TSB will be installed. The HSM can be reached through the default port (port: 2300) unless it has been configured differently. Keep in mind that the service may be assigned to one of the four network interfaces available.</p>
<p>Use one of the following commands to ensure a valid network configuration:</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token operator" style="color:#393A34">:</span><span class="token operator" style="color:#393A34">~</span><span class="token plain"># telnet </span><span class="token number" style="color:#36acaa">10.10</span><span class="token number" style="color:#36acaa">.10</span><span class="token number" style="color:#36acaa">.10</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2300</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">:</span><span class="token operator" style="color:#393A34">~</span><span class="token plain"># ping </span><span class="token number" style="color:#36acaa">10.10</span><span class="token number" style="color:#36acaa">.10</span><span class="token number" style="color:#36acaa">.10</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<hr>
<hr>
<h1>TSB - Setup and Configuration</h1>
<p>During the installation of the Transaction Security Broker, you will need to apply the following application configuration:</p>
<ul>
<li>Download the necessary configuration files.</li>
<li>Set up docker-compose (optional, depending on your setup).</li>
<li>Configure the HSM-Connection properties in the application-local.yml file.</li>
<li>Adjust the logging behaviour according to your requirements.</li>
</ul>
<p>These steps ensure the proper setup and configuration of the Transaction Security Broker application.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="51-download-configuration-files">5.1 Download Configuration Files<a href="#51-download-configuration-files" class="hash-link" aria-label="Direct link to 5.1 Download Configuration Files" title="Direct link to 5.1 Download Configuration Files">​</a></h2>
<p>Head to the <strong><a href="/tsb/Download/downloads">Downloads</a></strong> page to get instructions on how to get the software and download the Cofiguration Files.</p>
<p>The previously downloaded zip file contains the following files:</p>
<table><thead><tr><th><strong>Installation Directory</strong></th><th><strong>Files</strong></th></tr></thead><tbody><tr><td>:~/ <strong>docker-compose.yml</strong> (required)</td><td>A Docker Compose file (docker-compose.yml) is a configuration file that describes the various services, networks, and volumes required to run a multi-container Docker application.</td></tr><tr><td>:~/config-files/ <strong>application-local.yml</strong> (required)</td><td>The application-local.yml file is a configuration file specific to the application, containing HSM connection settings and properties that can be customized to tailor the behavior and functionality of TSB.</td></tr><tr><td>:~/config-files/ <strong>application-local-access-token.yml</strong></td><td>The application-local-access-token.yml file is utilized to configure JWT authentication access and necessitates the creation of JWT tokens for secure system access. Notably, this configuration supports a one-to-many deployment model, allowing a single TSB instance to connect with multiple HSM partitions.</td></tr><tr><td>:~/config-files/ <strong>application-tee.yml</strong></td><td>The application-tee.yml file is used for setting up the Trusted Execution Environment (TEE) configuration in the TSB, providing a secure and isolated environment for executing sensitive operations or computations.</td></tr><tr><td>:~/config-files/ <strong>template.yml</strong></td><td>The template.yml file contains a comprehensive list of all available configuration properties for easy reference and customization within the application.</td></tr><tr><td>:~/config-files/log/ <strong>logback.xml</strong></td><td>The logback.xml file is used to configure the logging behavior of the application, defining settings such as log levels, output formats, and log file destinations.</td></tr><tr><td>:~/ <strong>docker-compose-external-keystore.yml</strong></td><td>A Docker Compose file (docker-compose-external-keystore.yml) for storing and managing large volumes of cryptographic keys.</td></tr><tr><td>:~/config-files/ <strong>application-external-keystore.yml</strong></td><td>The application-external-keystore.yml file is a configuration file specific to the application for external keystore usage, (e.g. using the database for external storage option).</td></tr></tbody></table>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="511-docker-composeyml">5.1.1 docker-compose.yml<a href="#511-docker-composeyml" class="hash-link" aria-label="Direct link to 5.1.1 docker-compose.yml" title="Direct link to 5.1.1 docker-compose.yml">​</a></h3>
<p>Docker Compose simplifies the configuration and deployment of multi-container Docker applications. By defining services in the docker-compose.yml file and customizing the parameters to suit your needs, you can easily create and start all the specified services with a single command.</p>
<div class="theme-admonition theme-admonition-danger admonition_xJq3 alert alert--danger"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>Take care</div><div class="admonitionContent_BuS1"><ul>
<li>Ensure the hierarchical structure of the configuration remains intact by using spaces instead of tabs</li>
<li>To maintain proper <strong>volumes</strong> mapping in Docker Compose, refrain from altering the mapping after the colon (:) symbol and only modify the bold-marked (host-mapped) directory.</li>
</ul></div></div>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>Tip</div><div class="admonitionContent_BuS1"><p>For first startup of Transaction Security Broker (with default configuration) you do not need to touch the <code>docker-compose.yml</code> file.</p></div></div>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">version</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;3.3&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">services</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">securosys_sql</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">image</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> docker.io/mariadb</span><span class="token punctuation" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">10.4</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">container_name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> securosys_sql</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">ports</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> 3306</span><span class="token punctuation" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">3306</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">volumes</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> ./securosys_sql/mysql</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">lib</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">/var/lib/mysql</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">environment</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> MYSQL_USER=replace</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">me_db</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">username</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> MYSQL_PASSWORD=replace</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">me_db</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">password</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> MYSQL_DATABASE=securosys</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> MYSQL_PORT=3306</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> MYSQL_ROOT_PASSWORD=replace</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">me_db</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">root</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">password</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> MYSQL_LOWER_CASE_TABLE_NAMES=0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">securosys_tsb</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">image</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> securosys.jfrog.io/external</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">tsb/securosys</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">tsb</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">latest</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">container_name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> securosys_tsb</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">restart</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> always</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">depends_on</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> securosys_sql</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">ports</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> 8080</span><span class="token punctuation" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">8080</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">volumes</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> ./config</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">files</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">/etc/app/config</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> ./output</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">/etc/app/output</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">environment</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> spring.profiles.active=local  </span><span class="token comment" style="color:#999988;font-style:italic"># by specifying profile=local, tsb takes the application-local.yml config file</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> logging.config=/etc/app/config/log/logback.xml</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The first service <strong>securosys_sql</strong> block contains the fields:</p>
<table><thead><tr><th><strong>Attributes</strong></th><th><strong>Content description</strong></th></tr></thead><tbody><tr><td>services</td><td>Root tier describes the underlying services</td></tr><tr><td>securosys_sql</td><td>The name of the maria database service. This is also the name if the service is to be resolved using the internal docker network</td></tr><tr><td>image</td><td>The Docker image of Maria Database which is automatically pulled from DockerHub</td></tr><tr><td>container_name</td><td>The name of the docker container</td></tr><tr><td>ports</td><td>3307 the port that is mapped to the host network, 3306 the port that is used in the docker internal default network</td></tr><tr><td>volumes</td><td>./mysql-lib is the host mounted directory and stores my mysql schema data. This directory is created automatically at first startup. /var/lib/mysql is the internal docker directory which is used by the mysql database</td></tr><tr><td>environment</td><td>Application specific environment variables that are injected during startup</td></tr></tbody></table>
<p>The second service <strong>securosys_tsb</strong> block contains the fields:</p>
<table><thead><tr><th><strong>Attributes</strong></th><th><strong>Content description</strong></th></tr></thead><tbody><tr><td>securosys-ska</td><td>The name of the Securosys-TSB service.</td></tr><tr><td>image</td><td>The Docker image of Securosys-TSB available at the Securosys Jfrog-Artifactory</td></tr><tr><td>container_name</td><td>The name of the docker container</td></tr><tr><td>restart</td><td>The command that enables auto restart if the application fail</td></tr><tr><td>depends_on</td><td>Expresses the dependency between services. Starts service in dependency order. In this example mariadb_securosys starts before securosys-ska (with this command services do not wait until the startup is completed!)</td></tr><tr><td>ports</td><td>The port mapping for internal (Docker) and external (Host) network binding</td></tr><tr><td>volumes</td><td><strong>./config</strong>, the directory in which securosys-ska configuration files are stored (e.g. application config, TLS config, TEE config, Logging Config, …) <br><strong>./output</strong>, the directory where the log output is written to (if logging is configured to file)</td></tr><tr><td>environment</td><td>Environment variables that are injected during startup spring.profile.active=local e.g. tells the springboot application to map another application configuration file (profiles are used for this). <br> In this example application-local.yml is used as additional application configuration file. <br><br> Note: Change &#x27;spring.profiles.active&#x27; to application-external-keystore.yml to switch to external key usage.</td></tr></tbody></table>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="512-application-localyml">5.1.2 application-local.yml<a href="#512-application-localyml" class="hash-link" aria-label="Direct link to 5.1.2 application-local.yml" title="Direct link to 5.1.2 application-local.yml">​</a></h3>
<p>The application-local.yml is used for <code>securosys-ska</code> container. Configure your specific HSM connection details within the configuration file: <code>config-files/application-local.yml</code>.</p>
<p>Adapt the <strong><code>replace-me_*</code></strong> parameters according to your HSM setup (cluster configuration).</p>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>Tip</div><div class="admonitionContent_BuS1"><p>Default HSM connection details for CloudHSM <code>host</code> &amp; <code>port</code>) are shown in <a href="/connectivity-details/cloudhsm-connectivity-details">HSMaaS - Connectivity Details</a></p></div></div>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>Tip</div><div class="admonitionContent_BuS1"><p>Chapter <a href="#7-example-of-setting-up-proxy-service-for-hsmaas">Example of Setting up Proxy Service for HSMaaS</a> gives an example how to configure CloudHSM access using a Proxy (Security Architecture: Type2, Type3).</p></div></div>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">spring</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">## DATABASE CONFIG</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">datasource</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">url</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> jdbc</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">mysql</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">//securosys_sql</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">3306/securosys</span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">username</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> replace</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">me_db</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">username</span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">password</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> replace</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">me_db</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">password</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">swaggerUI.enabled</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">##HSM CONFIG</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">hsm</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">host</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;nufenen.securosys.ch,grimsel.securosys.ch&#x27;</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">port</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;2300&#x27;</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">user</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> replace</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">me_hsm</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">username</span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">setupPassword</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> replace</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">me_hsm</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">setupPassword</span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">encryptionPassword</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> replace</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">me_db</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">encryptionPassword</span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">#proxyUser: replace-me_proxy-username # used for CloudHSM access</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">#proxyPassword: replace-me_proxy-password # used for CloudHSM access</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">timeout</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1800</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">maxTimeDifferenceToHsm</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">100</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">attestationKeyName</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;attestation-key&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">timestampKeyName</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;test-time-key&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">## HTTPS CONFIG</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">tls</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">enabled</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">false</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">keyStore</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;file:/etc/app/config/tls/securosys-ska-server.p12&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">keyStorePassword</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> secret</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">trustStore</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;file:/etc/app/config/tls/securosys-ska-truststore-server.jks&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">trustStorePassword</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> secret</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">clientAuthentication</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> none</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The first block <code>spring.datasource</code> contains the fields</p>
<table><thead><tr><th><strong>Parameter</strong></th><th><strong>Content description</strong></th></tr></thead><tbody><tr><td>url</td><td>Connection string to the database. The domain points to the service name, Docker-compose in the above example is configured to use the service name.</td></tr><tr><td>username</td><td>The username for the sql database, which is defined in docker-compose.yml file at line number 13</td></tr><tr><td>password</td><td>The password for the sql database, which is defined in docker-compose.yml file at line number 14</td></tr></tbody></table>
<p>The second block <code>hsm</code> contains the fields</p>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>Load-Balancing: <code>hsm.host</code></div><div class="admonitionContent_BuS1"><ul>
<li>Specify multiple hosts separated by commas, and TSB will randomly select one host, falling back to the others if the first one fails (e.g., hsm.host: <em>&#x27;grimsel.securosys.ch, nufenen.securosys.ch&#x27;</em>).</li>
<li>Provide multiple hosts separated by semicolons, and TSB will always choose the first record, falling back to the others if the first one fails (e.g., hsm.host: <em>&#x27;grimsel.securosys.ch**;** nufenen.securosys.ch&#x27;</em>).</li>
</ul></div></div>
<table><thead><tr><th><strong>Attributes</strong></th><th><strong>Content description</strong></th></tr></thead><tbody><tr><td>host</td><td>The hostname or IP address of the HSM</td></tr><tr><td>port</td><td>The port of the JCE API on the HSM, default JCE-Port: 2300</td></tr><tr><td>user</td><td>The name (case sensitive) of the HSM user (partition)</td></tr><tr><td>setupPassword</td><td>The setup password is a 29-alphanumeric dash separated string in form of <code>FXAJX-XWVQ3-DC0O5-3SLQF-LJ9L3</code> with <strong>limited time validity</strong>. <br><br> •	HSM-OnPremise (default): 3 days;<br> •	CloudHSM default: 1 week;<br> •	Developer account: 1 year<br><br> The initial partition setup password, provided by Securosys, is used to obtain or update a permanent secret.</td></tr><tr><td>encryptionPassword</td><td>This password is used to encrypt the user secret retrieved from the HSM. This password can be freely chosen (should possess high entropy)</td></tr><tr><td>proxyUser</td><td>HSMaaS (<em>Type 2, Type3</em>) only: the name of the service user (proxy), as provided by Securosys</td></tr><tr><td>proxyPassword</td><td>HSMaaS (<em>Type 2, Type3</em>) only: the password of the service user (proxy), as provided by Securosys</td></tr><tr><td>attestationKeyName</td><td>The attestation key, which is generated upon startup, that asserts the origin of keys and the HSM environment</td></tr><tr><td>timestampKeyName</td><td>Timestamp key, which is generated upon startup, that asserts the origin of the keys</td></tr><tr><td>rfcTimestampKeyName</td><td>rfc3161 timestamp key, which is generated upon startup, that asserts the validity of signatures and certificates</td></tr><tr><td>maxTimeDifferenceToHsm</td><td>The unit is seconds, log appears on CLI: <strong>WARN</strong> if the difference between the system time and the hsm time is greater than the specified value</td></tr><tr><td>useExternalKeyStore</td><td>Storing encrypted keys in database, default: false (additional license required)</td></tr><tr><td>useKeyReplicationService</td><td>Using built—in key replication service, rather than SQL clustering logic, slave datasource must be configured, default: false (additional license required, only in combination with externalKeystore)</td></tr></tbody></table>
<p>The third and <strong>optional</strong> for <strong>development</strong> environments <code>tls</code> contains the fields.</p>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>SKA</div><div class="admonitionContent_BuS1"><p>Further information on setting up TLS and mTLS files can be found at the end of this document.</p></div></div>
<table><thead><tr><th><strong>Attributes</strong></th><th><strong>Content description</strong></th></tr></thead><tbody><tr><td>tls.enabled</td><td>true</td></tr><tr><td>tls.keyStore</td><td>The keystore which holds the server key and server certificate</td></tr><tr><td>tls.keyStorePassword</td><td>The password that was set when the key-store was created</td></tr><tr><td>tls.trustStore</td><td>The Truststore which holds the CA certificate</td></tr><tr><td>tls.trustStorePassword</td><td>The password that was set when the trust-store was created</td></tr><tr><td>clientAuthentication</td><td>mutualTLS configuration, an enum consists of: <br>•	<code>need</code>: Client Authentication is needed and mandatory<br> •	<code>want</code>: Client authentication is wanted but not mandatory <br>•	<code>none</code>: Client authentication is not wanted e.g. none</td></tr></tbody></table>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="513-application-local-access-tokenyml">5.1.3 application-local-access-token.yml<a href="#513-application-local-access-tokenyml" class="hash-link" aria-label="Direct link to 5.1.3 application-local-access-token.yml" title="Direct link to 5.1.3 application-local-access-token.yml">​</a></h3>
<p>The application-local-access-token.yml file is utilized to configure JWT authentication access and necessitates the creation of JWT tokens for secure system access. Notably, this configuration supports a one-to-many deployment model, allowing a single TSB instance to connect with multiple HSM partitions. Please contact your sales representative or open a ticket at the Securosys support portal to setup TSB as multi-auth service.</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="514-application-external-keystoreyml">5.1.4 application-external-keystore.yml<a href="#514-application-external-keystoreyml" class="hash-link" aria-label="Direct link to 5.1.4 application-external-keystore.yml" title="Direct link to 5.1.4 application-external-keystore.yml">​</a></h3>
<p>Different use cases in blockchain, IoT or signing (TSP) industries require very big numers of keys to be protected by HSM. The Infinite Key Store (IKS) offers a scalable and efficient solution for securely storing and managing large volumes of cryptographic keys for <strong>on-premises</strong> and <strong>CloudHSM</strong> environments when integrated using Transaction Security Broker (TSB).</p>
<p>With IKS, keys are stored as external key objects in the TSB inherent database, encrypted by the Partition Key stored inside the HSM. Thus, the storage size can theoretically grow limitless and provide storage for an infinite number of keys. Please contact your sales representative or open a ticket at the Securosys support portal.</p>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Infinite Keystore</div><div class="admonitionContent_BuS1"><p>The Infinite Key Store (IKS) is limited to specific enterprise use cases. Reach out to your Securosys Support or your Sales representative for further details on IKS.</p></div></div>
<br>
<hr>
<h1>6 Startup</h1>
<p>In this chapter, you will initiate the Transaction Security Broker to verify its setup correctness by following these steps:</p>
<ul>
<li>Start the multi-container application.</li>
<li>Validate the state of the containers and software.</li>
<li>Perform testing using Swagger-UI and CURL.</li>
</ul>
<p>These steps ensure that the Transaction Security Broker application is properly set up and configured.</p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="61-run-container">6.1 Run Container<a href="#61-run-container" class="hash-link" aria-label="Direct link to 6.1 Run Container" title="Direct link to 6.1 Run Container">​</a></h2>
<p>To launch the multi-container application, execute the following command in the directory where the docker-compose.yml file is located. This command initiates the startup process for the two containers: <code>securosys_sql</code> and <code>securosys_tsb</code></p>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>TSB - Dispatched</div><div class="admonitionContent_BuS1"><ul>
<li><strong>docker-compose up -d</strong> starts the containers in dispatched mode<br></li>
<li>Password for jfrog user:  <code>robot.reader.tsb</code> here: <a href="/tsb/Download/downloads">Downloads</a></li>
</ul></div></div>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">:~/securosys_tsb$ </span><span class="token function" style="color:#d73a49">docker</span><span class="token plain"> login securosys.jfrog.io </span><span class="token parameter variable" style="color:#36acaa">-u</span><span class="token plain"> robot.reader.tsb</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">:~/securosys_tsb$ </span><span class="token function" style="color:#d73a49">docker-compose</span><span class="token plain"> up</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="62-testing">6.2 Testing<a href="#62-testing" class="hash-link" aria-label="Direct link to 6.2 Testing" title="Direct link to 6.2 Testing">​</a></h2>
<p>Replace <strong><code>&lt;your_machine_ip&gt;</code></strong> with either localhost, 127.0.0.1, or DNS-Name (if configured).</p>
<div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">Curl</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">Curl (mTLS)</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">Browser</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">curl</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">-X</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;GET&#x27;</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;https://&lt;your_machine_ip&gt;:8080/v1/licenseInfo&#x27;</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">-H</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;accept: application/json&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">curl</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">-v</span><span class="token plain"> --cert-type P12 –cert client-cert.p12:</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">password</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> https://</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">your_machine_ip</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">:8080/v1/licenseInfo</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><p>http://<strong><code>&lt;your_machine_ip&gt;</code></strong>:8080/swagger-ui/index.html</p></div></div></div>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="63-sample-application-startup">6.3 Sample Application startup<a href="#63-sample-application-startup" class="hash-link" aria-label="Direct link to 6.3 Sample Application startup" title="Direct link to 6.3 Sample Application startup">​</a></h2>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">   ____          _            __ _ _</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token operator" style="color:#393A34">/</span><span class="token plain">\\ </span><span class="token operator" style="color:#393A34">/</span><span class="token plain"> ___&#x27;_ __ _ </span><span class="token function" style="color:#d73a49">_</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">_</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">_ __  __ _ \ \ \ \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">\___ </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token char">&#x27;_ | &#x27;</span><span class="token plain">_</span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> &#x27;_ \</span><span class="token operator" style="color:#393A34">/</span><span class="token plain"> _` </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> \ \ \ \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> \\</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">  ___</span><span class="token punctuation" style="color:#393A34">)</span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">_</span><span class="token punctuation" style="color:#393A34">)</span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">||</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">_</span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &#x27;  </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">____</span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">__</span><span class="token operator" style="color:#393A34">|</span><span class="token plain">_</span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">_</span><span class="token operator" style="color:#393A34">|</span><span class="token plain">_</span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">_\__</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">/</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">/</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">/</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">/</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">=</span><span class="token operator" style="color:#393A34">|</span><span class="token plain">_</span><span class="token operator" style="color:#393A34">|=</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">==</span><span class="token operator" style="color:#393A34">=</span><span class="token operator" style="color:#393A34">|</span><span class="token plain">___</span><span class="token operator" style="color:#393A34">/=</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">_</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">_</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">_</span><span class="token operator" style="color:#393A34">/</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token operator" style="color:#393A34">::</span><span class="token plain"> </span><span class="token class-name">Spring</span><span class="token plain"> </span><span class="token class-name">Boot</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">::</span><span class="token plain">                </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">v3</span><span class="token punctuation" style="color:#393A34">.</span><span class="token number" style="color:#36acaa">0.6</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">2023.07</span><span class="token number" style="color:#36acaa">.0515</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">04</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">55.660</span><span class="token constant" style="color:#36acaa">INFO</span><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">kground</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">preinit</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token class-name namespace" style="opacity:0.7">alidator</span><span class="token class-name namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token class-name namespace" style="opacity:0.7">internal</span><span class="token class-name namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token class-name namespace" style="opacity:0.7">util</span><span class="token class-name namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token class-name">Version</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">HV000001</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token class-name">Hibernate</span><span class="token plain"> </span><span class="token class-name">Validator</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">8.0</span><span class="token number" style="color:#36acaa">.0</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Final</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">2023.07</span><span class="token number" style="color:#36acaa">.0515</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">04</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">55.744</span><span class="token constant" style="color:#36acaa">INFO</span><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> restartedMain</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">com</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">securosys</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ska</span><span class="token punctuation" style="color:#393A34">.</span><span class="token constant" style="color:#36acaa">SKA_EXTERNAL</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token class-name">The</span><span class="token plain"> following </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> profile is active</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;local&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">2023.07</span><span class="token number" style="color:#36acaa">.0515</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">04</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">55.836</span><span class="token constant" style="color:#36acaa">INFO</span><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> restartedMain</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">sPropertyDefaultsPostProcessor</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token class-name">For</span><span class="token plain"> additional web related logging consider setting the &#x27;logging</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">level</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">web&#x27; property </span><span class="token keyword" style="color:#00009f">to</span><span class="token plain"> </span><span class="token char">&#x27;DEBUG&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">2023.07</span><span class="token number" style="color:#36acaa">.0515</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">04</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">57.853</span><span class="token constant" style="color:#36acaa">INFO</span><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> restartedMain</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">epositoryConfigurationDelegate</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token class-name">Bootstrapping</span><span class="token plain"> </span><span class="token class-name">Spring</span><span class="token plain"> </span><span class="token class-name">Data</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">JPA</span><span class="token plain"> repositories in </span><span class="token constant" style="color:#36acaa">DEFAULT</span><span class="token plain"> mode</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">2023.07</span><span class="token number" style="color:#36acaa">.0515</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">04</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">57.956</span><span class="token constant" style="color:#36acaa">INFO</span><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> restartedMain</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">epositoryConfigurationDelegate</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token class-name">Finished</span><span class="token plain"> </span><span class="token class-name">Spring</span><span class="token plain"> </span><span class="token class-name">Data</span><span class="token plain"> repository scanning in </span><span class="token number" style="color:#36acaa">88</span><span class="token plain"> </span><span class="token class-name namespace" style="opacity:0.7">ms</span><span class="token class-name namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token class-name"> Found</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">9</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">JPA</span><span class="token plain"> repository interfaces</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">2023.07</span><span class="token number" style="color:#36acaa">.0515</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">04</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">59.850</span><span class="token constant" style="color:#36acaa">INFO</span><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> restartedMain</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token class-name namespace" style="opacity:0.7">mbedded</span><span class="token class-name namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token class-name namespace" style="opacity:0.7">tomcat</span><span class="token class-name namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token class-name">TomcatWebServer</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token class-name">Tomcat</span><span class="token plain"> initialized </span><span class="token keyword" style="color:#00009f">with</span><span class="token plain"> </span><span class="token namespace" style="opacity:0.7">port</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">s</span><span class="token punctuation" style="color:#393A34">)</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">8080</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">http</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">2023.07</span><span class="token number" style="color:#36acaa">.0515</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">04</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">59.864</span><span class="token constant" style="color:#36acaa">INFO</span><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> restartedMain</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token class-name namespace" style="opacity:0.7">oyote</span><span class="token class-name namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token class-name namespace" style="opacity:0.7">http11</span><span class="token class-name namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token class-name">Http11NioProtocol</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token class-name">Initializing</span><span class="token plain"> </span><span class="token class-name">ProtocolHandler</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;http-nio-8080&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">2023.07</span><span class="token number" style="color:#36acaa">.0515</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">04</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">59.865</span><span class="token constant" style="color:#36acaa">INFO</span><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> restartedMain</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">catalina</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">core</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">StandardService</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token class-name">Starting</span><span class="token plain"> service </span><span class="token punctuation" style="color:#393A34">[</span><span class="token class-name">Tomcat</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">2023.07</span><span class="token number" style="color:#36acaa">.0515</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">04</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">59.866</span><span class="token constant" style="color:#36acaa">INFO</span><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> restartedMain</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token class-name namespace" style="opacity:0.7">e</span><span class="token class-name namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token class-name namespace" style="opacity:0.7">catalina</span><span class="token class-name namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token class-name namespace" style="opacity:0.7">core</span><span class="token class-name namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token class-name">StandardEngine</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token class-name">Starting</span><span class="token plain"> </span><span class="token class-name">Servlet</span><span class="token plain"> engine</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token class-name">Apache</span><span class="token plain"> </span><span class="token class-name">Tomcat</span><span class="token operator" style="color:#393A34">/</span><span class="token number" style="color:#36acaa">10.1</span><span class="token number" style="color:#36acaa">.8</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">2023.07</span><span class="token number" style="color:#36acaa">.0515</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">05</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">00.072</span><span class="token constant" style="color:#36acaa">INFO</span><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> restartedMain</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">rBase</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">[</span><span class="token class-name">Tomcat</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">localhost</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">[</span><span class="token operator" style="color:#393A34">/</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token class-name">Initializing</span><span class="token plain"> </span><span class="token class-name">Spring</span><span class="token plain"> embedded </span><span class="token class-name">WebApplicationContext</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">2023.07</span><span class="token number" style="color:#36acaa">.0515</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">05</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">00.074</span><span class="token constant" style="color:#36acaa">INFO</span><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> restartedMain</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">letWebServerApplicationContext</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token class-name">Root</span><span class="token plain"> </span><span class="token class-name">WebApplicationContext</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> initialization completed in </span><span class="token number" style="color:#36acaa">4237</span><span class="token plain"> ms</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">2023.07</span><span class="token number" style="color:#36acaa">.0515</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">05</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">00.470</span><span class="token constant" style="color:#36acaa">INFO</span><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> restartedMain</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token class-name namespace" style="opacity:0.7">nternal</span><span class="token class-name namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token class-name namespace" style="opacity:0.7">license</span><span class="token class-name namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token class-name">VersionPrinter</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token class-name">Flyway</span><span class="token plain"> </span><span class="token class-name">Community</span><span class="token plain"> </span><span class="token class-name">Edition</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">9.17</span><span class="token number" style="color:#36acaa">.0</span><span class="token plain"> by </span><span class="token class-name">Redgate</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">2023.07</span><span class="token number" style="color:#36acaa">.0515</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">05</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">00.470</span><span class="token constant" style="color:#36acaa">INFO</span><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> restartedMain</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token class-name namespace" style="opacity:0.7">nternal</span><span class="token class-name namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token class-name namespace" style="opacity:0.7">license</span><span class="token class-name namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token class-name">VersionPrinter</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token class-name">See</span><span class="token plain"> release notes here</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> https</span><span class="token operator" style="color:#393A34">:</span><span class="token operator" style="color:#393A34">/</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">rd</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">gt</span><span class="token operator" style="color:#393A34">/</span><span class="token number" style="color:#36acaa">416</span><span class="token plain">ObMi</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">2023.07</span><span class="token number" style="color:#36acaa">.0515</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">05</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">00.471</span><span class="token constant" style="color:#36acaa">INFO</span><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> restartedMain</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token class-name namespace" style="opacity:0.7">nternal</span><span class="token class-name namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token class-name namespace" style="opacity:0.7">license</span><span class="token class-name namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token class-name">VersionPrinter</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">2023.07</span><span class="token number" style="color:#36acaa">.0515</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">09</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">41.576</span><span class="token constant" style="color:#36acaa">INFO</span><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> restartedMain</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token class-name namespace" style="opacity:0.7">database</span><span class="token class-name namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token class-name namespace" style="opacity:0.7">base</span><span class="token class-name namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token class-name">BaseDatabaseType</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token class-name">Database</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> jdbc</span><span class="token operator" style="color:#393A34">:</span><span class="token plain">mysql</span><span class="token operator" style="color:#393A34">:</span><span class="token operator" style="color:#393A34">/</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">localhost</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">4405</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">securosys </span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">MySQL</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">8.0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">2023.07</span><span class="token number" style="color:#36acaa">.0515</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">09</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">41.753</span><span class="token constant" style="color:#36acaa">INFO</span><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> restartedMain</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token class-name namespace" style="opacity:0.7">re</span><span class="token class-name namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token class-name namespace" style="opacity:0.7">internal</span><span class="token class-name namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token class-name namespace" style="opacity:0.7">command</span><span class="token class-name namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token class-name">DbValidate</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token class-name">Successfully</span><span class="token plain"> validated </span><span class="token number" style="color:#36acaa">19</span><span class="token plain"> migrations </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">execution time </span><span class="token number" style="color:#36acaa">00</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">00.093</span><span class="token plain">s</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">2023.07</span><span class="token number" style="color:#36acaa">.0515</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">09</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">41.803</span><span class="token constant" style="color:#36acaa">INFO</span><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> restartedMain</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token class-name namespace" style="opacity:0.7">ore</span><span class="token class-name namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token class-name namespace" style="opacity:0.7">internal</span><span class="token class-name namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token class-name namespace" style="opacity:0.7">command</span><span class="token class-name namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token class-name">DbMigrate</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token class-name">Current</span><span class="token plain"> version of schema &#x27;securosys&#x27;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1.15</span><span class="token number" style="color:#36acaa">.2</span><span class="token number" style="color:#36acaa">.100</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">2023.07</span><span class="token number" style="color:#36acaa">.0515</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">09</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">41.805</span><span class="token constant" style="color:#36acaa">INFO</span><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> restartedMain</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token class-name namespace" style="opacity:0.7">ore</span><span class="token class-name namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token class-name namespace" style="opacity:0.7">internal</span><span class="token class-name namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token class-name namespace" style="opacity:0.7">command</span><span class="token class-name namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token class-name">DbMigrate</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token class-name">Schema</span><span class="token plain"> &#x27;securosys&#x27; is up </span><span class="token keyword" style="color:#00009f">to</span><span class="token plain"> </span><span class="token namespace" style="opacity:0.7">date</span><span class="token namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token plain"> </span><span class="token class-name">No</span><span class="token plain"> migration necessary</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">2023.07</span><span class="token number" style="color:#36acaa">.0515</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">05</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">04.609</span><span class="token constant" style="color:#36acaa">INFO</span><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> restartedMain</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token class-name namespace" style="opacity:0.7">te</span><span class="token class-name namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token class-name namespace" style="opacity:0.7">jpa</span><span class="token class-name namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token class-name namespace" style="opacity:0.7">internal</span><span class="token class-name namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token class-name namespace" style="opacity:0.7">util</span><span class="token class-name namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token class-name">LogHelper</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">HHH000204</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token class-name">Processing</span><span class="token plain"> </span><span class="token class-name">PersistenceUnitInfo</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">name</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">SECUROSYS</span><span class="token operator" style="color:#393A34">-</span><span class="token constant" style="color:#36acaa">UNIT</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">2023.07</span><span class="token number" style="color:#36acaa">.0515</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">05</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">04.725</span><span class="token constant" style="color:#36acaa">INFO</span><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> restartedMain</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">        </span><span class="token class-name namespace" style="opacity:0.7">org</span><span class="token class-name namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token class-name namespace" style="opacity:0.7">hibernate</span><span class="token class-name namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token class-name">Version</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">HHH000412</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token class-name">Hibernate</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">ORM</span><span class="token plain"> core version </span><span class="token number" style="color:#36acaa">6.1</span><span class="token number" style="color:#36acaa">.7</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Final</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">2023.07</span><span class="token number" style="color:#36acaa">.0515</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">05</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">05.438</span><span class="token constant" style="color:#36acaa">INFO</span><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> restartedMain</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">                  </span><span class="token constant" style="color:#36acaa">SQL</span><span class="token plain"> dialect</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">HHH000400</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token class-name">Using</span><span class="token plain"> dialect</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token class-name namespace" style="opacity:0.7">org</span><span class="token class-name namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token class-name namespace" style="opacity:0.7">hibernate</span><span class="token class-name namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token class-name namespace" style="opacity:0.7">dialect</span><span class="token class-name namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token class-name">MySQL8Dialect</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">2023.07</span><span class="token number" style="color:#36acaa">.0515</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">05</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">07.294</span><span class="token constant" style="color:#36acaa">INFO</span><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> restartedMain</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">internal</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">JtaPlatformInitiator</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">HHH000490</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token class-name">Using</span><span class="token plain"> </span><span class="token class-name">JtaPlatform</span><span class="token plain"> implementation</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token class-name namespace" style="opacity:0.7">org</span><span class="token class-name namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token class-name namespace" style="opacity:0.7">hibernate</span><span class="token class-name namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token class-name namespace" style="opacity:0.7">engine</span><span class="token class-name namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token class-name namespace" style="opacity:0.7">transaction</span><span class="token class-name namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token class-name namespace" style="opacity:0.7">jta</span><span class="token class-name namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token class-name namespace" style="opacity:0.7">platform</span><span class="token class-name namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token class-name namespace" style="opacity:0.7">internal</span><span class="token class-name namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token class-name">NoJtaPlatform</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">2023.07</span><span class="token number" style="color:#36acaa">.0515</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">05</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">07.312</span><span class="token constant" style="color:#36acaa">INFO</span><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> restartedMain</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">tainerEntityManagerFactoryBean</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token class-name">Initialized</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">JPA</span><span class="token plain"> </span><span class="token class-name">EntityManagerFactory</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> persistence unit &#x27;</span><span class="token constant" style="color:#36acaa">SECUROSYS</span><span class="token operator" style="color:#393A34">-</span><span class="token constant" style="color:#36acaa">UNIT</span><span class="token plain">&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">2023.07</span><span class="token number" style="color:#36acaa">.0515</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">05</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">11.258</span><span class="token constant" style="color:#36acaa">INFO</span><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> restartedMain</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token class-name namespace" style="opacity:0.7">igure</span><span class="token class-name namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token class-name">OptionalLiveReloadServer</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token class-name">LiveReload</span><span class="token plain"> server is running on port </span><span class="token number" style="color:#36acaa">35729</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">2023.07</span><span class="token number" style="color:#36acaa">.0515</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">05</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">11.284</span><span class="token constant" style="color:#36acaa">INFO</span><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> restartedMain</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token class-name namespace" style="opacity:0.7">oyote</span><span class="token class-name namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token class-name namespace" style="opacity:0.7">http11</span><span class="token class-name namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token class-name">Http11NioProtocol</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token class-name">Starting</span><span class="token plain"> </span><span class="token class-name">ProtocolHandler</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;http-nio-8080&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">2023.07</span><span class="token number" style="color:#36acaa">.0515</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">05</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">11.320</span><span class="token constant" style="color:#36acaa">INFO</span><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> restartedMain</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token class-name namespace" style="opacity:0.7">mbedded</span><span class="token class-name namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token class-name namespace" style="opacity:0.7">tomcat</span><span class="token class-name namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token class-name">TomcatWebServer</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token class-name">Tomcat</span><span class="token plain"> started on </span><span class="token function" style="color:#d73a49">port</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">s</span><span class="token punctuation" style="color:#393A34">)</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">8080</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">http</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">with</span><span class="token plain"> </span><span class="token namespace" style="opacity:0.7">context</span><span class="token plain"> path &#x27;&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">2023.07</span><span class="token number" style="color:#36acaa">.0515</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">05</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">11.340</span><span class="token constant" style="color:#36acaa">INFO</span><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> restartedMain</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">com</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">securosys</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ska</span><span class="token punctuation" style="color:#393A34">.</span><span class="token constant" style="color:#36acaa">SKA_EXTERNAL</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token class-name">Started</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">SKA_EXTERNAL</span><span class="token plain"> in </span><span class="token number" style="color:#36acaa">16.413</span><span class="token plain"> seconds </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">process running </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">17.706</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">2023.07</span><span class="token number" style="color:#36acaa">.0515</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">05</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">11.343</span><span class="token constant" style="color:#36acaa">INFO</span><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> restartedMain</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">business</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">BootstrappingProcess</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token class-name">Executing</span><span class="token plain"> application bootstrapping</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">2023.07</span><span class="token number" style="color:#36acaa">.0515</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">05</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">11.536</span><span class="token constant" style="color:#36acaa">INFO</span><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> restartedMain</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token class-name namespace" style="opacity:0.7">ka</span><span class="token class-name namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token class-name namespace" style="opacity:0.7">service</span><span class="token class-name namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token class-name namespace" style="opacity:0.7">business</span><span class="token class-name namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token class-name">HsmService</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token class-name">First</span><span class="token plain"> time </span><span class="token class-name namespace" style="opacity:0.7">login</span><span class="token class-name namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token class-name"> Logging</span><span class="token plain"> in using the provided secret </span><span class="token keyword" style="color:#00009f">to</span><span class="token plain"> </span><span class="token namespace" style="opacity:0.7">fetch</span><span class="token plain"> user secret</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">2023.07</span><span class="token number" style="color:#36acaa">.0515</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">05</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">13.678</span><span class="token constant" style="color:#36acaa">INFO</span><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> restartedMain</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token class-name namespace" style="opacity:0.7">ka</span><span class="token class-name namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token class-name namespace" style="opacity:0.7">service</span><span class="token class-name namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token class-name namespace" style="opacity:0.7">business</span><span class="token class-name namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token class-name">HsmService</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> grimsel</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">securosys</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ch</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">2300</span><span class="token operator" style="color:#393A34">:</span><span class="token constant" style="color:#36acaa">TSBDEV</span><span class="token plain"> connected</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">2023.07</span><span class="token number" style="color:#36acaa">.0515</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">05</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">14.163</span><span class="token constant" style="color:#36acaa">INFO</span><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> restartedMain</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token class-name namespace" style="opacity:0.7">ka</span><span class="token class-name namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token class-name namespace" style="opacity:0.7">service</span><span class="token class-name namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token class-name namespace" style="opacity:0.7">business</span><span class="token class-name namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token class-name">HsmService</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token class-name">Logged</span><span class="token plain"> out from </span><span class="token constant" style="color:#36acaa">HSM</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">2023.07</span><span class="token number" style="color:#36acaa">.0515</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">05</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">15.193</span><span class="token constant" style="color:#36acaa">INFO</span><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> restartedMain</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token class-name namespace" style="opacity:0.7">ka</span><span class="token class-name namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token class-name namespace" style="opacity:0.7">service</span><span class="token class-name namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token class-name namespace" style="opacity:0.7">business</span><span class="token class-name namespace punctuation" style="opacity:0.7;color:#393A34">.</span><span class="token class-name">HsmService</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> grimsel</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">securosys</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ch</span><span class="token operator" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">2300</span><span class="token operator" style="color:#393A34">:</span><span class="token constant" style="color:#36acaa">TSBDEV</span><span class="token plain"> connected</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="64-connection-setup---onpremise">6.4 Connection Setup - OnPremise<a href="#64-connection-setup---onpremise" class="hash-link" aria-label="Direct link to 6.4 Connection Setup - OnPremise" title="Direct link to 6.4 Connection Setup - OnPremise">​</a></h2>
<p><strong><a href="/connectivity-details/on-premises-connectivity-details">This Link</a></strong> holds the configuration parameter for <code>hsm.host</code>, <code>hsm.port</code>, if not specified differently by your Security Officer (SO)</p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="65-connection-setup---cloudhsm">6.5 Connection Setup - CloudHSM<a href="#65-connection-setup---cloudhsm" class="hash-link" aria-label="Direct link to 6.5 Connection Setup - CloudHSM" title="Direct link to 6.5 Connection Setup - CloudHSM">​</a></h2>
<p><strong><a href="/connectivity-details/cloudhsm-connectivity-details">This Link</a></strong> holds the SaaS endpoints for Securosys CloudHSM</p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="7-example-of-setting-up-proxy-service-for-hsmaas">7 Example of Setting up Proxy Service for HSMaaS<a href="#7-example-of-setting-up-proxy-service-for-hsmaas" class="hash-link" aria-label="Direct link to 7 Example of Setting up Proxy Service for HSMaaS" title="Direct link to 7 Example of Setting up Proxy Service for HSMaaS">​</a></h2>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>Tip</div><div class="admonitionContent_BuS1"><p>For Security Architecture Type 2 and Type 3 proxy service configuration must be held.
This is done in the <code>application-local.yml</code> under hsm block</p></div></div>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">hsm</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">host</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;grimsel.securosys.ch&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">port</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;2300&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">user</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> PRIMUSDEVXXX </span><span class="token comment" style="color:#999988;font-style:italic"># replace with your credentials</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">setupPassword</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> eoVyt</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">a7gGg</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">gjXSw</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">ESx2t</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">jv5GF</span><span class="token comment" style="color:#999988;font-style:italic"># replace with your credentials</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">encryptionPassword</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> MqV1c3</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">a7v1g</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">C9Kaw</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">fqwe2t</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">jv55GF </span><span class="token comment" style="color:#999988;font-style:italic"># this password is used to encrypt the user secret retrieved from the HSM, is choosen randomly</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">proxyUser</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> replace</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">me_proxy</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">username </span><span class="token comment" style="color:#999988;font-style:italic"># used for CloudHSM access (proxy)</span><span class="token plain"></span><br></span><span class="token-line theme-code-block-highlighted-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">proxyPassword</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> replace</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">me_proxy</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">password </span><span class="token comment" style="color:#999988;font-style:italic"># used for CloudHSM access (proxy)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">attestationKeyName</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;attestation-key&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">timestampKeyName</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;timestamp-key&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">rfcTimestampKeyName</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;rfcTimestampKeyName&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">maxTimeDifferenceToHsm</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">100</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<table><thead><tr><th><strong>Attributes</strong></th><th><strong>Content description</strong></th></tr></thead><tbody><tr><td>proxyUser</td><td>HSMaaS (Type 2, Type3) only: the name of the service user (proxy), as provided by Securosys</td></tr><tr><td>proxyPassword</td><td>HSMaaS (Type 2, Type3) only: the password of the service user (proxy), as provided by Securosys</td></tr></tbody></table>
<br>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="8-logging">8 Logging<a href="#8-logging" class="hash-link" aria-label="Direct link to 8 Logging" title="Direct link to 8 Logging">​</a></h2>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>Tip</div><div class="admonitionContent_BuS1"><p>This current log configuration <code>config-files\log\logback.yml</code> shows how to write logging information to the console and a file on the host machine located at <code>:~/securosys_tsb/output</code></p></div></div>
<div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-xml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token prolog" style="color:#999988;font-style:italic">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">configuration</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">scan</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">true</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">scanPeriod</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">300 seconds</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token comment" style="color:#999988;font-style:italic">&lt;!-- infrastructure logging (journalctl, docker, IDE output) --&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">appender</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">name</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">CONSOLE</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">class</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">ch.qos.logback.core.ConsoleAppender</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		</span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">withJansi</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">true</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">withJansi</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		</span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">encoder</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">			</span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">charset</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">UTF-8</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">charset</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">			</span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">pattern</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">%d{yyyy.MM.dd HH:mm:ss.SSS} %highlight(%-5.5p) [%15.15t] %cyan([%30.30c]) %X{indent}%m%n</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">pattern</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">encoder</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">appender</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token comment" style="color:#999988;font-style:italic">&lt;!-- history logging, disabled for openshift/docker deployment --&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">appender</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">name</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">FILE</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">class</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">ch.qos.logback.core.rolling.RollingFileAppender</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		</span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">file</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">/etc/app/output/service.log</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">file</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		</span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">append</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">true</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">append</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		</span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">rollingPolicy</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">class</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">ch.qos.logback.core.rolling.TimeBasedRollingPolicy</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">			</span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">fileNamePattern</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">logs/service-%d{yyyy-MM-dd}.log</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">fileNamePattern</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">			</span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">maxHistory</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">13</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">maxHistory</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">			</span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">totalSizeCap</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">100MB</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">totalSizeCap</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">rollingPolicy</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		</span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">encoder</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">			</span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">pattern</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">%d %-5.5p [%15.15t] [%30.30c] %X{indent}%m%n</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">pattern</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">encoder</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">appender</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token comment" style="color:#999988;font-style:italic">&lt;!-- profile --&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token comment" style="color:#999988;font-style:italic">&lt;!-- Uncomment if you want to &quot;debug&quot; the TSB: --&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">logger</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">name</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">com.securosys.ska</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">level</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">INFO</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">logger</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">name</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">net.javacrumbs.shedlock</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">level</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">INFO</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token comment" style="color:#999988;font-style:italic">&lt;!-- Uncomment if you want to &quot;debug&quot; JPA queries: --&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token comment" style="color:#999988;font-style:italic">&lt;!-- &lt;logger name=&quot;org.hibernate.SQL&quot; level=&quot;DEBUG&quot; /&gt; --&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token comment" style="color:#999988;font-style:italic">&lt;!-- &lt;logger name=&quot;org.hibernate.type.descriptor.sql.BasicBinder&quot; level=&quot;TRACE&quot; /&gt; --&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">&lt;!-- channels --&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">root</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">level</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">INFO</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">&lt;!-- set the logging level for all appenders --&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		</span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">appender-ref</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">ref</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">CONSOLE</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		</span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">appender-ref</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">ref</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">FILE</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		</span><span class="token comment" style="color:#999988;font-style:italic">&lt;!-- &lt;appender-ref ref=&quot;SYSLOG&quot; /&gt; --&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		</span><span class="token comment" style="color:#999988;font-style:italic">&lt;!-- &lt;appender-ref ref=&quot;SPLUNK&quot; /&gt; --&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		</span><span class="token comment" style="color:#999988;font-style:italic">&lt;!-- &lt;appender-ref ref=&quot;SplunkHEC&quot; /&gt; --&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		</span><span class="token comment" style="color:#999988;font-style:italic">&lt;!-- &lt;appender-ref ref=&quot;Socket&quot; /&gt; --&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">root</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">configuration</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<table><thead><tr><th><strong>Attributes</strong></th><th><strong>Content description</strong></th></tr></thead><tbody><tr><td>Log level – TRACE</td><td>the lowest level of information, mostly used for very deep code debugging, usually not included in production logs</td></tr><tr><td>Log level - DEBUG</td><td>low level of information used for debugging purposes, usually not included in production logs</td></tr><tr><td>Log level – INFO</td><td>log severity carrying information, like an operation that stared or finished</td></tr><tr><td>Log level - WARN</td><td>log level informing about an event that may require attention, but is not critical and may be expected</td></tr><tr><td>Log level - ERROR</td><td>log level telling that an error, expected or unexpected, usually meaning that part of the system in not working properly</td></tr></tbody></table>
<br>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="9-setting-up-trusted-execution-environment-configuration-optional">9 Setting up Trusted Execution Environment Configuration (Optional)<a href="#9-setting-up-trusted-execution-environment-configuration-optional" class="hash-link" aria-label="Direct link to 9 Setting up Trusted Execution Environment Configuration (Optional)" title="Direct link to 9 Setting up Trusted Execution Environment Configuration (Optional)">​</a></h2>
<p>Securosys Imunes is a confidential computing platform that offers a trusted execution environment (TEE) for secure code execution on tamper-protected hardware. It can be deployed as a single unit or a cluster of multiple TEEs, enabling various use cases focused on scalability, automation, trust, and confidentiality. The TEE ensures the execution of securely loaded and untampered executables, making it ideal for transactional programs and automating trusted decisions at scale. This chapter specifically covers the setup of the Transaction Security Broker within the Trusted Execution Environment. For complete setup instructions, please download the documentation from the Support Portal. If you have any questions or are interested in TEE, please reach out to our support team.</p>
<p>This is done in the application-tee.yml in a <em>new</em> block named tee and general</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">general</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">allowedTimestampSigningCertificates</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># optional, configured certificates can fetch and delete all tasks for an approver</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> file</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">/etc/app/config/approval_certs/TIMESTAMP KEY (IMUNES</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">TSB</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">PM).pem</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">## tee</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">tee</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">approvalInformations</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic"># Identifier for which approver the information is valid</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">approvalCertificate</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;file:/etc/app/config/tee/TEE OUTPUT KEY.pem&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic"># TEE target system, e.g. &#x27;vitosha.securosys.ch&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">host</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token important">**&#x27;vitosha.securosys.ch&#x27;**</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># change to the</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic"># TEE target system port, default is &#x27;8899&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">port</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;2801&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic"># Partition on the TEE target, e.g. &#x27;USER0&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">partition</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> IMUNES</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">TSB</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic"># PEM file with the TLS trust certificate(s).</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">tlsTrustCertificates</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;file:/etc/app/configtee/tls_certificate.pem&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic"># PEM file with the client certificate.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">clientCertificate</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;file:/etc/app/config/tee/client_certificate.pem&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic"># PEM file with the client key.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">clientKey</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;file:/etc/app/config/tee/client_key.pem&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># The interval in which the TEE client should check for approvals, in milliseconds</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">approvalProcessingInterval</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">60000</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">...</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<table><thead><tr><th><strong>Attributes</strong></th><th><strong>Content description</strong></th></tr></thead><tbody><tr><td>allowedTimestampSigningCertificate</td><td>List of configured certificates, which can fetch and delete all tasks for an approver</td></tr><tr><td>approvalCertificate</td><td>Identified for which approver the information is valid</td></tr><tr><td>host</td><td>The host of where Trusted Execution is running on</td></tr><tr><td>port</td><td>The port to be used for trusted execution, default is 2801</td></tr><tr><td>partition</td><td>The Partition which is configured for Trusted Execution Environment</td></tr><tr><td>tlsTrustCertificates</td><td>The Trust certificate issued by TEE deficedevice</td></tr><tr><td>clientCertificate</td><td>The client certificate in PEM format</td></tr><tr><td>clientKey</td><td>The client kKey for mTLS to connect to the TEE device in PEM format</td></tr><tr><td>approvalProcessingInterval</td><td>The interval in which the TEE client should check for approvals, in milisecondsmilliseconds</td></tr></tbody></table>
<br>
<hr>
<h1>10 Docker installation - Linux</h1>
<ul>
<li>Install Docker Engine on Linux</li>
</ul>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">:~/$ </span><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">apt-get</span><span class="token plain"> update</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">:~/$ </span><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">apt-get</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> ca-certificates </span><span class="token function" style="color:#d73a49">curl</span><span class="token plain"> gnupg lsb-release</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">:~/$ </span><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">-m</span><span class="token plain"> 0755 </span><span class="token parameter variable" style="color:#36acaa">-d</span><span class="token plain"> /etc/apt/keyrings</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">:~/$ </span><span class="token function" style="color:#d73a49">curl</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">-fsSL</span><span class="token plain"> https://download.docker.com/linux/ubuntu/gpg </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> gpg </span><span class="token parameter variable" style="color:#36acaa">--dearmor</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">-o</span><span class="token plain"> /etc/apt/keyrings/docker.gpg</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">:~/$ </span><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">chmod</span><span class="token plain"> a+r /etc/apt/keyrings/docker.gpg</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">:~/$ **curl** </span><span class="token parameter variable" style="color:#36acaa">-fsSL</span><span class="token plain"> https://download.docker.com/linux/ubuntu/gpg </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> gpg </span><span class="token parameter variable" style="color:#36acaa">--dearmor</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">-o</span><span class="token plain"> /usr/share/keyrings/docker-archive-keyring.gpg</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">:~/$ </span><span class="token builtin class-name">echo</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;deb [arch=&quot;</span><span class="token variable" style="color:#36acaa">$(</span><span class="token variable" style="color:#36acaa">dpkg --print-architecture</span><span class="token variable" style="color:#36acaa">)</span><span class="token string" style="color:#e3116c">&quot; signed-by=/etc/apt/keyrings/docker.gpg] https://download.docker.com/linux/ubuntu &quot;</span><span class="token variable" style="color:#36acaa">$(</span><span class="token variable builtin class-name" style="color:#36acaa">.</span><span class="token variable" style="color:#36acaa"> /etc/os-release </span><span class="token variable operator" style="color:#393A34">&amp;&amp;</span><span class="token variable" style="color:#36acaa"> </span><span class="token variable builtin class-name" style="color:#36acaa">echo</span><span class="token variable" style="color:#36acaa"> </span><span class="token variable string" style="color:#e3116c">&quot;</span><span class="token variable string variable" style="color:#36acaa">$VERSION</span><span class="token variable string" style="color:#e3116c">\_CODENAME&quot;</span><span class="token variable" style="color:#36acaa">)</span><span class="token string" style="color:#e3116c">&quot; stable&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">tee</span><span class="token plain"> /etc/apt/sources.list.d/docker.list </span><span class="token punctuation" style="color:#393A34">\</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> /dev/null</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">:~/$ </span><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">apt-get</span><span class="token plain"> update</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">:~/$ </span><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">apt-get</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">:~/$ </span><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> **systemctl** </span><span class="token builtin class-name">enable</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">docker</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">:~/$ </span><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> **systemctl** restart </span><span class="token function" style="color:#d73a49">docker</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>Create docker group and assign user, then <strong>logout</strong> and <strong>login</strong> again to take affect on the group changes</li>
</ul>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">:~/$ </span><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">groupadd</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">docker</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">:~/$ </span><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">usermod</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">-aG</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">docker</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">CURRENT_USERNAME_ON_HOST</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">:~/$ </span><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">usermod</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">-aG</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">docker</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">CURRENT_USERNAME_ON_HOST</span><span class="token operator" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>Test Installation</li>
</ul>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">:~/$ </span><span class="token function" style="color:#d73a49">docker</span><span class="token plain"> –version</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">:~/$ </span><span class="token function" style="color:#d73a49">docker-compose</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">-version</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">:~/$ </span><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">docker</span><span class="token plain"> run hello-world</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<br>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="11-testing-and-troubleshooting">11 Testing and Troubleshooting<a href="#11-testing-and-troubleshooting" class="hash-link" aria-label="Direct link to 11 Testing and Troubleshooting" title="Direct link to 11 Testing and Troubleshooting">​</a></h2>
<table><thead><tr><th>**Error **</th><th>**Possible solutions **</th></tr></thead><tbody><tr><td>securosys_tsb container doesn&#x27;t start</td><td>1) Ensure, that mariadb container is running: docker container ls <br> 2) Check container logs for possible configuration/connection issues docker container logs securosys_tsb</td></tr><tr><td>Cannot connect to the TSB API/Swagger</td><td>1. By default, the TSB API is accessible through port 8080, so ensure that your requests are directed to this port unless you have made changes to the configuration. <br>2. Test the local connection to the API by attempting to access it from your browser or Linux console using the command &quot;wget <a href="http://localhost:8080/api" target="_blank" rel="noopener noreferrer">http://localhost:8080/api</a>&quot;. If successful, consider two possible solutions: create a host-only network in VirtualBox to connect from the host to the VirtualBox guest, or check for any firewall settings that may be blocking the connection to the specified port.</td></tr><tr><td><code>Caused by: com.securosys.primus.jce.spi0.SpiException: status: PKCS#11: GENERAL_ERROR; for key attestation-key</code></td><td>You will have to Install and setup Root Key Store, before TSB can create the required keys. <br> Connected with the HSM-Console type: <br><br> <code>hsm_sec_install_rke</code> - Install root key element firmware (root key store and ais20/31-rng) <br><br><code>hsm_sec_setup_rks</code> - Initialize new keys in the root key store</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="111-user-login-to-artifactory-but-fails-due-to-lack-or-misconfiguration-of-credential-store">11.1 User Login to Artifactory but fails due to lack or misconfiguration of credential store.<a href="#111-user-login-to-artifactory-but-fails-due-to-lack-or-misconfiguration-of-credential-store" class="hash-link" aria-label="Direct link to 11.1 User Login to Artifactory but fails due to lack or misconfiguration of credential store." title="Direct link to 11.1 User Login to Artifactory but fails due to lack or misconfiguration of credential store.">​</a></h3>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">:~/securosys_tsb$ </span><span class="token function" style="color:#d73a49">docker</span><span class="token plain"> login securosys.jfrog.io </span><span class="token parameter variable" style="color:#36acaa">-u</span><span class="token plain"> robot.reader.tsb</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Password:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Error saving credentials: error storing credentials - err: </span><span class="token builtin class-name">exit</span><span class="token plain"> status </span><span class="token number" style="color:#36acaa">1</span><span class="token plain">, out: </span><span class="token variable" style="color:#36acaa">`</span><span class="token variable" style="color:#36acaa">Failed to execute child process </span><span class="token variable string" style="color:#e3116c">&quot;dbus-launch&quot;</span><span class="token variable" style="color:#36acaa"> </span><span class="token variable punctuation" style="color:#393A34">(</span><span class="token variable" style="color:#36acaa">No such </span><span class="token variable function" style="color:#d73a49">file</span><span class="token variable" style="color:#36acaa"> or directory</span><span class="token variable punctuation" style="color:#393A34">)</span><span class="token variable" style="color:#36acaa">`</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Solution</strong> : <code>sudo apt install gnupg2 pass</code></p>
<br>
<br>
<h1>Copyright Notice</h1>
<table><thead><tr><th><strong>Copyright Notice</strong></th></tr></thead><tbody><tr><td>Copyright © 2018 - 2024 Securosys SA. All rights reserved. The programs (which include both the software and documentation) contain proprietary information of Securosys SA; they are provided under a license agreement containing restrictions on use and disclosure and are also protected by copyright, patent and other intellectual and industrial property law. Reverse engineering, disassembly or decompilation of the Programs is prohibited. Program documentation is licensed for use solely to support the deployment of the programs and not for any other purpose. The information contained in this document is subject to change without notice. If you find any problems in the documentation, please report them to us in writing. Securosys SA does not warrant that this document is error free and assumes no responsibility for any inaccuracies. Except as may be expressly permitted in your license agreement for these programs, no part of these programs may be reproduced or transmitted in any form or by any means, electronic or mechanical, for any purpose, without the express written permission of Securosys SA. Securosys SA reserves the right to change, modify, transfer, or otherwise revise this publication without notice.Copyright © 2020 Securosys SA. All rights reserved.All information is subject to change without notice. Securosys SA assumes no responsibility for any inaccuracies in this document or for any obligation to update information in this document. Securosys SA reserves the right to change, modify, transfer, or otherwise revise this publication without notice.</td></tr></tbody></table></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"></div><div class="col lastUpdated_JAkA"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2025-03-05T08:08:52.000Z" itemprop="dateModified">Mar 5, 2025</time></b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/tsb/category/installation"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Installation</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/tsb/Installation/hsm-device-setup-tsb"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Primus HSM Setup</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#notification-and-symbols" class="table-of-contents__link toc-highlight">Notification and Symbols</a></li><li><a href="#support-contacts" class="table-of-contents__link toc-highlight">Support Contacts</a></li><li><a href="#abbreviations" class="table-of-contents__link toc-highlight">Abbreviations</a></li><li><a href="#51-download-configuration-files" class="table-of-contents__link toc-highlight">5.1 Download Configuration Files</a><ul><li><a href="#511-docker-composeyml" class="table-of-contents__link toc-highlight">5.1.1 docker-compose.yml</a></li><li><a href="#512-application-localyml" class="table-of-contents__link toc-highlight">5.1.2 application-local.yml</a></li><li><a href="#513-application-local-access-tokenyml" class="table-of-contents__link toc-highlight">5.1.3 application-local-access-token.yml</a></li><li><a href="#514-application-external-keystoreyml" class="table-of-contents__link toc-highlight">5.1.4 application-external-keystore.yml</a></li></ul></li><li><a href="#61-run-container" class="table-of-contents__link toc-highlight">6.1 Run Container</a></li><li><a href="#62-testing" class="table-of-contents__link toc-highlight">6.2 Testing</a></li><li><a href="#63-sample-application-startup" class="table-of-contents__link toc-highlight">6.3 Sample Application startup</a></li><li><a href="#64-connection-setup---onpremise" class="table-of-contents__link toc-highlight">6.4 Connection Setup - OnPremise</a></li><li><a href="#65-connection-setup---cloudhsm" class="table-of-contents__link toc-highlight">6.5 Connection Setup - CloudHSM</a></li><li><a href="#7-example-of-setting-up-proxy-service-for-hsmaas" class="table-of-contents__link toc-highlight">7 Example of Setting up Proxy Service for HSMaaS</a></li><li><a href="#8-logging" class="table-of-contents__link toc-highlight">8 Logging</a></li><li><a href="#9-setting-up-trusted-execution-environment-configuration-optional" class="table-of-contents__link toc-highlight">9 Setting up Trusted Execution Environment Configuration (Optional)</a></li><li><a href="#11-testing-and-troubleshooting" class="table-of-contents__link toc-highlight">11 Testing and Troubleshooting</a><ul><li><a href="#111-user-login-to-artifactory-but-fails-due-to-lack-or-misconfiguration-of-credential-store" class="table-of-contents__link toc-highlight">11.1 User Login to Artifactory but fails due to lack or misconfiguration of credential store.</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Products</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.securosys.com/en/hsm/what-is-an-hsm" target="_blank" rel="noopener noreferrer" class="footer__link-item">PrimusHSM (On-prem)</a></li><li class="footer__item"><a class="footer__link-item" href="/cloudhsm/overview">CloudHSM</a></li><li class="footer__item"><a href="https://www.securosys.com/en/solution/dke-microsoft365" target="_blank" rel="noopener noreferrer" class="footer__link-item">Securosys 365 - DKE</a></li><li class="footer__item"><a class="footer__link-item" href="/tsb/Tutorials/TransactionSecurityBroker/smart-key-attributes">Smart Key Attributes (SKA)</a></li><li class="footer__item"><a href="https://www.securosys.com/en/key-attestation-by-securosys" target="_blank" rel="noopener noreferrer" class="footer__link-item">Key Attestation</a></li><li class="footer__item"><a class="footer__link-item" href="/AuthorizationApp/overview">Authorization Mobile App</a></li></ul></div><div class="col footer__col"><div class="footer__title">API Reference</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/tsb/overview">Rest-API</a></li><li class="footer__item"><a class="footer__link-item" href="/pkcs/overview">PKCS#11</a></li><li class="footer__item"><a class="footer__link-item" href="/jce/overview">JCE / JCA</a></li><li class="footer__item"><a class="footer__link-item" href="/mscng/overview">Microsoft CNG</a></li><li class="footer__item"><a class="footer__link-item" href="/openssl/overview">OpenSSL</a></li><li class="footer__item"><a class="footer__link-item" href="/primus-tools/overview">Securosys Primus Tools</a></li></ul></div><div class="col footer__col"><div class="footer__title">Integrations</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/integrations">View all (30+)</a></li><li class="footer__item"><a class="footer__link-item" href="/ms-pki-adcs/overview">Microsoft AD CS</a></li><li class="footer__item"><a class="footer__link-item" href="/docker_signing/overview">Docker Image Signing</a></li><li class="footer__item"><a class="footer__link-item" href="/hc_sse/overview">HashiCorp Vault</a></li><li class="footer__item"><a class="footer__link-item" href="/cyberark/overview">CyberArk PAM</a></li><li class="footer__item"><a class="footer__link-item" href="/fortigate/overview">Fortigate Fortinet</a></li></ul></div><div class="col footer__col"><div class="footer__title">Company</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.securosys.com/en/about" target="_blank" rel="noopener noreferrer" class="footer__link-item">Who are we?</a></li><li class="footer__item"><a href="https://www.securosys.com/securosys-partner-directory" target="_blank" rel="noopener noreferrer" class="footer__link-item">Partners</a></li><li class="footer__item"><a href="https://www.securosys.com/en/events" target="_blank" rel="noopener noreferrer" class="footer__link-item">Events</a></li><li class="footer__item"><a href="https://www.securosys.com/en/contact" target="_blank" rel="noopener noreferrer" class="footer__link-item">Contact Us</a></li><li class="footer__item"><a href="https://support.securosys.com/external" target="_blank" rel="noopener noreferrer" class="footer__link-item">Support</a></li><li class="footer__item"><icon icon="fa-brands fa-github" size="sm"></li><li class="footer__item"><a href="https://github.com/securosys-com" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li></ul></div><div class="col footer__col"><div class="footer__title">CloudHSM</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/cloudhsm/overview">What is CloudHSM?</a></li><li class="footer__item"><a class="footer__link-item" href="/cloudhsm/GettingStarted/activation_process">Getting started</a></li><li class="footer__item"><a class="footer__link-item" href="/connectivity-details/overview">HSM Connectivity</a></li><li class="footer__item"><a class="footer__link-item" href="/cloudhsm/Overview/compliance">Compliance</a></li><li class="footer__item"><a href="https://cloud.securosys.com/cloudhsm/" target="_blank" rel="noopener noreferrer" class="footer__link-item">90-day free trial</a></li><li class="footer__item"><a href="https://status.cloudshsm.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Status Page</a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><img src="/img/Logo - Subbrand - Docs - White.svg" alt="Securosys SA Logo" class="footer__logo themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/Logo - Subbrand - Docs - White.svg" alt="Securosys SA Logo" class="footer__logo themedComponent_mlkZ themedComponent--dark_xIcU"></div><div class="footer__copyright">Copyright © 2025 Securosys SA • Built with Docusaurus • <a style="display: contents!important; color: white;" href="https://docs-dev.securosys.com/cloudhsm/category/terms-and-conditions">Terms</a> • <a target="_blank" style="display: contents!important; color: white;" href="https://www.securosys.com/en/about/privacy-policy-by-securosys">Privacy</a> </div></div></div></footer></div>
<script type="module" src="https://cdn.jsdelivr.net/npm/pushfeedback@0.1.52/dist/pushfeedback/pushfeedback.esm.js"></script>
<script>const feedbackButton=document.createElement("feedback-button");feedbackButton.setAttribute("project","3tw49na6zq"),feedbackButton.setAttribute("modal-position","sidebar-right"),feedbackButton.setAttribute("button-style","dark"),feedbackButton.setAttribute("button-position","center-right"),feedbackButton.setAttribute("version","0.1.52"),feedbackButton.setAttribute("id","default"),feedbackButton.textContent="Feedback",document.body.appendChild(feedbackButton)</script>
<script type="module" src="https://cdn.jsdelivr.net/npm/biel-search@0.1.25/dist/biel-search/biel-search.esm.js"></script>
<script>const bielButton=document.createElement("biel-button");bielButton.setAttribute("project","9ttjyso6y1"),bielButton.setAttribute("modal-position","bottom-right"),bielButton.setAttribute("button-style","dark"),bielButton.setAttribute("button-position","bottom-right"),bielButton.setAttribute("header-title","Securosys - Docs | chatbot"),bielButton.setAttribute("id","default"),bielButton.textContent="Need help?",document.body.appendChild(bielButton)</script></body>
</html>