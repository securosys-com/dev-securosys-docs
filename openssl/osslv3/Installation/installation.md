---
sidebar_position: 2
title: Installing PKCS#11 Provider API for OpenSSL 3
sidebar_label: Installation
description: Discover OpenSSL's PKCS11 provider, CLI commands, installation tips, and troubleshooting. Integrate seamlessly with HSM for enhanced security.
keywords: [OpenSSL PKCS11 provider, OpenSSL PKCS11 API, OpenSSL command line utility (CLI), OpenSSL CLI commands, OpenSSL installation guide, OpenSSL installation troubleshooting, OpenSSL troubleshooting tips, OpenSSL certificate management, OpenSSL certificate creation, OpenSSL certificate renewal, OpenSSL configuration file, OpenSSL configuration options, OpenSSL configuration guide, OpenSSL encryption algorithms, OpenSSL decryption methods, OpenSSL digital signatures, OpenSSL SSL/TLS protocols, OpenSSL SSL/TLS configuration, OpenSSL heartbleed vulnerability, OpenSSL security updates]
tags: [OpenSSL,PKCS#11]
---

<!-- KEEP H1 EMPTY TO OVERWRITE THE TITLE WITH NEXT H2 -->
# Installing PKCS#11 for OpenSSL v3

Download the package containing the pre-compiled [OpenSSL
pkcs11-provider][download] (login required). Extract the provider and move the files to
a suitable directory. The path used throughout this documentation is
```/usr/local/lib/ossl-modules/```. The provider location has to be
specified in the OpenSSL configuration. That means that the location
does not matter as long as the user of the OpenSSL tool can access it.

1. Download the bundle and extract its content to `/tmp/securosys`
   ```bash
   P11_PROV_VERSION=latest
   CRED=<USERNAME:PASSWORD>

   curl -L -XGET "https://${CRED}@securosys.jfrog.io/artifactory/opensslv3-pkcs11/${P11_PROV_VERSION}/Securosys_PrimusAPI_OSSLv3-Provider-PKCS11-${P11_PROV_VERSION}.zip" -o Securosys_PrimusAPI_OSSLv3-Provider-PKCS11-${P11_PROV_VERSION}.zip
   unzip Securosys_PrimusAPI_OSSLv3-Provider-PKCS11-${P11_PROV_VERSION}.zip -d /tmp/securosys
   ```

1. Extract the library files to ```/usr/local/lib/ossl-modules/```
   ```bash
   unzip /tmp/securosys/securosys_primusapi_osslv3-provider-pkcs11-executable-${P11_PROV_VERSION}.zip -d /tmp/securosys/
   sudo mkdir -p /usr/local/lib/ossl-modules
   sudo unzip -j /tmp/securosys/PrimusAPI_OSSLv3-Provider-PKCS11-${P11_PROV_VERSION}-rhel8_amd64.zip -d /usr/local/lib/ossl-modules/
   ```
   <!-- PrimusAPI_OSSLv3-Provider-PKCS11-v0.3+32.gf3d6bab-rhel8_amd64.zip -->
   <!-- sudo unzip -j /tmp/securosys/PrimusAPI_OSSLv3-Provider-PKCS11-${P11_PROV_VERSION}-linux_amd64.zip -d /usr/local/lib/ossl-modules/  does not apply to all -->
   <!-- sudo dpkg -i /tmp/securosys/PrimusAPI_OSSLv3-Provider-PKCS11-${P11_PROV_VERSION}-debian10_amd64.deb -->

    :::tip
    When using the version label "latest", the final unzip command will fail if the files in the first archive include a different version tag. 
    Replace "-rhel8_amd64.zip" with your platform and architecture specific package.

    Avoid using the packages, as they will install to `/usr/lib/osslmodules` and may be replaced by an incompatible "latchset" update!
    :::

3. Change the owner and permissions of the extracted files
   ```bash
   sudo chown root:primus /usr/local/lib/ossl-modules/pkcs11.{so,la}
   sudo chmod 444 /usr/local/lib/ossl-modules/pkcs11.{so,la}
   ```
   <!-- sudo chown root:primus /usr/local/lib/ossl-modules/pkcs11.{so,la,license}
   sudo chmod 444 /usr/local/lib/ossl-modules/pkcs11.{so,la,license} -->

:::tip

If you **built OpenSSL yourself** following the instructions in the
[prerequisites page](/openssl/osslv3/Installation/prerequisites#build-from-source), you can place the
pkcs11-provider files with the built-in providers in the
_/opt/openssl-\$\{OPENSSL\_VERSION\}/lib/ossl-modules_ directory.

:::

**Files**

The package with the pre-compiled binaries contains the following files:

| File           | Description                                                           |
|----------------|-----------------------------------------------------------------------|
| pkcs11.so      | Dynamically-linked shared object. This file is loaded by OpenSSL      |
| pkcs11.la      | Libtool library file. Description of the library generated by libtool |
| pkcs11.license | Copy of the license                                                   |

[download]: /openssl/osslv3/downloads
[prereq-openssl]: /openssl/osslv3/Installation/Prerequisites/openssl3

## Further content

- [Configuration](/openssl/osslv3/Installation/configuration)
- [Generate a key with OpenSSL](/openssl/osslv3/Tutorial/openssl_cli)
- [Troubleshooting](../Tutorial/troubleshooting)
